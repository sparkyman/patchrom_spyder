*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/net/NetworkStatsService.smali	2012-03-23 19:35:07.692727163 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/net/NetworkStatsService.smali.original	2012-03-23 19:34:47.303355367 -0500
***************
*** 191,196 ****
--- 191,197 ----
      .parameter "alarmManager"
  
      .prologue
+     .line 235
      invoke-static {p1}, Landroid/util/NtpTrustedTime;->getInstance(Landroid/content/Context;)Landroid/util/NtpTrustedTime;
  
      move-result-object v4
***************
*** 213,218 ****
--- 214,220 ----
  
      invoke-direct/range {v0 .. v6}, Lcom/android/server/net/NetworkStatsService;-><init>(Landroid/content/Context;Landroid/os/INetworkManagementService;Landroid/app/IAlarmManager;Landroid/util/TrustedTime;Ljava/io/File;Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;)V
  
+     .line 237
      return-void
  .end method
  
***************
*** 228,275 ****
--- 230,287 ----
      .prologue
      const/4 v5, 0x0
  
+     .line 245
      invoke-direct {p0}, Landroid/net/INetworkStatsService$Stub;-><init>()V
  
+     .line 195
      new-instance v1, Ljava/lang/Object;
  
      invoke-direct {v1}, Ljava/lang/Object;-><init>()V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
+     .line 198
      invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;
  
      move-result-object v1
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
+     .line 200
      invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;
  
      move-result-object v1
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
+     .line 202
      invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;
  
      move-result-object v1
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
+     .line 204
      invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;
  
      move-result-object v1
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
+     .line 207
      iput-boolean v5, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkStatsLoaded:Z
  
+     .line 209
      iput-boolean v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
  
+     .line 221
      new-instance v1, Landroid/util/SparseIntArray;
  
      invoke-direct {v1}, Landroid/util/SparseIntArray;-><init>()V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mActiveUidCounterSet:Landroid/util/SparseIntArray;
  
+     .line 224
      new-instance v1, Landroid/net/NetworkStats;
  
      const-wide/16 v2, 0x0
***************
*** 280,339 ****
--- 292,362 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mOperations:Landroid/net/NetworkStats;
  
+     .line 607
      new-instance v1, Lcom/android/server/net/NetworkStatsService$1;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$1;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mConnReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 619
      new-instance v1, Lcom/android/server/net/NetworkStatsService$2;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$2;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mTetherReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 628
      new-instance v1, Lcom/android/server/net/NetworkStatsService$3;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$3;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mPollReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 640
      new-instance v1, Lcom/android/server/net/NetworkStatsService$4;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$4;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mRemovedReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 657
      new-instance v1, Lcom/android/server/net/NetworkStatsService$5;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$5;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mShutdownReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 670
      new-instance v1, Lcom/android/server/net/NetworkStatsService$6;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$6;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mAlertObserver:Landroid/net/INetworkManagementEventObserver;
  
+     .line 688
      const/4 v1, -0x1
  
      iput v1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneState:I
  
+     .line 689
      iput v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneNetworkType:I
  
+     .line 695
      new-instance v1, Lcom/android/server/net/NetworkStatsService$7;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$7;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mPhoneListener:Landroid/telephony/PhoneStateListener;
  
+     .line 1623
      new-instance v1, Lcom/android/server/net/NetworkStatsService$8;
  
      invoke-direct {v1, p0}, Lcom/android/server/net/NetworkStatsService$8;-><init>(Lcom/android/server/net/NetworkStatsService;)V
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mHandlerCallback:Landroid/os/Handler$Callback;
  
+     .line 246
      const-string v1, "missing Context"
  
      invoke-static {p1, v1}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 344,349 ****
--- 367,373 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
+     .line 247
      const-string v1, "missing INetworkManagementService"
  
      invoke-static {p2, v1}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 354,359 ****
--- 378,384 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
+     .line 248
      const-string v1, "missing IAlarmManager"
  
      invoke-static {p3, v1}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 364,369 ****
--- 389,395 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mAlarmManager:Landroid/app/IAlarmManager;
  
+     .line 249
      const-string v1, "missing TrustedTime"
  
      invoke-static {p4, v1}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 374,379 ****
--- 400,406 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mTime:Landroid/util/TrustedTime;
  
+     .line 250
      invoke-static {}, Landroid/telephony/TelephonyManager;->getDefault()Landroid/telephony/TelephonyManager;
  
      move-result-object v1
***************
*** 388,393 ****
--- 415,421 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mTeleManager:Landroid/telephony/TelephonyManager;
  
+     .line 251
      const-string v1, "missing NetworkStatsSettings"
  
      invoke-static {p6, v1}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 398,403 ****
--- 426,432 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
+     .line 253
      const-string v1, "power"
  
      invoke-virtual {p1, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
***************
*** 406,411 ****
--- 435,441 ----
  
      check-cast v0, Landroid/os/PowerManager;
  
+     .line 255
      .local v0, powerManager:Landroid/os/PowerManager;
      const/4 v1, 0x1
  
***************
*** 417,422 ****
--- 447,453 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
+     .line 257
      new-instance v1, Landroid/os/HandlerThread;
  
      const-string v2, "NetworkStats"
***************
*** 425,434 ****
--- 456,467 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mHandlerThread:Landroid/os/HandlerThread;
  
+     .line 258
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mHandlerThread:Landroid/os/HandlerThread;
  
      invoke-virtual {v1}, Landroid/os/HandlerThread;->start()V
  
+     .line 259
      new-instance v1, Landroid/os/Handler;
  
      iget-object v2, p0, Lcom/android/server/net/NetworkStatsService;->mHandlerThread:Landroid/os/HandlerThread;
***************
*** 443,448 ****
--- 476,482 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mHandler:Landroid/os/Handler;
  
+     .line 261
      new-instance v1, Lcom/android/internal/os/AtomicFile;
  
      new-instance v2, Ljava/io/File;
***************
*** 455,460 ****
--- 489,495 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevFile:Lcom/android/internal/os/AtomicFile;
  
+     .line 262
      new-instance v1, Lcom/android/internal/os/AtomicFile;
  
      new-instance v2, Ljava/io/File;
***************
*** 467,472 ****
--- 502,508 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtFile:Lcom/android/internal/os/AtomicFile;
  
+     .line 263
      new-instance v1, Lcom/android/internal/os/AtomicFile;
  
      new-instance v2, Ljava/io/File;
***************
*** 479,484 ****
--- 515,521 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mUidFile:Lcom/android/internal/os/AtomicFile;
  
+     .line 264
      return-void
  .end method
  
***************
*** 487,492 ****
--- 524,530 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->updateIfaces()V
  
      return-void
***************
*** 498,503 ****
--- 536,542 ----
      .parameter "x1"
  
      .prologue
+     .line 128
      invoke-direct {p0, p1}, Lcom/android/server/net/NetworkStatsService;->performPoll(I)V
  
      return-void
***************
*** 508,513 ****
--- 547,553 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget v0, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneNetworkType:I
  
      return v0
***************
*** 519,524 ****
--- 559,565 ----
      .parameter "x1"
  
      .prologue
+     .line 128
      iput p1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneNetworkType:I
  
      return p1
***************
*** 529,534 ****
--- 570,576 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->registerGlobalAlert()V
  
      return-void
***************
*** 539,544 ****
--- 581,587 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      return-object v0
***************
*** 549,554 ****
--- 592,598 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
      return-object v0
***************
*** 560,565 ****
--- 604,610 ----
      .parameter "x1"
  
      .prologue
+     .line 128
      invoke-direct {p0, p1}, Lcom/android/server/net/NetworkStatsService;->removeUidLocked(I)V
  
      return-void
***************
*** 570,575 ****
--- 615,621 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->shutdownLocked()V
  
      return-void
***************
*** 580,585 ****
--- 626,632 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      return-object v0
***************
*** 590,595 ****
--- 637,643 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mHandler:Landroid/os/Handler;
  
      return-object v0
***************
*** 600,605 ****
--- 648,654 ----
      .parameter "x0"
  
      .prologue
+     .line 128
      iget v0, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneState:I
  
      return v0
***************
*** 611,616 ****
--- 660,666 ----
      .parameter "x1"
  
      .prologue
+     .line 128
      iput p1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPhoneState:I
  
      return p1
***************
*** 620,625 ****
--- 670,676 ----
      .locals 5
  
      .prologue
+     .line 778
      :try_start_0
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
***************
*** 631,636 ****
--- 682,688 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
+     .line 779
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
      invoke-interface {v1}, Landroid/os/INetworkManagementService;->getNetworkStatsSummary()Landroid/net/NetworkStats;
***************
*** 639,644 ****
--- 691,697 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkDevSnapshot:Landroid/net/NetworkStats;
  
+     .line 780
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
      invoke-static {v1}, Lcom/android/server/net/NetworkStatsService;->computeNetworkXtSnapshotFromUid(Landroid/net/NetworkStats;)Landroid/net/NetworkStats;
***************
*** 647,652 ****
--- 700,706 ----
  
      iput-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkXtSnapshot:Landroid/net/NetworkStats;
  
+     .line 781
      new-instance v1, Landroid/net/NetworkStats;
  
      const-wide/16 v2, 0x0
***************
*** 660,671 ****
--- 714,728 ----
      .catch Ljava/lang/IllegalStateException; {:try_start_0 .. :try_end_0} :catch_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_1
  
+     .line 787
      :goto_0
      return-void
  
+     .line 782
      :catch_0
      move-exception v0
  
+     .line 783
      .local v0, e:Ljava/lang/IllegalStateException;
      const-string v1, "NetworkStats"
  
***************
*** 691,696 ****
--- 748,754 ----
  
      goto :goto_0
  
+     .line 784
      .end local v0           #e:Ljava/lang/IllegalStateException;
      :catch_1
      move-exception v1
***************
*** 703,708 ****
--- 761,767 ----
      .parameter "uidSnapshot"
  
      .prologue
+     .line 1595
      invoke-virtual {p0}, Landroid/net/NetworkStats;->groupedByIface()Landroid/net/NetworkStats;
  
      move-result-object v0
***************
*** 722,729 ****
--- 781,790 ----
  
      const/16 v6, 0xa
  
+     .line 1548
      if-eqz p1, :cond_1
  
+     .line 1550
      const/4 v3, 0x0
  
      :try_start_0
***************
*** 733,747 ****
--- 794,811 ----
  
      move-result-object p2
  
+     .line 1576
      .end local p2
      :cond_0
      :goto_0
      return-object p2
  
+     .line 1551
      .restart local p2
      :catch_0
      move-exception v1
  
+     .line 1552
      .local v1, e:Landroid/net/NetworkStats$NonMonotonicException;
      const-string v3, "NetworkStats"
  
***************
*** 749,758 ****
--- 813,824 ----
  
      invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1555
      new-instance v0, Ljava/lang/StringBuilder;
  
      invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
  
+     .line 1556
      .local v0, builder:Ljava/lang/StringBuilder;
      new-instance v3, Ljava/lang/StringBuilder;
  
***************
*** 804,809 ****
--- 870,876 ----
  
      invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
  
+     .line 1558
      const-string v3, "left="
  
      invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
***************
*** 818,823 ****
--- 885,891 ----
  
      invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1559
      const-string v3, "right="
  
      invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
***************
*** 832,837 ****
--- 900,906 ----
  
      invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1560
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mDropBox:Landroid/os/DropBoxManager;
  
      const-string v4, "netstats_error"
***************
*** 842,847 ****
--- 911,917 ----
  
      invoke-virtual {v3, v4, v5}, Landroid/os/DropBoxManager;->addText(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1564
      const/4 v3, 0x1
  
      :try_start_1
***************
*** 853,861 ****
--- 923,933 ----
  
      goto :goto_0
  
+     .line 1565
      :catch_1
      move-exception v2
  
+     .line 1566
      .local v2, e1:Landroid/net/NetworkStats$NonMonotonicException;
      const-string v3, "NetworkStats"
  
***************
*** 863,868 ****
--- 935,941 ----
  
      invoke-static {v3, v4, v2}, Landroid/util/Log;->wtf(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1567
      new-instance p2, Landroid/net/NetworkStats;
  
      .end local p2
***************
*** 870,875 ****
--- 943,949 ----
  
      goto :goto_0
  
+     .line 1570
      .end local v0           #builder:Ljava/lang/StringBuilder;
      .end local v1           #e:Landroid/net/NetworkStats$NonMonotonicException;
      .end local v2           #e1:Landroid/net/NetworkStats$NonMonotonicException;
***************
*** 877,882 ****
--- 951,957 ----
      :cond_1
      if-nez p3, :cond_0
  
+     .line 1576
      new-instance p2, Landroid/net/NetworkStats;
  
      .end local p2
***************
*** 889,904 ****
--- 964,983 ----
      .locals 1
  
      .prologue
+     .line 1183
      iget-boolean v0, p0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
  
      if-nez v0, :cond_0
  
+     .line 1184
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->readUidStatsLocked()V
  
+     .line 1185
      const/4 v0, 0x1
  
      iput-boolean v0, p0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
  
+     .line 1187
      :cond_0
      return-void
  .end method
***************
*** 907,912 ****
--- 986,992 ----
      .locals 4
  
      .prologue
+     .line 1599
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
      invoke-interface {v0}, Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;->getNetworkMaxHistory()J
***************
*** 932,937 ****
--- 1012,1018 ----
      .parameter "newBucketDuration"
  
      .prologue
+     .line 1607
      invoke-virtual {p0}, Landroid/net/NetworkStatsHistory;->size()I
  
      move-result v0
***************
*** 955,960 ****
--- 1036,1042 ----
      .locals 4
  
      .prologue
+     .line 1603
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
      invoke-interface {v0}, Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;->getUidMaxHistory()J
***************
*** 979,984 ****
--- 1061,1067 ----
      .parameter "ident"
  
      .prologue
+     .line 1080
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      invoke-direct {p0, p1, v0}, Lcom/android/server/net/NetworkStatsService;->findOrCreateNetworkStatsLocked(Lcom/android/server/net/NetworkIdentitySet;Ljava/util/HashMap;)Landroid/net/NetworkStatsHistory;
***************
*** 1006,1011 ****
--- 1089,1095 ----
      .end annotation
  
      .prologue
+     .line 1085
      .local p2, source:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      invoke-virtual {p2, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
  
***************
*** 1013,1018 ****
--- 1097,1103 ----
  
      check-cast v2, Landroid/net/NetworkStatsHistory;
  
+     .line 1088
      .local v2, existing:Landroid/net/NetworkStatsHistory;
      iget-object v4, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
***************
*** 1020,1031 ****
--- 1105,1119 ----
  
      move-result-wide v0
  
+     .line 1089
      .local v0, bucketDuration:J
      const/4 v3, 0x0
  
+     .line 1090
      .local v3, updated:Landroid/net/NetworkStatsHistory;
      if-nez v2, :cond_1
  
+     .line 1091
      new-instance v3, Landroid/net/NetworkStatsHistory;
  
      .end local v3           #updated:Landroid/net/NetworkStatsHistory;
***************
*** 1033,1049 ****
--- 1121,1141 ----
  
      invoke-direct {v3, v0, v1, v4}, Landroid/net/NetworkStatsHistory;-><init>(JI)V
  
+     .line 1098
      .restart local v3       #updated:Landroid/net/NetworkStatsHistory;
      :cond_0
      :goto_0
      if-eqz v3, :cond_2
  
+     .line 1099
      invoke-virtual {p2, p1, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 1102
      .end local v3           #updated:Landroid/net/NetworkStatsHistory;
      :goto_1
      return-object v3
  
+     .line 1092
      .restart local v3       #updated:Landroid/net/NetworkStatsHistory;
      :cond_1
      invoke-virtual {v2}, Landroid/net/NetworkStatsHistory;->getBucketDuration()J
***************
*** 1054,1059 ****
--- 1146,1152 ----
  
      if-eqz v4, :cond_0
  
+     .line 1093
      new-instance v3, Landroid/net/NetworkStatsHistory;
  
      .end local v3           #updated:Landroid/net/NetworkStatsHistory;
***************
*** 1063,1068 ****
--- 1156,1162 ----
  
      invoke-direct {v3, v0, v1, v4}, Landroid/net/NetworkStatsHistory;-><init>(JI)V
  
+     .line 1095
      .restart local v3       #updated:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v3, v2}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
***************
*** 1071,1076 ****
--- 1165,1171 ----
      :cond_2
      move-object v3, v2
  
+     .line 1102
      goto :goto_1
  .end method
  
***************
*** 1079,1084 ****
--- 1174,1180 ----
      .parameter "ident"
  
      .prologue
+     .line 1076
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-direct {p0, p1, v0}, Lcom/android/server/net/NetworkStatsService;->findOrCreateNetworkStatsLocked(Lcom/android/server/net/NetworkIdentitySet;Ljava/util/HashMap;)Landroid/net/NetworkStatsHistory;
***************
*** 1096,1107 ****
--- 1192,1206 ----
      .parameter "tag"
  
      .prologue
+     .line 1108
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 1110
      new-instance v3, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
      invoke-direct {v3, p1, p2, p3, p4}, Lcom/android/server/net/NetworkStatsService$UidStatsKey;-><init>(Lcom/android/server/net/NetworkIdentitySet;III)V
  
+     .line 1111
      .local v3, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 1111,1116 ****
--- 1210,1216 ----
  
      check-cast v2, Landroid/net/NetworkStatsHistory;
  
+     .line 1114
      .local v2, existing:Landroid/net/NetworkStatsHistory;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
***************
*** 1118,1129 ****
--- 1218,1232 ----
  
      move-result-wide v0
  
+     .line 1115
      .local v0, bucketDuration:J
      const/4 v4, 0x0
  
+     .line 1116
      .local v4, updated:Landroid/net/NetworkStatsHistory;
      if-nez v2, :cond_1
  
+     .line 1117
      new-instance v4, Landroid/net/NetworkStatsHistory;
  
      .end local v4           #updated:Landroid/net/NetworkStatsHistory;
***************
*** 1131,1149 ****
--- 1234,1256 ----
  
      invoke-direct {v4, v0, v1, v5}, Landroid/net/NetworkStatsHistory;-><init>(JI)V
  
+     .line 1124
      .restart local v4       #updated:Landroid/net/NetworkStatsHistory;
      :cond_0
      :goto_0
      if-eqz v4, :cond_2
  
+     .line 1125
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v5, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 1128
      .end local v4           #updated:Landroid/net/NetworkStatsHistory;
      :goto_1
      return-object v4
  
+     .line 1118
      .restart local v4       #updated:Landroid/net/NetworkStatsHistory;
      :cond_1
      invoke-virtual {v2}, Landroid/net/NetworkStatsHistory;->getBucketDuration()J
***************
*** 1154,1159 ****
--- 1261,1267 ----
  
      if-eqz v5, :cond_0
  
+     .line 1119
      new-instance v4, Landroid/net/NetworkStatsHistory;
  
      .end local v4           #updated:Landroid/net/NetworkStatsHistory;
***************
*** 1163,1168 ****
--- 1271,1277 ----
  
      invoke-direct {v4, v0, v1, v5}, Landroid/net/NetworkStatsHistory;-><init>(JI)V
  
+     .line 1121
      .restart local v4       #updated:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v4, v2}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
***************
*** 1171,1176 ****
--- 1280,1286 ----
      :cond_2
      move-object v4, v2
  
+     .line 1128
      goto :goto_1
  .end method
  
***************
*** 1181,1186 ****
--- 1291,1297 ----
      .end annotation
  
      .prologue
+     .line 1467
      const/4 v11, 0x1
  
      aget-object v11, p1, v11
***************
*** 1189,1194 ****
--- 1300,1306 ----
  
      move-result-wide v42
  
+     .line 1468
      .local v42, totalBytes:J
      const/4 v11, 0x2
  
***************
*** 1198,1203 ****
--- 1310,1316 ----
  
      move-result-wide v44
  
+     .line 1470
      .local v44, totalTime:J
      move-object/from16 v0, p0
  
***************
*** 1207,1217 ****
--- 1320,1332 ----
  
      move-result-object v37
  
+     .line 1471
      .local v37, pm:Landroid/content/pm/PackageManager;
      invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;
  
      move-result-object v41
  
+     .line 1472
      .local v41, specialUidList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Integer;>;"
      const/16 v30, 0x3
  
***************
*** 1225,1230 ****
--- 1340,1346 ----
  
      if-ge v0, v11, :cond_0
  
+     .line 1474
      :try_start_0
      aget-object v11, p1, v30
  
***************
*** 1248,1260 ****
--- 1364,1379 ----
      :try_end_0
      .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 1472
      add-int/lit8 v30, v30, 0x1
  
      goto :goto_0
  
+     .line 1475
      :catch_0
      move-exception v27
  
+     .line 1476
      .local v27, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      new-instance v11, Ljava/lang/RuntimeException;
  
***************
*** 1264,1275 ****
--- 1383,1396 ----
  
      throw v11
  
+     .line 1480
      .end local v27           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      :cond_0
      invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;
  
      move-result-object v36
  
+     .line 1481
      .local v36, otherUidSet:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/Integer;>;"
      const/4 v11, 0x0
  
***************
*** 1298,1303 ****
--- 1419,1425 ----
  
      check-cast v34, Landroid/content/pm/ApplicationInfo;
  
+     .line 1482
      .local v34, info:Landroid/content/pm/ApplicationInfo;
      const-string v11, "android.permission.INTERNET"
  
***************
*** 1329,1334 ****
--- 1451,1457 ----
  
      if-nez v11, :cond_1
  
+     .line 1484
      move-object/from16 v0, v34
  
      iget v11, v0, Landroid/content/pm/ApplicationInfo;->uid:I
***************
*** 1343,1362 ****
--- 1466,1489 ----
  
      goto :goto_1
  
+     .line 1488
      .end local v34           #info:Landroid/content/pm/ApplicationInfo;
      :cond_2
      new-instance v35, Ljava/util/ArrayList;
  
      invoke-direct/range {v35 .. v36}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V
  
+     .line 1490
      .local v35, otherUidList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Integer;>;"
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v6
  
+     .line 1491
      .local v6, end:J
      sub-long v4, v6, v44
  
+     .line 1493
      .local v4, start:J
      move-object/from16 v0, p0
  
***************
*** 1364,1385 ****
--- 1491,1516 ----
  
      invoke-virtual {v11}, Ljava/util/HashMap;->clear()V
  
+     .line 1494
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-virtual {v11}, Ljava/util/HashMap;->clear()V
  
+     .line 1495
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v11}, Ljava/util/HashMap;->clear()V
  
+     .line 1497
      new-instance v38, Ljava/util/Random;
  
      invoke-direct/range {v38 .. v38}, Ljava/util/Random;-><init>()V
  
+     .line 1498
      .local v38, r:Ljava/util/Random;
      move-object/from16 v0, p0
  
***************
*** 1407,1412 ****
--- 1538,1544 ----
  
      check-cast v33, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1499
      .local v33, ident:Lcom/android/server/net/NetworkIdentitySet;
      move-object/from16 v0, p0
  
***************
*** 1416,1421 ****
--- 1548,1554 ----
  
      move-result-object v26
  
+     .line 1500
      .local v26, devHistory:Landroid/net/NetworkStatsHistory;
      move-object/from16 v0, p0
  
***************
*** 1425,1435 ****
--- 1558,1570 ----
  
      move-result-object v50
  
+     .line 1502
      .local v50, xtHistory:Landroid/net/NetworkStatsHistory;
      new-instance v49, Ljava/util/ArrayList;
  
      invoke-direct/range {v49 .. v49}, Ljava/util/ArrayList;-><init>()V
  
+     .line 1503
      .local v49, uidList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Integer;>;"
      move-object/from16 v0, v49
  
***************
*** 1437,1462 ****
--- 1572,1603 ----
  
      invoke-virtual {v0, v1}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z
  
+     .line 1505
      invoke-virtual/range {v49 .. v49}, Ljava/util/ArrayList;->size()I
  
      move-result v11
  
      if-nez v11, :cond_4
  
+     .line 1506
      invoke-static/range {v35 .. v35}, Ljava/util/Collections;->shuffle(Ljava/util/List;)V
  
+     .line 1507
      move-object/from16 v0, v49
  
      move-object/from16 v1, v35
  
      invoke-virtual {v0, v1}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z
  
+     .line 1510
      :cond_4
      const/16 v28, 0x1
  
+     .line 1511
      .local v28, first:Z
      move-wide/from16 v39, v42
  
+     .line 1512
      .local v39, remainingBytes:J
      invoke-virtual/range {v49 .. v49}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
  
***************
*** 1480,1485 ****
--- 1621,1627 ----
  
      move-result v46
  
+     .line 1513
      .local v46, uid:I
      const/4 v11, 0x0
  
***************
*** 1495,1500 ****
--- 1637,1643 ----
  
      move-result-object v3
  
+     .line 1515
      .local v3, defaultHistory:Landroid/net/NetworkStatsHistory;
      const/4 v11, 0x1
  
***************
*** 1510,1515 ****
--- 1653,1659 ----
  
      move-result-object v10
  
+     .line 1518
      .local v10, foregroundHistory:Landroid/net/NetworkStatsHistory;
      invoke-virtual/range {v49 .. v49}, Ljava/util/ArrayList;->size()I
  
***************
*** 1519,1529 ****
--- 1663,1675 ----
  
      div-long v47, v42, v11
  
+     .line 1520
      .local v47, uidBytes:J
      invoke-virtual/range {v38 .. v38}, Ljava/util/Random;->nextFloat()F
  
      move-result v29
  
+     .line 1521
      .local v29, fractionDefault:F
      move-wide/from16 v0, v47
  
***************
*** 1533,1538 ****
--- 1679,1685 ----
  
      float-to-long v8, v11
  
+     .line 1522
      .local v8, defaultBytes:J
      move-wide/from16 v0, v47
  
***************
*** 1546,1551 ****
--- 1693,1699 ----
  
      float-to-long v15, v11
  
+     .line 1524
      .local v15, foregroundBytes:J
      invoke-virtual/range {v3 .. v9}, Landroid/net/NetworkStatsHistory;->generateRandom(JJJ)V
  
***************
*** 1553,1568 ****
--- 1701,1720 ----
  
      move-wide v13, v6
  
+     .line 1525
      invoke-virtual/range {v10 .. v16}, Landroid/net/NetworkStatsHistory;->generateRandom(JJJ)V
  
+     .line 1527
      if-eqz v28, :cond_5
  
+     .line 1528
      add-long v11, v4, v6
  
      const-wide/16 v13, 0x2
  
      div-long v18, v11, v13
  
+     .line 1529
      .local v18, bumpTime:J
      const-wide/32 v11, 0x5265c00
  
***************
*** 1576,1603 ****
--- 1728,1761 ----
  
      invoke-virtual/range {v17 .. v25}, Landroid/net/NetworkStatsHistory;->recordData(JJJJ)V
  
+     .line 1531
      const/16 v28, 0x0
  
+     .line 1534
      .end local v18           #bumpTime:J
      :cond_5
      move-object/from16 v0, v26
  
      invoke-virtual {v0, v3}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
+     .line 1535
      move-object/from16 v0, v26
  
      invoke-virtual {v0, v10}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
+     .line 1536
      move-object/from16 v0, v50
  
      invoke-virtual {v0, v3}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
+     .line 1537
      move-object/from16 v0, v50
  
      invoke-virtual {v0, v10}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
      goto :goto_2
  
+     .line 1540
      .end local v3           #defaultHistory:Landroid/net/NetworkStatsHistory;
      .end local v8           #defaultBytes:J
      .end local v10           #foregroundHistory:Landroid/net/NetworkStatsHistory;
***************
*** 1621,1626 ****
--- 1779,1785 ----
      .parameter "context"
  
      .prologue
+     .line 1644
      const-string v1, "phone"
  
      invoke-virtual {p0, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
***************
*** 1629,1634 ****
--- 1788,1794 ----
  
      check-cast v0, Landroid/telephony/TelephonyManager;
  
+     .line 1646
      .local v0, telephony:Landroid/telephony/TelephonyManager;
      invoke-virtual {v0}, Landroid/telephony/TelephonyManager;->getSubscriberId()Ljava/lang/String;
  
***************
*** 1657,1667 ****
--- 1817,1829 ----
      .end annotation
  
      .prologue
+     .line 395
      .local p3, source:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v5
  
+     .line 397
      :try_start_0
      new-instance v0, Landroid/net/NetworkStatsHistory;
  
***************
*** 1677,1682 ****
--- 1839,1845 ----
  
      invoke-direct {v0, v6, v7, v4, p2}, Landroid/net/NetworkStatsHistory;-><init>(JII)V
  
+     .line 399
      .local v0, combined:Landroid/net/NetworkStatsHistory;
      invoke-virtual {p3}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
  
***************
*** 1701,1706 ****
--- 1864,1870 ----
  
      check-cast v3, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 400
      .local v3, ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-static {p1, v3}, Lcom/android/server/net/NetworkStatsService;->templateMatches(Landroid/net/NetworkTemplate;Lcom/android/server/net/NetworkIdentitySet;)Z
  
***************
*** 1708,1726 ****
--- 1872,1894 ----
  
      if-eqz v4, :cond_0
  
+     .line 401
      invoke-virtual {p3, v3}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
  
      move-result-object v1
  
      check-cast v1, Landroid/net/NetworkStatsHistory;
  
+     .line 402
      .local v1, history:Landroid/net/NetworkStatsHistory;
      if-eqz v1, :cond_0
  
+     .line 403
      invoke-virtual {v0, v1}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
      goto :goto_0
  
+     .line 408
      .end local v0           #combined:Landroid/net/NetworkStatsHistory;
      .end local v1           #history:Landroid/net/NetworkStatsHistory;
      .end local v2           #i$:Ljava/util/Iterator;
***************
*** 1734,1739 ****
--- 1902,1908 ----
  
      throw v4
  
+     .line 407
      .restart local v0       #combined:Landroid/net/NetworkStatsHistory;
      .restart local v2       #i$:Ljava/util/Iterator;
      :cond_1
***************
*** 1751,1756 ****
--- 1920,1926 ----
      .parameter "fields"
  
      .prologue
+     .line 386
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      invoke-direct {p0, p1, p2, v0}, Lcom/android/server/net/NetworkStatsService;->getHistoryForNetwork(Landroid/net/NetworkTemplate;ILjava/util/HashMap;)Landroid/net/NetworkStatsHistory;
***************
*** 1766,1771 ****
--- 1936,1942 ----
      .parameter "fields"
  
      .prologue
+     .line 390
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-direct {p0, p1, p2, v0}, Lcom/android/server/net/NetworkStatsService;->getHistoryForNetwork(Landroid/net/NetworkTemplate;ILjava/util/HashMap;)Landroid/net/NetworkStatsHistory;
***************
*** 1792,1800 ****
--- 1963,1973 ----
      .end annotation
  
      .prologue
+     .line 483
      .local p2, source:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      const-wide v3, 0x7fffffffffffffffL
  
+     .line 484
      .local v3, start:J
      invoke-virtual {p2}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
  
***************
*** 1819,1824 ****
--- 1992,1998 ----
  
      check-cast v2, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 485
      .local v2, ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-static {p1, v2}, Lcom/android/server/net/NetworkStatsService;->templateMatches(Landroid/net/NetworkTemplate;Lcom/android/server/net/NetworkIdentitySet;)Z
  
***************
*** 1826,1837 ****
--- 2000,2013 ----
  
      if-eqz v5, :cond_0
  
+     .line 486
      invoke-virtual {p2, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
  
      move-result-object v0
  
      check-cast v0, Landroid/net/NetworkStatsHistory;
  
+     .line 487
      .local v0, history:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v0}, Landroid/net/NetworkStatsHistory;->getStart()J
  
***************
*** 1843,1848 ****
--- 2019,2025 ----
  
      goto :goto_0
  
+     .line 490
      .end local v0           #history:Landroid/net/NetworkStatsHistory;
      .end local v2           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_1
***************
*** 1858,1863 ****
--- 2035,2041 ----
      .end annotation
  
      .prologue
+     .line 1586
      :try_start_0
      iget-object v2, p0, Lcom/android/server/net/NetworkStatsService;->mConnManager:Landroid/net/IConnectivityManager;
  
***************
*** 1865,1870 ****
--- 2043,2049 ----
  
      move-result-object v1
  
+     .line 1587
      .local v1, tetheredIfacePairs:[Ljava/lang/String;
      iget-object v2, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
***************
*** 1874,1886 ****
--- 2053,2068 ----
  
      move-result-object v2
  
+     .line 1590
      .end local v1           #tetheredIfacePairs:[Ljava/lang/String;
      :goto_0
      return-object v2
  
+     .line 1588
      :catch_0
      move-exception v0
  
+     .line 1589
      .local v0, e:Ljava/lang/IllegalStateException;
      const-string v2, "NetworkStats"
  
***************
*** 1888,1893 ****
--- 2070,2076 ----
  
      invoke-static {v2, v3, v0}, Landroid/util/Log;->wtf(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1590
      new-instance v2, Landroid/net/NetworkStats;
  
      const-wide/16 v3, 0x0
***************
*** 1920,1935 ****
--- 2103,2121 ----
      .end annotation
  
      .prologue
+     .line 451
      .local p6, source:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      iget-object v13, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v13
  
+     .line 453
      :try_start_0
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v6
  
+     .line 455
      .local v6, now:J
      new-instance v12, Landroid/net/NetworkStats;
  
***************
*** 1939,1952 ****
--- 2125,2141 ----
  
      invoke-direct {v12, v2, v3, v4}, Landroid/net/NetworkStats;-><init>(JI)V
  
+     .line 456
      .local v12, stats:Landroid/net/NetworkStats;
      new-instance v9, Landroid/net/NetworkStats$Entry;
  
      invoke-direct {v9}, Landroid/net/NetworkStats$Entry;-><init>()V
  
+     .line 457
      .local v9, entry:Landroid/net/NetworkStats$Entry;
      const/4 v8, 0x0
  
+     .line 460
      .local v8, historyEntry:Landroid/net/NetworkStatsHistory$Entry;
      invoke-virtual/range {p6 .. p6}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
  
***************
*** 1971,1976 ****
--- 2160,2166 ----
  
      check-cast v11, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 461
      .local v11, ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-static {p1, v11}, Lcom/android/server/net/NetworkStatsService;->templateMatches(Landroid/net/NetworkTemplate;Lcom/android/server/net/NetworkIdentitySet;)Z
  
***************
*** 1978,1983 ****
--- 2168,2174 ----
  
      if-eqz v2, :cond_0
  
+     .line 462
      move-object/from16 v0, p6
  
      invoke-virtual {v0, v11}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 1991,2032 ****
--- 2182,2233 ----
  
      move-wide/from16 v4, p4
  
+     .line 463
      invoke-virtual/range {v1 .. v8}, Landroid/net/NetworkStatsHistory;->getValues(JJJLandroid/net/NetworkStatsHistory$Entry;)Landroid/net/NetworkStatsHistory$Entry;
  
      move-result-object v8
  
+     .line 465
      sget-object v2, Landroid/net/NetworkStats;->IFACE_ALL:Ljava/lang/String;
  
      iput-object v2, v9, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
  
+     .line 466
      const/4 v2, -0x1
  
      iput v2, v9, Landroid/net/NetworkStats$Entry;->uid:I
  
+     .line 467
      const/4 v2, 0x0
  
      iput v2, v9, Landroid/net/NetworkStats$Entry;->tag:I
  
+     .line 468
      iget-wide v2, v8, Landroid/net/NetworkStatsHistory$Entry;->rxBytes:J
  
      iput-wide v2, v9, Landroid/net/NetworkStats$Entry;->rxBytes:J
  
+     .line 469
      iget-wide v2, v8, Landroid/net/NetworkStatsHistory$Entry;->rxPackets:J
  
      iput-wide v2, v9, Landroid/net/NetworkStats$Entry;->rxPackets:J
  
+     .line 470
      iget-wide v2, v8, Landroid/net/NetworkStatsHistory$Entry;->txBytes:J
  
      iput-wide v2, v9, Landroid/net/NetworkStats$Entry;->txBytes:J
  
+     .line 471
      iget-wide v2, v8, Landroid/net/NetworkStatsHistory$Entry;->txPackets:J
  
      iput-wide v2, v9, Landroid/net/NetworkStats$Entry;->txPackets:J
  
+     .line 473
      invoke-virtual {v12, v9}, Landroid/net/NetworkStats;->combineValues(Landroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats;
  
      goto :goto_0
  
+     .line 478
      .end local v1           #history:Landroid/net/NetworkStatsHistory;
      .end local v6           #now:J
      .end local v8           #historyEntry:Landroid/net/NetworkStatsHistory$Entry;
***************
*** 2043,2048 ****
--- 2244,2250 ----
  
      throw v2
  
+     .line 477
      .restart local v6       #now:J
      .restart local v8       #historyEntry:Landroid/net/NetworkStatsHistory$Entry;
      .restart local v9       #entry:Landroid/net/NetworkStats$Entry;
***************
*** 2064,2069 ****
--- 2266,2272 ----
      .parameter "end"
  
      .prologue
+     .line 442
      iget-object v6, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      move-object v0, p0
***************
*** 2088,2093 ****
--- 2291,2297 ----
      .parameter "end"
  
      .prologue
+     .line 446
      iget-object v6, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      move-object v0, p0
***************
*** 2109,2114 ****
--- 2313,2319 ----
      .locals 3
  
      .prologue
+     .line 240
      new-instance v0, Ljava/io/File;
  
      invoke-static {}, Landroid/os/Environment;->getDataDirectory()Ljava/io/File;
***************
*** 2128,2137 ****
--- 2333,2344 ----
      .parameter "currentTime"
  
      .prologue
+     .line 893
      invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;
  
      move-result-object v9
  
+     .line 895
      .local v9, unknownIface:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkDevSnapshot:Landroid/net/NetworkStats;
  
***************
*** 2143,2148 ****
--- 2350,2356 ----
  
      move-result-object v6
  
+     .line 897
      .local v6, delta:Landroid/net/NetworkStats;
      invoke-virtual {v6}, Landroid/net/NetworkStats;->getElapsedRealtime()J
  
***************
*** 2150,2158 ****
--- 2358,2368 ----
  
      sub-long v1, p2, v3
  
+     .line 899
      .local v1, timeStart:J
      const/4 v5, 0x0
  
+     .line 900
      .local v5, entry:Landroid/net/NetworkStats$Entry;
      const/4 v7, 0x0
  
***************
*** 2164,2173 ****
--- 2374,2385 ----
  
      if-ge v7, v3, :cond_1
  
+     .line 901
      invoke-virtual {v6, v7, v5}, Landroid/net/NetworkStats;->getValues(ILandroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats$Entry;
  
      move-result-object v5
  
+     .line 902
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      iget-object v4, v5, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
***************
*** 2178,2195 ****
--- 2390,2411 ----
  
      check-cast v8, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 903
      .local v8, ident:Lcom/android/server/net/NetworkIdentitySet;
      if-nez v8, :cond_0
  
+     .line 904
      iget-object v3, v5, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
  
      invoke-virtual {v9, v3}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 900
      :goto_1
      add-int/lit8 v7, v7, 0x1
  
      goto :goto_0
  
+     .line 908
      :cond_0
      invoke-direct {p0, v8}, Lcom/android/server/net/NetworkStatsService;->findOrCreateNetworkDevStatsLocked(Lcom/android/server/net/NetworkIdentitySet;)Landroid/net/NetworkStatsHistory;
  
***************
*** 2198,2212 ****
--- 2414,2431 ----
      .local v0, history:Landroid/net/NetworkStatsHistory;
      move-wide v3, p2
  
+     .line 909
      invoke-virtual/range {v0 .. v5}, Landroid/net/NetworkStatsHistory;->recordData(JJLandroid/net/NetworkStats$Entry;)V
  
      goto :goto_1
  
+     .line 912
      .end local v0           #history:Landroid/net/NetworkStatsHistory;
      .end local v8           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_1
      iput-object p1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkDevSnapshot:Landroid/net/NetworkStats;
  
+     .line 917
      return-void
  .end method
  
***************
*** 2216,2225 ****
--- 2435,2446 ----
      .parameter "currentTime"
  
      .prologue
+     .line 923
      invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;
  
      move-result-object v9
  
+     .line 925
      .local v9, unknownIface:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkXtSnapshot:Landroid/net/NetworkStats;
  
***************
*** 2231,2236 ****
--- 2452,2458 ----
  
      move-result-object v6
  
+     .line 927
      .local v6, delta:Landroid/net/NetworkStats;
      invoke-virtual {v6}, Landroid/net/NetworkStats;->getElapsedRealtime()J
  
***************
*** 2238,2246 ****
--- 2460,2470 ----
  
      sub-long v1, p2, v3
  
+     .line 929
      .local v1, timeStart:J
      const/4 v5, 0x0
  
+     .line 930
      .local v5, entry:Landroid/net/NetworkStats$Entry;
      const/4 v7, 0x0
  
***************
*** 2252,2261 ****
--- 2476,2487 ----
  
      if-ge v7, v3, :cond_1
  
+     .line 931
      invoke-virtual {v6, v7, v5}, Landroid/net/NetworkStats;->getValues(ILandroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats$Entry;
  
      move-result-object v5
  
+     .line 932
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      iget-object v4, v5, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
***************
*** 2266,2283 ****
--- 2492,2513 ----
  
      check-cast v8, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 933
      .local v8, ident:Lcom/android/server/net/NetworkIdentitySet;
      if-nez v8, :cond_0
  
+     .line 934
      iget-object v3, v5, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
  
      invoke-virtual {v9, v3}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 930
      :goto_1
      add-int/lit8 v7, v7, 0x1
  
      goto :goto_0
  
+     .line 938
      :cond_0
      invoke-direct {p0, v8}, Lcom/android/server/net/NetworkStatsService;->findOrCreateNetworkXtStatsLocked(Lcom/android/server/net/NetworkIdentitySet;)Landroid/net/NetworkStatsHistory;
  
***************
*** 2286,2300 ****
--- 2516,2533 ----
      .local v0, history:Landroid/net/NetworkStatsHistory;
      move-wide v3, p2
  
+     .line 939
      invoke-virtual/range {v0 .. v5}, Landroid/net/NetworkStatsHistory;->recordData(JJLandroid/net/NetworkStats$Entry;)V
  
      goto :goto_1
  
+     .line 942
      .end local v0           #history:Landroid/net/NetworkStatsHistory;
      .end local v8           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_1
      iput-object p1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkXtSnapshot:Landroid/net/NetworkStats;
  
+     .line 947
      return-void
  .end method
  
***************
*** 2303,2317 ****
--- 2536,2553 ----
      .parameter "flags"
  
      .prologue
+     .line 790
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v1
  
+     .line 791
      :try_start_0
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v0}, Landroid/os/PowerManager$WakeLock;->acquire()V
  
+     .line 794
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mTime:Landroid/util/TrustedTime;
  
      invoke-interface {v0}, Landroid/util/TrustedTime;->getCacheAge()J
***************
*** 2328,2354 ****
--- 2564,2596 ----
  
      if-lez v0, :cond_0
  
+     .line 795
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mTime:Landroid/util/TrustedTime;
  
      invoke-interface {v0}, Landroid/util/TrustedTime;->forceRefresh()Z
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 799
      :cond_0
      :try_start_1
      invoke-direct {p0, p1}, Lcom/android/server/net/NetworkStatsService;->performPollLocked(I)V
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 801
      :try_start_2
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v0}, Landroid/os/PowerManager$WakeLock;->release()V
  
+     .line 803
      monitor-exit v1
  
+     .line 804
      return-void
  
+     .line 801
      :catchall_0
      move-exception v0
  
***************
*** 2358,2363 ****
--- 2600,2606 ----
  
      throw v0
  
+     .line 803
      :catchall_1
      move-exception v0
  
***************
*** 2373,2382 ****
--- 2616,2627 ----
      .parameter "flags"
  
      .prologue
+     .line 812
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
  
      move-result-wide v20
  
+     .line 814
      .local v20, startRealtime:J
      and-int/lit8 v27, p1, 0x1
  
***************
*** 2384,2389 ****
--- 2629,2635 ----
  
      const/4 v12, 0x1
  
+     .line 815
      .local v12, persistNetwork:Z
      :goto_0
      and-int/lit8 v27, p1, 0x2
***************
*** 2392,2397 ****
--- 2638,2644 ----
  
      const/16 v17, 0x1
  
+     .line 816
      .local v17, persistUid:Z
      :goto_1
      move/from16 v0, p1
***************
*** 2404,2409 ****
--- 2651,2657 ----
  
      const/4 v11, 0x1
  
+     .line 819
      .local v11, persistForce:Z
      :goto_2
      move-object/from16 v0, p0
***************
*** 2428,2433 ****
--- 2676,2682 ----
  
      move-result-wide v5
  
+     .line 821
      .local v5, currentTime:J
      :goto_3
      move-object/from16 v0, p0
***************
*** 2440,2451 ****
--- 2689,2702 ----
  
      move-result-wide v23
  
+     .line 828
      .local v23, threshold:J
      :try_start_0
      invoke-direct/range {p0 .. p0}, Lcom/android/server/net/NetworkStatsService;->getNetworkStatsTethering()Landroid/net/NetworkStats;
  
      move-result-object v22
  
+     .line 831
      .local v22, tetherSnapshot:Landroid/net/NetworkStats;
      move-object/from16 v0, p0
  
***************
*** 2459,2464 ****
--- 2710,2716 ----
  
      move-result-object v25
  
+     .line 832
      .local v25, uidSnapshot:Landroid/net/NetworkStats;
      move-object/from16 v0, v25
  
***************
*** 2466,2477 ****
--- 2718,2731 ----
  
      invoke-virtual {v0, v1}, Landroid/net/NetworkStats;->combineAllValues(Landroid/net/NetworkStats;)V
  
+     .line 833
      move-object/from16 v0, p0
  
      move-object/from16 v1, v25
  
      invoke-direct {v0, v1, v5, v6}, Lcom/android/server/net/NetworkStatsService;->performUidPollLocked(Landroid/net/NetworkStats;J)V
  
+     .line 836
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
***************
*** 2482,2496 ****
--- 2736,2753 ----
  
      move-result-object v8
  
+     .line 837
      .local v8, networkDevSnapshot:Landroid/net/NetworkStats;
      move-object/from16 v0, p0
  
      invoke-direct {v0, v8, v5, v6}, Lcom/android/server/net/NetworkStatsService;->performNetworkDevPollLocked(Landroid/net/NetworkStats;J)V
  
+     .line 840
      invoke-static/range {v25 .. v25}, Lcom/android/server/net/NetworkStatsService;->computeNetworkXtSnapshotFromUid(Landroid/net/NetworkStats;)Landroid/net/NetworkStats;
  
      move-result-object v10
  
+     .line 841
      .local v10, networkXtSnapshot:Landroid/net/NetworkStats;
      move-object/from16 v0, p0
  
***************
*** 2499,2504 ****
--- 2756,2762 ----
      .catch Ljava/lang/IllegalStateException; {:try_start_0 .. :try_end_0} :catch_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_1
  
+     .line 852
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mLastPersistNetworkDevSnapshot:Landroid/net/NetworkStats;
***************
*** 2525,2530 ****
--- 2783,2789 ----
  
      move-result-wide v13
  
+     .line 854
      .local v13, persistNetworkDevDelta:J
      move-object/from16 v0, p0
  
***************
*** 2552,2557 ****
--- 2811,2817 ----
  
      move-result-wide v15
  
+     .line 856
      .local v15, persistNetworkXtDelta:J
      cmp-long v27, v13, v23
  
***************
*** 2564,2569 ****
--- 2824,2830 ----
      :cond_0
      const/4 v9, 0x1
  
+     .line 858
      .local v9, networkOverThreshold:Z
      :goto_4
      if-nez v11, :cond_1
***************
*** 2572,2590 ****
--- 2833,2856 ----
  
      if-eqz v9, :cond_2
  
+     .line 859
      :cond_1
      invoke-direct/range {p0 .. p0}, Lcom/android/server/net/NetworkStatsService;->writeNetworkDevStatsLocked()V
  
+     .line 860
      invoke-direct/range {p0 .. p0}, Lcom/android/server/net/NetworkStatsService;->writeNetworkXtStatsLocked()V
  
+     .line 861
      move-object/from16 v0, p0
  
      iput-object v8, v0, Lcom/android/server/net/NetworkStatsService;->mLastPersistNetworkDevSnapshot:Landroid/net/NetworkStats;
  
+     .line 862
      move-object/from16 v0, p0
  
      iput-object v10, v0, Lcom/android/server/net/NetworkStatsService;->mLastPersistNetworkXtSnapshot:Landroid/net/NetworkStats;
  
+     .line 866
      :cond_2
      move-object/from16 v0, p0
  
***************
*** 2614,2619 ****
--- 2880,2886 ----
  
      move-result-wide v18
  
+     .line 868
      .local v18, persistUidDelta:J
      if-nez v11, :cond_3
  
***************
*** 2623,2651 ****
--- 2890,2924 ----
  
      if-lez v27, :cond_4
  
+     .line 869
      :cond_3
      invoke-direct/range {p0 .. p0}, Lcom/android/server/net/NetworkStatsService;->writeUidStatsLocked()V
  
+     .line 870
      move-object/from16 v0, v25
  
      move-object/from16 v1, p0
  
      iput-object v0, v1, Lcom/android/server/net/NetworkStatsService;->mLastPersistUidSnapshot:Landroid/net/NetworkStats;
  
+     .line 880
      :cond_4
      invoke-direct/range {p0 .. p0}, Lcom/android/server/net/NetworkStatsService;->performSample()V
  
+     .line 884
      new-instance v26, Landroid/content/Intent;
  
      const-string v27, "com.android.server.action.NETWORK_STATS_UPDATED"
  
      invoke-direct/range {v26 .. v27}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 885
      .local v26, updatedIntent:Landroid/content/Intent;
      const/high16 v27, 0x4000
  
      invoke-virtual/range {v26 .. v27}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;
  
+     .line 886
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
***************
*** 2662,2667 ****
--- 2935,2941 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;Ljava/lang/String;)V
  
+     .line 887
      .end local v8           #networkDevSnapshot:Landroid/net/NetworkStats;
      .end local v9           #networkOverThreshold:Z
      .end local v10           #networkXtSnapshot:Landroid/net/NetworkStats;
***************
*** 2674,2679 ****
--- 2948,2954 ----
      :goto_5
      return-void
  
+     .line 814
      .end local v5           #currentTime:J
      .end local v11           #persistForce:Z
      .end local v12           #persistNetwork:Z
***************
*** 2684,2701 ****
--- 2959,2979 ----
  
      goto/16 :goto_0
  
+     .line 815
      .restart local v12       #persistNetwork:Z
      :cond_6
      const/16 v17, 0x0
  
      goto/16 :goto_1
  
+     .line 816
      .restart local v17       #persistUid:Z
      :cond_7
      const/4 v11, 0x0
  
      goto/16 :goto_2
  
+     .line 819
      .restart local v11       #persistForce:Z
      :cond_8
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
***************
*** 2704,2714 ****
--- 2982,2994 ----
  
      goto/16 :goto_3
  
+     .line 843
      .restart local v5       #currentTime:J
      .restart local v23       #threshold:J
      :catch_0
      move-exception v7
  
+     .line 844
      .local v7, e:Ljava/lang/IllegalStateException;
      const-string v27, "NetworkStats"
  
***************
*** 2722,2734 ****
--- 3002,3017 ----
  
      goto :goto_5
  
+     .line 846
      .end local v7           #e:Ljava/lang/IllegalStateException;
      :catch_1
      move-exception v7
  
+     .line 848
      .local v7, e:Landroid/os/RemoteException;
      goto :goto_5
  
+     .line 856
      .end local v7           #e:Landroid/os/RemoteException;
      .restart local v8       #networkDevSnapshot:Landroid/net/NetworkStats;
      .restart local v10       #networkXtSnapshot:Landroid/net/NetworkStats;
***************
*** 2746,2751 ****
--- 3029,3035 ----
      .locals 43
  
      .prologue
+     .line 994
      move-object/from16 v0, p0
  
      iget-object v2, v0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
***************
*** 2766,2771 ****
--- 3050,3056 ----
  
      move-result-wide v37
  
+     .line 998
      .local v37, largestBucketSize:J
      move-object/from16 v0, p0
  
***************
*** 2785,2790 ****
--- 3070,3076 ----
  
      move-result-wide v39
  
+     .line 999
      .local v39, now:J
      :goto_0
      rem-long v8, v39, v37
***************
*** 2793,2801 ****
--- 3079,3089 ----
  
      add-long v6, v8, v37
  
+     .line 1000
      .local v6, end:J
      sub-long v4, v6, v37
  
+     .line 1002
      .local v4, start:J
      move-object/from16 v0, p0
  
***************
*** 2815,2836 ****
--- 3103,3130 ----
  
      move-result-wide v32
  
+     .line 1003
      .local v32, trustedTime:J
      :goto_1
      const-wide v34, 0x7fffffffffffffffL
  
+     .line 1005
      .local v34, devHistoryStart:J
      const/4 v3, 0x0
  
+     .line 1006
      .local v3, template:Landroid/net/NetworkTemplate;
      const/16 v36, 0x0
  
+     .line 1007
      .local v36, devTotal:Landroid/net/NetworkStats$Entry;
      const/16 v42, 0x0
  
+     .line 1008
      .local v42, xtTotal:Landroid/net/NetworkStats$Entry;
      const/16 v41, 0x0
  
+     .line 1011
      .local v41, uidTotal:Landroid/net/NetworkStats$Entry;
      move-object/from16 v0, p0
  
***************
*** 2846,2851 ****
--- 3140,3146 ----
  
      move-object/from16 v2, p0
  
+     .line 1012
      invoke-direct/range {v2 .. v7}, Lcom/android/server/net/NetworkStatsService;->getSummaryForNetworkDev(Landroid/net/NetworkTemplate;JJ)Landroid/net/NetworkStats;
  
      move-result-object v2
***************
*** 2856,2861 ****
--- 3151,3157 ----
  
      move-result-object v36
  
+     .line 1013
      move-object/from16 v0, p0
  
      iget-object v2, v0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
***************
*** 2868,2873 ****
--- 3164,3170 ----
  
      move-object/from16 v2, p0
  
+     .line 1014
      invoke-direct/range {v2 .. v7}, Lcom/android/server/net/NetworkStatsService;->getSummaryForNetworkXt(Landroid/net/NetworkTemplate;JJ)Landroid/net/NetworkStats;
  
      move-result-object v2
***************
*** 2878,2883 ****
--- 3175,3181 ----
  
      move-result-object v42
  
+     .line 1015
      const/4 v8, 0x0
  
      move-object/from16 v2, p0
***************
*** 2892,2897 ****
--- 3190,3196 ----
  
      move-result-object v41
  
+     .line 1017
      move-object/from16 v0, v36
  
      iget-wide v8, v0, Landroid/net/NetworkStats$Entry;->rxBytes:J
***************
*** 2958,2969 ****
--- 3257,3270 ----
  
      invoke-static/range {v8 .. v35}, Lcom/android/server/EventLogTags;->writeNetstatsMobileSample(JJJJJJJJJJJJJJ)V
  
+     .line 1024
      invoke-static {}, Landroid/net/NetworkTemplate;->buildTemplateWifi()Landroid/net/NetworkTemplate;
  
      move-result-object v3
  
      move-object/from16 v2, p0
  
+     .line 1025
      invoke-direct/range {v2 .. v7}, Lcom/android/server/net/NetworkStatsService;->getSummaryForNetworkDev(Landroid/net/NetworkTemplate;JJ)Landroid/net/NetworkStats;
  
      move-result-object v2
***************
*** 2974,2979 ****
--- 3275,3281 ----
  
      move-result-object v36
  
+     .line 1026
      move-object/from16 v0, p0
  
      iget-object v2, v0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
***************
*** 2986,2991 ****
--- 3288,3294 ----
  
      move-object/from16 v2, p0
  
+     .line 1027
      invoke-direct/range {v2 .. v7}, Lcom/android/server/net/NetworkStatsService;->getSummaryForNetworkXt(Landroid/net/NetworkTemplate;JJ)Landroid/net/NetworkStats;
  
      move-result-object v2
***************
*** 2996,3001 ****
--- 3299,3305 ----
  
      move-result-object v42
  
+     .line 1028
      const/4 v8, 0x0
  
      move-object/from16 v2, p0
***************
*** 3010,3015 ****
--- 3314,3320 ----
  
      move-result-object v41
  
+     .line 1029
      move-object/from16 v0, v36
  
      iget-wide v8, v0, Landroid/net/NetworkStats$Entry;->rxBytes:J
***************
*** 3076,3083 ****
--- 3381,3390 ----
  
      invoke-static/range {v8 .. v35}, Lcom/android/server/EventLogTags;->writeNetstatsWifiSample(JJJJJJJJJJJJJJ)V
  
+     .line 1034
      return-void
  
+     .line 998
      .end local v3           #template:Landroid/net/NetworkTemplate;
      .end local v4           #start:J
      .end local v6           #end:J
***************
*** 3094,3099 ****
--- 3401,3407 ----
  
      goto/16 :goto_0
  
+     .line 1002
      .restart local v4       #start:J
      .restart local v6       #end:J
      .restart local v39       #now:J
***************
*** 3109,3116 ****
--- 3417,3426 ----
      .parameter "currentTime"
  
      .prologue
+     .line 953
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 955
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
      const/4 v4, 0x0
***************
*** 3121,3126 ****
--- 3431,3437 ----
  
      move-result-object v6
  
+     .line 957
      .local v6, delta:Landroid/net/NetworkStats;
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollOperationsSnapshot:Landroid/net/NetworkStats;
  
***************
*** 3134,3139 ****
--- 3445,3451 ----
  
      move-result-object v10
  
+     .line 959
      .local v10, operationsDelta:Landroid/net/NetworkStats;
      invoke-virtual {v6}, Landroid/net/NetworkStats;->getElapsedRealtime()J
  
***************
*** 3141,3152 ****
--- 3453,3467 ----
  
      sub-long v1, p2, v3
  
+     .line 961
      .local v1, timeStart:J
      const/4 v5, 0x0
  
+     .line 962
      .local v5, entry:Landroid/net/NetworkStats$Entry;
      const/4 v11, 0x0
  
+     .line 963
      .local v11, operationsEntry:Landroid/net/NetworkStats$Entry;
      const/4 v7, 0x0
  
***************
*** 3158,3167 ****
--- 3473,3484 ----
  
      if-ge v7, v3, :cond_4
  
+     .line 964
      invoke-virtual {v6, v7, v5}, Landroid/net/NetworkStats;->getValues(ILandroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats$Entry;
  
      move-result-object v5
  
+     .line 965
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      iget-object v4, v5, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
***************
*** 3172,3180 ****
--- 3489,3499 ----
  
      check-cast v8, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 966
      .local v8, ident:Lcom/android/server/net/NetworkIdentitySet;
      if-nez v8, :cond_2
  
+     .line 967
      iget-wide v3, v5, Landroid/net/NetworkStats$Entry;->rxBytes:J
  
      const-wide/16 v12, 0x0
***************
*** 3207,3212 ****
--- 3526,3532 ----
  
      if-lez v3, :cond_1
  
+     .line 969
      :cond_0
      const-string v3, "NetworkStats"
  
***************
*** 3230,3241 ****
--- 3550,3563 ----
  
      invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 963
      :cond_1
      :goto_1
      add-int/lit8 v7, v7, 0x1
  
      goto :goto_0
  
+     .line 975
      :cond_2
      sget-object v3, Landroid/net/NetworkStats;->IFACE_ALL:Ljava/lang/String;
  
***************
*** 3249,3267 ****
--- 3571,3593 ----
  
      move-result v9
  
+     .line 976
      .local v9, j:I
      const/4 v3, -0x1
  
      if-eq v9, v3, :cond_3
  
+     .line 977
      invoke-virtual {v10, v9, v11}, Landroid/net/NetworkStats;->getValues(ILandroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats$Entry;
  
      move-result-object v11
  
+     .line 978
      iget-wide v3, v11, Landroid/net/NetworkStats$Entry;->operations:J
  
      iput-wide v3, v5, Landroid/net/NetworkStats$Entry;->operations:J
  
+     .line 981
      :cond_3
      iget v3, v5, Landroid/net/NetworkStats$Entry;->uid:I
  
***************
*** 3276,3291 ****
--- 3602,3620 ----
      .local v0, history:Landroid/net/NetworkStatsHistory;
      move-wide/from16 v3, p2
  
+     .line 983
      invoke-virtual/range {v0 .. v5}, Landroid/net/NetworkStatsHistory;->recordData(JJLandroid/net/NetworkStats$Entry;)V
  
      goto :goto_1
  
+     .line 986
      .end local v0           #history:Landroid/net/NetworkStatsHistory;
      .end local v8           #ident:Lcom/android/server/net/NetworkIdentitySet;
      .end local v9           #j:I
      :cond_4
      iput-object p1, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
+     .line 987
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mOperations:Landroid/net/NetworkStats;
  
      invoke-virtual {v3}, Landroid/net/NetworkStats;->clone()Landroid/net/NetworkStats;
***************
*** 3294,3299 ****
--- 3623,3629 ----
  
      iput-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollOperationsSnapshot:Landroid/net/NetworkStats;
  
+     .line 988
      return-void
  .end method
  
***************
*** 3301,3312 ****
--- 3631,3644 ----
      .locals 2
  
      .prologue
+     .line 1134
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevFile:Lcom/android/internal/os/AtomicFile;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      invoke-static {v0, v1}, Lcom/android/server/net/NetworkStatsService;->readNetworkStats(Lcom/android/internal/os/AtomicFile;Ljava/util/HashMap;)V
  
+     .line 1135
      return-void
  .end method
  
***************
*** 3327,3337 ****
--- 3659,3672 ----
      .end annotation
  
      .prologue
+     .line 1145
      .local p1, output:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      invoke-virtual {p1}, Ljava/util/HashMap;->clear()V
  
+     .line 1147
      const/4 v4, 0x0
  
+     .line 1149
      .local v4, in:Ljava/io/DataInputStream;
      :try_start_0
      new-instance v5, Ljava/io/DataInputStream;
***************
*** 3350,3355 ****
--- 3685,3691 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_3
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_2
  
+     .line 1152
      .end local v4           #in:Ljava/io/DataInputStream;
      .local v5, in:Ljava/io/DataInputStream;
      :try_start_1
***************
*** 3357,3367 ****
--- 3693,3705 ----
  
      move-result v6
  
+     .line 1153
      .local v6, magic:I
      const v9, 0x414e4554
  
      if-eq v6, v9, :cond_0
  
+     .line 1154
      new-instance v9, Ljava/net/ProtocolException;
  
      new-instance v10, Ljava/lang/StringBuilder;
***************
*** 3390,3409 ****
--- 3728,3751 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 1173
      .end local v6           #magic:I
      :catch_0
      move-exception v9
  
      move-object v4, v5
  
+     .line 1178
      .end local v5           #in:Ljava/io/DataInputStream;
      .restart local v4       #in:Ljava/io/DataInputStream;
      :goto_0
      invoke-static {v4}, Llibcore/io/IoUtils;->closeQuietly(Ljava/lang/AutoCloseable;)V
  
+     .line 1180
      :goto_1
      return-void
  
+     .line 1157
      .end local v4           #in:Ljava/io/DataInputStream;
      .restart local v5       #in:Ljava/io/DataInputStream;
      .restart local v6       #magic:I
***************
*** 3413,3421 ****
--- 3755,3765 ----
  
      move-result v8
  
+     .line 1158
      .local v8, version:I
      packed-switch v8, :pswitch_data_0
  
+     .line 1170
      new-instance v9, Ljava/net/ProtocolException;
  
      new-instance v10, Ljava/lang/StringBuilder;
***************
*** 3444,3449 ****
--- 3788,3794 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_2 .. :try_end_2} :catch_0
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_1
  
+     .line 1175
      .end local v6           #magic:I
      .end local v8           #version:I
      :catch_1
***************
*** 3451,3456 ****
--- 3796,3802 ----
  
      move-object v4, v5
  
+     .line 1176
      .end local v5           #in:Ljava/io/DataInputStream;
      .local v0, e:Ljava/io/IOException;
      .restart local v4       #in:Ljava/io/DataInputStream;
***************
*** 3466,3471 ****
--- 3812,3818 ----
  
      goto :goto_0
  
+     .line 1178
      .end local v0           #e:Ljava/io/IOException;
      :catchall_0
      move-exception v9
***************
*** 3475,3480 ****
--- 3822,3828 ----
  
      throw v9
  
+     .line 1161
      .end local v4           #in:Ljava/io/DataInputStream;
      .restart local v5       #in:Ljava/io/DataInputStream;
      .restart local v6       #magic:I
***************
*** 3485,3490 ****
--- 3833,3839 ----
  
      move-result v7
  
+     .line 1162
      .local v7, size:I
      const/4 v2, 0x0
  
***************
*** 3492,3506 ****
--- 3841,3858 ----
      :goto_4
      if-ge v2, v7, :cond_1
  
+     .line 1163
      new-instance v3, Lcom/android/server/net/NetworkIdentitySet;
  
      invoke-direct {v3, v5}, Lcom/android/server/net/NetworkIdentitySet;-><init>(Ljava/io/DataInputStream;)V
  
+     .line 1164
      .local v3, ident:Lcom/android/server/net/NetworkIdentitySet;
      new-instance v1, Landroid/net/NetworkStatsHistory;
  
      invoke-direct {v1, v5}, Landroid/net/NetworkStatsHistory;-><init>(Ljava/io/DataInputStream;)V
  
+     .line 1165
      .local v1, history:Landroid/net/NetworkStatsHistory;
      invoke-virtual {p1, v3, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      :try_end_4
***************
*** 3508,3517 ****
--- 3860,3871 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_0
      .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_1
  
+     .line 1162
      add-int/lit8 v2, v2, 0x1
  
      goto :goto_4
  
+     .line 1178
      .end local v1           #history:Landroid/net/NetworkStatsHistory;
      .end local v3           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_1
***************
*** 3519,3528 ****
--- 3873,3884 ----
  
      move-object v4, v5
  
+     .line 1179
      .end local v5           #in:Ljava/io/DataInputStream;
      .restart local v4       #in:Ljava/io/DataInputStream;
      goto :goto_1
  
+     .line 1178
      .end local v2           #i:I
      .end local v4           #in:Ljava/io/DataInputStream;
      .end local v6           #magic:I
***************
*** 3538,3553 ****
--- 3894,3912 ----
      .restart local v4       #in:Ljava/io/DataInputStream;
      goto :goto_3
  
+     .line 1175
      :catch_2
      move-exception v0
  
      goto :goto_2
  
+     .line 1173
      :catch_3
      move-exception v9
  
      goto :goto_0
  
+     .line 1158
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_0
***************
*** 3558,3569 ****
--- 3917,3930 ----
      .locals 2
  
      .prologue
+     .line 1139
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtFile:Lcom/android/internal/os/AtomicFile;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-static {v0, v1}, Lcom/android/server/net/NetworkStatsService;->readNetworkStats(Lcom/android/internal/os/AtomicFile;Ljava/util/HashMap;)V
  
+     .line 1140
      return-void
  .end method
  
***************
*** 3571,3576 ****
--- 3932,3938 ----
      .locals 20
  
      .prologue
+     .line 1193
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
***************
*** 3579,3586 ****
--- 3941,3950 ----
  
      invoke-virtual/range {v17 .. v17}, Ljava/util/HashMap;->clear()V
  
+     .line 1195
      const/4 v7, 0x0
  
+     .line 1197
      .local v7, in:Ljava/io/DataInputStream;
      :try_start_0
      new-instance v8, Ljava/io/DataInputStream;
***************
*** 3607,3612 ****
--- 3971,3977 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_3
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_2
  
+     .line 1200
      .end local v7           #in:Ljava/io/DataInputStream;
      .local v8, in:Ljava/io/DataInputStream;
      :try_start_1
***************
*** 3614,3619 ****
--- 3979,3985 ----
  
      move-result v11
  
+     .line 1201
      .local v11, magic:I
      const v17, 0x414e4554
  
***************
*** 3621,3626 ****
--- 3987,3993 ----
  
      if-eq v11, v0, :cond_0
  
+     .line 1202
      new-instance v17, Ljava/net/ProtocolException;
  
      new-instance v18, Ljava/lang/StringBuilder;
***************
*** 3651,3670 ****
--- 4018,4041 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 1246
      .end local v11           #magic:I
      :catch_0
      move-exception v17
  
      move-object v7, v8
  
+     .line 1251
      .end local v8           #in:Ljava/io/DataInputStream;
      .restart local v7       #in:Ljava/io/DataInputStream;
      :goto_0
      invoke-static {v7}, Llibcore/io/IoUtils;->closeQuietly(Ljava/lang/AutoCloseable;)V
  
+     .line 1253
      :goto_1
      return-void
  
+     .line 1205
      .end local v7           #in:Ljava/io/DataInputStream;
      .restart local v8       #in:Ljava/io/DataInputStream;
      .restart local v11       #magic:I
***************
*** 3674,3682 ****
--- 4045,4055 ----
  
      move-result v16
  
+     .line 1206
      .local v16, version:I
      packed-switch v16, :pswitch_data_0
  
+     .line 1243
      new-instance v17, Ljava/net/ProtocolException;
  
      new-instance v18, Ljava/lang/StringBuilder;
***************
*** 3709,3714 ****
--- 4082,4088 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_2 .. :try_end_2} :catch_0
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_1
  
+     .line 1248
      .end local v11           #magic:I
      .end local v16           #version:I
      :catch_1
***************
*** 3716,3721 ****
--- 4090,4096 ----
  
      move-object v7, v8
  
+     .line 1249
      .end local v8           #in:Ljava/io/DataInputStream;
      .local v2, e:Ljava/io/IOException;
      .restart local v7       #in:Ljava/io/DataInputStream;
***************
*** 3735,3740 ****
--- 4110,4116 ----
  
      goto :goto_0
  
+     .line 1251
      .end local v2           #e:Ljava/io/IOException;
      :catchall_0
      move-exception v17
***************
*** 3744,3749 ****
--- 4120,4126 ----
  
      throw v17
  
+     .line 1224
      .end local v7           #in:Ljava/io/DataInputStream;
      .restart local v8       #in:Ljava/io/DataInputStream;
      .restart local v11       #magic:I
***************
*** 3754,3759 ****
--- 4131,4137 ----
  
      move-result v6
  
+     .line 1225
      .local v6, identSize:I
      const/4 v4, 0x0
  
***************
*** 3761,3775 ****
--- 4139,4156 ----
      :goto_4
      if-ge v4, v6, :cond_3
  
+     .line 1226
      new-instance v5, Lcom/android/server/net/NetworkIdentitySet;
  
      invoke-direct {v5, v8}, Lcom/android/server/net/NetworkIdentitySet;-><init>(Ljava/io/DataInputStream;)V
  
+     .line 1228
      .local v5, ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-virtual {v8}, Ljava/io/DataInputStream;->readInt()I
  
      move-result v13
  
+     .line 1229
      .local v13, size:I
      const/4 v9, 0x0
  
***************
*** 3777,3786 ****
--- 4158,4169 ----
      :goto_5
      if-ge v9, v13, :cond_2
  
+     .line 1230
      invoke-virtual {v8}, Ljava/io/DataInputStream;->readInt()I
  
      move-result v15
  
+     .line 1231
      .local v15, uid:I
      const/16 v17, 0x4
  
***************
*** 3794,3815 ****
--- 4177,4202 ----
  
      move-result v12
  
+     .line 1233
      .local v12, set:I
      :goto_6
      invoke-virtual {v8}, Ljava/io/DataInputStream;->readInt()I
  
      move-result v14
  
+     .line 1235
      .local v14, tag:I
      new-instance v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
      invoke-direct {v10, v5, v15, v12, v14}, Lcom/android/server/net/NetworkStatsService$UidStatsKey;-><init>(Lcom/android/server/net/NetworkIdentitySet;III)V
  
+     .line 1236
      .local v10, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      new-instance v3, Landroid/net/NetworkStatsHistory;
  
      invoke-direct {v3, v8}, Landroid/net/NetworkStatsHistory;-><init>(Ljava/io/DataInputStream;)V
  
+     .line 1237
      .local v3, history:Landroid/net/NetworkStatsHistory;
      move-object/from16 v0, p0
  
***************
*** 3825,3834 ****
--- 4212,4223 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_0
      .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_1
  
+     .line 1229
      add-int/lit8 v9, v9, 0x1
  
      goto :goto_5
  
+     .line 1231
      .end local v3           #history:Landroid/net/NetworkStatsHistory;
      .end local v10           #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      .end local v12           #set:I
***************
*** 3838,3849 ****
--- 4227,4240 ----
  
      goto :goto_6
  
+     .line 1225
      .end local v15           #uid:I
      :cond_2
      add-int/lit8 v4, v4, 0x1
  
      goto :goto_4
  
+     .line 1251
      .end local v4           #i:I
      .end local v5           #ident:Lcom/android/server/net/NetworkIdentitySet;
      .end local v6           #identSize:I
***************
*** 3855,3864 ****
--- 4246,4257 ----
  
      move-object v7, v8
  
+     .line 1252
      .end local v8           #in:Ljava/io/DataInputStream;
      .restart local v7       #in:Ljava/io/DataInputStream;
      goto :goto_1
  
+     .line 1251
      .end local v7           #in:Ljava/io/DataInputStream;
      .end local v11           #magic:I
      .end local v16           #version:I
***************
*** 3872,3887 ****
--- 4265,4283 ----
      .restart local v7       #in:Ljava/io/DataInputStream;
      goto :goto_3
  
+     .line 1248
      :catch_2
      move-exception v2
  
      goto :goto_2
  
+     .line 1246
      :catch_3
      move-exception v17
  
      goto/16 :goto_0
  
+     .line 1206
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_1
***************
*** 3895,3900 ****
--- 4291,4297 ----
      .locals 6
  
      .prologue
+     .line 370
      :try_start_0
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
  
***************
*** 3902,3907 ****
--- 4299,4305 ----
  
      move-result-wide v0
  
+     .line 371
      .local v0, alertBytes:J
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
***************
*** 3910,3922 ****
--- 4308,4323 ----
      .catch Ljava/lang/IllegalStateException; {:try_start_0 .. :try_end_0} :catch_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_1
  
+     .line 377
      .end local v0           #alertBytes:J
      :goto_0
      return-void
  
+     .line 372
      :catch_0
      move-exception v2
  
+     .line 373
      .local v2, e:Ljava/lang/IllegalStateException;
      const-string v3, "NetworkStats"
  
***************
*** 3942,3947 ****
--- 4343,4349 ----
  
      goto :goto_0
  
+     .line 374
      .end local v2           #e:Ljava/lang/IllegalStateException;
      :catch_1
      move-exception v3
***************
*** 3953,3969 ****
--- 4355,4374 ----
      .locals 7
  
      .prologue
+     .line 348
      :try_start_0
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mPollIntent:Landroid/app/PendingIntent;
  
      if-eqz v0, :cond_0
  
+     .line 349
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mAlarmManager:Landroid/app/IAlarmManager;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mPollIntent:Landroid/app/PendingIntent;
  
      invoke-interface {v0, v1}, Landroid/app/IAlarmManager;->remove(Landroid/app/PendingIntent;)V
  
+     .line 352
      :cond_0
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 3983,3992 ****
--- 4388,4399 ----
  
      iput-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mPollIntent:Landroid/app/PendingIntent;
  
+     .line 355
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
  
      move-result-wide v2
  
+     .line 356
      .local v2, currentRealtime:J
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mAlarmManager:Landroid/app/IAlarmManager;
  
***************
*** 4004,4013 ****
--- 4411,4422 ----
      :try_end_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 361
      .end local v2           #currentRealtime:J
      :goto_0
      return-void
  
+     .line 358
      :catch_0
      move-exception v0
  
***************
*** 4021,4036 ****
--- 4430,4449 ----
      .prologue
      const/4 v7, 0x0
  
+     .line 1040
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 1043
      const/4 v5, 0x3
  
      invoke-direct {p0, v5}, Lcom/android/server/net/NetworkStatsService;->performPollLocked(I)V
  
+     .line 1045
      invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;
  
      move-result-object v2
  
+     .line 1046
      .local v2, knownKeys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 4040,4045 ****
--- 4453,4459 ----
  
      invoke-virtual {v2, v5}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z
  
+     .line 1049
      invoke-virtual {v2}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
  
      move-result-object v0
***************
*** 4059,4073 ****
--- 4473,4490 ----
  
      check-cast v1, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 1050
      .local v1, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      iget v5, v1, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->uid:I
  
      if-ne v5, p1, :cond_0
  
+     .line 1052
      iget v5, v1, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->tag:I
  
      if-nez v5, :cond_1
  
+     .line 1053
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v5, v1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 4076,4081 ****
--- 4493,4499 ----
  
      check-cast v4, Landroid/net/NetworkStatsHistory;
  
+     .line 1054
      .local v4, uidHistory:Landroid/net/NetworkStatsHistory;
      iget-object v5, v1, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->ident:Lcom/android/server/net/NetworkIdentitySet;
  
***************
*** 4085,4093 ****
--- 4503,4513 ----
  
      move-result-object v3
  
+     .line 1056
      .local v3, removedHistory:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v3, v4}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
+     .line 1058
      .end local v3           #removedHistory:Landroid/net/NetworkStatsHistory;
      .end local v4           #uidHistory:Landroid/net/NetworkStatsHistory;
      :cond_1
***************
*** 4097,4108 ****
--- 4517,4530 ----
  
      goto :goto_0
  
+     .line 1063
      .end local v1           #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      :cond_2
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
      if-eqz v5, :cond_3
  
+     .line 1064
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
      invoke-virtual {v5, p1}, Landroid/net/NetworkStats;->withoutUid(I)Landroid/net/NetworkStats;
***************
*** 4111,4116 ****
--- 4533,4539 ----
  
      iput-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
+     .line 1065
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollUidSnapshot:Landroid/net/NetworkStats;
  
      invoke-static {v5}, Lcom/android/server/net/NetworkStatsService;->computeNetworkXtSnapshotFromUid(Landroid/net/NetworkStats;)Landroid/net/NetworkStats;
***************
*** 4119,4129 ****
--- 4542,4555 ----
  
      iput-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mLastPollNetworkXtSnapshot:Landroid/net/NetworkStats;
  
+     .line 1069
      :cond_3
      invoke-static {p1}, Lcom/android/server/NetworkManagementSocketTagger;->resetKernelUidStats(I)V
  
+     .line 1072
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->writeUidStatsLocked()V
  
+     .line 1073
      return-void
  .end method
  
***************
*** 4133,4206 ****
--- 4559,4649 ----
      .prologue
      const/4 v2, 0x0
  
+     .line 320
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mConnReceiver:Landroid/content/BroadcastReceiver;
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V
  
+     .line 321
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mTetherReceiver:Landroid/content/BroadcastReceiver;
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V
  
+     .line 322
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mPollReceiver:Landroid/content/BroadcastReceiver;
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V
  
+     .line 323
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mRemovedReceiver:Landroid/content/BroadcastReceiver;
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V
  
+     .line 324
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mShutdownReceiver:Landroid/content/BroadcastReceiver;
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V
  
+     .line 326
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mTeleManager:Landroid/telephony/TelephonyManager;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mPhoneListener:Landroid/telephony/PhoneStateListener;
  
      invoke-virtual {v0, v1, v2}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
  
+     .line 328
      iget-boolean v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkStatsLoaded:Z
  
      if-eqz v0, :cond_0
  
+     .line 329
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->writeNetworkDevStatsLocked()V
  
+     .line 330
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->writeNetworkXtStatsLocked()V
  
+     .line 332
      :cond_0
      iget-boolean v0, p0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
  
      if-eqz v0, :cond_1
  
+     .line 333
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->writeUidStatsLocked()V
  
+     .line 335
      :cond_1
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
  
+     .line 336
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
  
+     .line 337
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
  
+     .line 338
      iput-boolean v2, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkStatsLoaded:Z
  
+     .line 339
      iput-boolean v2, p0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
  
+     .line 340
      return-void
  .end method
  
***************
*** 4210,4215 ****
--- 4653,4659 ----
      .parameter "identSet"
  
      .prologue
+     .line 1615
      invoke-virtual {p1}, Lcom/android/server/net/NetworkIdentitySet;->iterator()Ljava/util/Iterator;
  
      move-result-object v0
***************
*** 4228,4233 ****
--- 4672,4678 ----
  
      check-cast v1, Landroid/net/NetworkIdentity;
  
+     .line 1616
      .local v1, ident:Landroid/net/NetworkIdentity;
      invoke-virtual {p0, v1}, Landroid/net/NetworkTemplate;->matches(Landroid/net/NetworkIdentity;)Z
  
***************
*** 4235,4242 ****
--- 4680,4689 ----
  
      if-eqz v2, :cond_0
  
+     .line 1617
      const/4 v2, 0x1
  
+     .line 1620
      .end local v1           #ident:Landroid/net/NetworkIdentity;
      :goto_0
      return v2
***************
*** 4251,4260 ****
--- 4698,4709 ----
      .locals 3
  
      .prologue
+     .line 718
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v1
  
+     .line 719
      :try_start_0
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
***************
*** 4262,4281 ****
--- 4711,4735 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 721
      :try_start_1
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->updateIfacesLocked()V
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 723
      :try_start_2
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mWakeLock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v0}, Landroid/os/PowerManager$WakeLock;->release()V
  
+     .line 725
      monitor-exit v1
  
+     .line 726
      return-void
  
+     .line 723
      :catchall_0
      move-exception v0
  
***************
*** 4285,4290 ****
--- 4739,4745 ----
  
      throw v0
  
+     .line 725
      :catchall_1
      move-exception v0
  
***************
*** 4299,4308 ****
--- 4754,4765 ----
      .locals 9
  
      .prologue
+     .line 743
      const/4 v8, 0x1
  
      invoke-direct {p0, v8}, Lcom/android/server/net/NetworkStatsService;->performPollLocked(I)V
  
+     .line 747
      :try_start_0
      iget-object v8, p0, Lcom/android/server/net/NetworkStatsService;->mConnManager:Landroid/net/IConnectivityManager;
  
***************
*** 4312,4322 ****
--- 4769,4781 ----
  
      move-result-object v7
  
+     .line 754
      .local v7, states:[Landroid/net/NetworkState;
      iget-object v8, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      invoke-virtual {v8}, Ljava/util/HashMap;->clear()V
  
+     .line 756
      move-object v0, v7
  
      .local v0, arr$:[Landroid/net/NetworkState;
***************
*** 4331,4336 ****
--- 4790,4796 ----
  
      aget-object v6, v0, v2
  
+     .line 757
      .local v6, state:Landroid/net/NetworkState;
      iget-object v8, v6, Landroid/net/NetworkState;->networkInfo:Landroid/net/NetworkInfo;
  
***************
*** 4340,4351 ****
--- 4800,4813 ----
  
      if-eqz v8, :cond_1
  
+     .line 759
      iget-object v8, v6, Landroid/net/NetworkState;->linkProperties:Landroid/net/LinkProperties;
  
      invoke-virtual {v8}, Landroid/net/LinkProperties;->getInterfaceName()Ljava/lang/String;
  
      move-result-object v4
  
+     .line 761
      .local v4, iface:Ljava/lang/String;
      iget-object v8, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
***************
*** 4355,4373 ****
--- 4817,4839 ----
  
      check-cast v3, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 762
      .local v3, ident:Lcom/android/server/net/NetworkIdentitySet;
      if-nez v3, :cond_0
  
+     .line 763
      new-instance v3, Lcom/android/server/net/NetworkIdentitySet;
  
      .end local v3           #ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-direct {v3}, Lcom/android/server/net/NetworkIdentitySet;-><init>()V
  
+     .line 764
      .restart local v3       #ident:Lcom/android/server/net/NetworkIdentitySet;
      iget-object v8, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      invoke-virtual {v8, v4, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 767
      :cond_0
      iget-object v8, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 4377,4382 ****
--- 4843,4849 ----
  
      invoke-virtual {v3, v8}, Lcom/android/server/net/NetworkIdentitySet;->add(Ljava/lang/Object;)Z
  
+     .line 756
      .end local v3           #ident:Lcom/android/server/net/NetworkIdentitySet;
      .end local v4           #iface:Ljava/lang/String;
      :cond_1
***************
*** 4384,4389 ****
--- 4851,4857 ----
  
      goto :goto_0
  
+     .line 748
      .end local v0           #arr$:[Landroid/net/NetworkState;
      .end local v2           #i$:I
      .end local v5           #len$:I
***************
*** 4392,4397 ****
--- 4860,4866 ----
      :catch_0
      move-exception v1
  
+     .line 770
      :cond_2
      return-void
  .end method
***************
*** 4400,4411 ****
--- 4869,4882 ----
      .locals 2
  
      .prologue
+     .line 1257
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevFile:Lcom/android/internal/os/AtomicFile;
  
      invoke-direct {p0, v0, v1}, Lcom/android/server/net/NetworkStatsService;->writeNetworkStats(Ljava/util/HashMap;Lcom/android/internal/os/AtomicFile;)V
  
+     .line 1258
      return-void
  .end method
  
***************
*** 4427,4432 ****
--- 4898,4904 ----
      .end annotation
  
      .prologue
+     .line 1270
      .local p1, input:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Landroid/net/NetworkStatsHistory;>;"
      move-object/from16 v0, p0
  
***************
*** 4440,4449 ****
--- 4912,4923 ----
  
      if-eqz v20, :cond_1
  
+     .line 1271
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v16
  
+     .line 1272
      .local v16, systemCurrentTime:J
      move-object/from16 v0, p0
  
***************
*** 4455,4465 ****
--- 4929,4941 ----
  
      move-result-wide v18
  
+     .line 1274
      .local v18, trustedCurrentTime:J
      invoke-static/range {v16 .. v19}, Ljava/lang/Math;->min(JJ)J
  
      move-result-wide v6
  
+     .line 1275
      .local v6, currentTime:J
      move-object/from16 v0, p0
  
***************
*** 4471,4476 ****
--- 4947,4953 ----
  
      move-result-wide v13
  
+     .line 1277
      .local v13, maxHistory:J
      invoke-virtual/range {p1 .. p1}, Ljava/util/HashMap;->values()Ljava/util/Collection;
  
***************
*** 4495,4505 ****
--- 4972,4984 ----
  
      check-cast v10, Landroid/net/NetworkStatsHistory;
  
+     .line 1278
      .local v10, history:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v10}, Landroid/net/NetworkStatsHistory;->size()I
  
      move-result v4
  
+     .line 1279
      .local v4, beforeSize:I
      sub-long v20, v6, v13
  
***************
*** 4507,4516 ****
--- 4986,4997 ----
  
      invoke-virtual {v10, v0, v1}, Landroid/net/NetworkStatsHistory;->removeBucketsBefore(J)V
  
+     .line 1280
      invoke-virtual {v10}, Landroid/net/NetworkStatsHistory;->size()I
  
      move-result v3
  
+     .line 1282
      .local v3, afterSize:I
      const/16 v20, 0x18
  
***************
*** 4524,4533 ****
--- 5005,5016 ----
  
      if-ge v3, v0, :cond_0
  
+     .line 1284
      new-instance v5, Ljava/lang/StringBuilder;
  
      invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
  
+     .line 1285
      .local v5, builder:Ljava/lang/StringBuilder;
      const-string v20, "yikes, dropping more than half of history"
  
***************
*** 4541,4546 ****
--- 5024,5030 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1286
      const-string v20, "systemCurrentTime="
  
      move-object/from16 v0, v20
***************
*** 4561,4566 ****
--- 5045,5051 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1287
      const-string v20, "trustedCurrentTime="
  
      move-object/from16 v0, v20
***************
*** 4581,4586 ****
--- 5066,5072 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1288
      const-string v20, "maxHistory="
  
      move-object/from16 v0, v20
***************
*** 4599,4604 ****
--- 5085,5091 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1289
      const-string v20, "beforeSize="
  
      move-object/from16 v0, v20
***************
*** 4617,4622 ****
--- 5104,5110 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1290
      const-string v20, "afterSize="
  
      move-object/from16 v0, v20
***************
*** 4635,4640 ****
--- 5123,5129 ----
  
      invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
  
+     .line 1291
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mDropBox:Landroid/os/DropBoxManager;
***************
*** 4651,4656 ****
--- 5140,5146 ----
  
      goto/16 :goto_0
  
+     .line 1296
      .end local v3           #afterSize:I
      .end local v4           #beforeSize:I
      .end local v5           #builder:Ljava/lang/StringBuilder;
***************
*** 4663,4674 ****
--- 5153,5166 ----
      :cond_1
      const/4 v9, 0x0
  
+     .line 1298
      .local v9, fos:Ljava/io/FileOutputStream;
      :try_start_0
      invoke-virtual/range {p2 .. p2}, Lcom/android/internal/os/AtomicFile;->startWrite()Ljava/io/FileOutputStream;
  
      move-result-object v9
  
+     .line 1299
      new-instance v15, Ljava/io/DataOutputStream;
  
      new-instance v20, Ljava/io/BufferedOutputStream;
***************
*** 4681,4686 ****
--- 5173,5179 ----
  
      invoke-direct {v15, v0}, Ljava/io/DataOutputStream;-><init>(Ljava/io/OutputStream;)V
  
+     .line 1301
      .local v15, out:Ljava/io/DataOutputStream;
      const v20, 0x414e4554
  
***************
*** 4688,4699 ****
--- 5181,5194 ----
  
      invoke-virtual {v15, v0}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1302
      const/16 v20, 0x1
  
      move/from16 v0, v20
  
      invoke-virtual {v15, v0}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1304
      invoke-virtual/range {p1 .. p1}, Ljava/util/HashMap;->size()I
  
      move-result v20
***************
*** 4702,4707 ****
--- 5197,5203 ----
  
      invoke-virtual {v15, v0}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1305
      invoke-virtual/range {p1 .. p1}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
  
      move-result-object v20
***************
*** 4724,4729 ****
--- 5220,5226 ----
  
      check-cast v12, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1306
      .local v12, ident:Lcom/android/server/net/NetworkIdentitySet;
      move-object/from16 v0, p1
  
***************
*** 4733,4747 ****
--- 5230,5247 ----
  
      check-cast v10, Landroid/net/NetworkStatsHistory;
  
+     .line 1307
      .restart local v10       #history:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v12, v15}, Lcom/android/server/net/NetworkIdentitySet;->writeToStream(Ljava/io/DataOutputStream;)V
  
+     .line 1308
      invoke-virtual {v10, v15}, Landroid/net/NetworkStatsHistory;->writeToStream(Ljava/io/DataOutputStream;)V
      :try_end_0
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0
  
      goto :goto_1
  
+     .line 1313
      .end local v10           #history:Landroid/net/NetworkStatsHistory;
      .end local v11           #i$:Ljava/util/Iterator;
      .end local v12           #ident:Lcom/android/server/net/NetworkIdentitySet;
***************
*** 4749,4754 ****
--- 5249,5255 ----
      :catch_0
      move-exception v8
  
+     .line 1314
      .local v8, e:Ljava/io/IOException;
      const-string v20, "NetworkStats"
  
***************
*** 4760,4782 ****
--- 5261,5288 ----
  
      invoke-static {v0, v1, v8}, Landroid/util/Log;->wtf(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1315
      if-eqz v9, :cond_2
  
+     .line 1316
      move-object/from16 v0, p2
  
      invoke-virtual {v0, v9}, Lcom/android/internal/os/AtomicFile;->failWrite(Ljava/io/FileOutputStream;)V
  
+     .line 1319
      .end local v8           #e:Ljava/io/IOException;
      :cond_2
      :goto_2
      return-void
  
+     .line 1311
      .restart local v11       #i$:Ljava/util/Iterator;
      .restart local v15       #out:Ljava/io/DataOutputStream;
      :cond_3
      :try_start_1
      invoke-virtual {v15}, Ljava/io/DataOutputStream;->flush()V
  
+     .line 1312
      move-object/from16 v0, p2
  
      invoke-virtual {v0, v9}, Lcom/android/internal/os/AtomicFile;->finishWrite(Ljava/io/FileOutputStream;)V
***************
*** 4790,4801 ****
--- 5296,5309 ----
      .locals 2
  
      .prologue
+     .line 1262
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtFile:Lcom/android/internal/os/AtomicFile;
  
      invoke-direct {p0, v0, v1}, Lcom/android/server/net/NetworkStatsService;->writeNetworkStats(Ljava/util/HashMap;Lcom/android/internal/os/AtomicFile;)V
  
+     .line 1263
      return-void
  .end method
  
***************
*** 4803,4808 ****
--- 5311,5317 ----
      .locals 22
  
      .prologue
+     .line 1324
      move-object/from16 v0, p0
  
      iget-boolean v0, v0, Lcom/android/server/net/NetworkStatsService;->mUidStatsLoaded:Z
***************
*** 4811,4826 ****
--- 5320,5338 ----
  
      if-nez v18, :cond_1
  
+     .line 1325
      const-string v18, "NetworkStats"
  
      const-string v19, "asked to write UID stats when not loaded; skipping"
  
      invoke-static/range {v18 .. v19}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1391
      :cond_0
      :goto_0
      return-void
  
+     .line 1332
      :cond_1
      move-object/from16 v0, p0
  
***************
*** 4834,4839 ****
--- 5346,5352 ----
  
      if-eqz v18, :cond_3
  
+     .line 1333
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v18
***************
*** 4852,4857 ****
--- 5365,5371 ----
  
      move-result-wide v2
  
+     .line 1335
      .local v2, currentTime:J
      move-object/from16 v0, p0
  
***************
*** 4863,4868 ****
--- 5377,5383 ----
  
      move-result-wide v15
  
+     .line 1336
      .local v15, maxUidHistory:J
      move-object/from16 v0, p0
  
***************
*** 4874,4879 ****
--- 5389,5395 ----
  
      move-result-wide v13
  
+     .line 1337
      .local v13, maxTagHistory:J
      move-object/from16 v0, p0
  
***************
*** 4903,4908 ****
--- 5419,5425 ----
  
      check-cast v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 1338
      .local v10, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      move-object/from16 v0, p0
  
***************
*** 4918,4923 ****
--- 5435,5441 ----
  
      check-cast v6, Landroid/net/NetworkStatsHistory;
  
+     .line 1341
      .local v6, history:Landroid/net/NetworkStatsHistory;
      iget v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->tag:I
  
***************
*** 4925,4930 ****
--- 5443,5449 ----
  
      if-nez v18, :cond_2
  
+     .line 1342
      sub-long v18, v2, v15
  
      move-wide/from16 v0, v18
***************
*** 4933,4938 ****
--- 5452,5458 ----
  
      goto :goto_1
  
+     .line 1344
      :cond_2
      sub-long v18, v2, v13
  
***************
*** 4942,4947 ****
--- 5462,5468 ----
  
      goto :goto_1
  
+     .line 1350
      .end local v2           #currentTime:J
      .end local v6           #history:Landroid/net/NetworkStatsHistory;
      .end local v7           #i$:Ljava/util/Iterator;
***************
*** 4953,4958 ****
--- 5474,5480 ----
  
      move-result-object v12
  
+     .line 1351
      .local v12, keysByIdent:Ljava/util/HashMap;,"Ljava/util/HashMap<Lcom/android/server/net/NetworkIdentitySet;Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;>;"
      move-object/from16 v0, p0
  
***************
*** 4982,4987 ****
--- 5504,5510 ----
  
      check-cast v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 1352
      .restart local v10       #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      iget-object v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->ident:Lcom/android/server/net/NetworkIdentitySet;
  
***************
*** 4995,5007 ****
--- 5518,5533 ----
  
      check-cast v11, Ljava/util/ArrayList;
  
+     .line 1353
      .local v11, keys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
      if-nez v11, :cond_4
  
+     .line 1354
      invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;
  
      move-result-object v11
  
+     .line 1355
      iget-object v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->ident:Lcom/android/server/net/NetworkIdentitySet;
  
      move-object/from16 v18, v0
***************
*** 5010,5025 ****
--- 5536,5554 ----
  
      invoke-virtual {v12, v0, v11}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 1357
      :cond_4
      invoke-virtual {v11, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
  
      goto :goto_2
  
+     .line 1360
      .end local v10           #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      .end local v11           #keys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
      :cond_5
      const/4 v5, 0x0
  
+     .line 1362
      .local v5, fos:Ljava/io/FileOutputStream;
      :try_start_0
      move-object/from16 v0, p0
***************
*** 5032,5037 ****
--- 5561,5567 ----
  
      move-result-object v5
  
+     .line 1363
      new-instance v17, Ljava/io/DataOutputStream;
  
      new-instance v18, Ljava/io/BufferedOutputStream;
***************
*** 5042,5062 ****
--- 5572,5596 ----
  
      invoke-direct/range {v17 .. v18}, Ljava/io/DataOutputStream;-><init>(Ljava/io/OutputStream;)V
  
+     .line 1365
      .local v17, out:Ljava/io/DataOutputStream;
      const v18, 0x414e4554
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1366
      const/16 v18, 0x4
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1368
      invoke-virtual {v12}, Ljava/util/HashMap;->size()I
  
      move-result v18
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1369
      invoke-virtual {v12}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
  
      move-result-object v18
***************
*** 5079,5084 ****
--- 5613,5619 ----
  
      check-cast v9, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1370
      .local v9, ident:Lcom/android/server/net/NetworkIdentitySet;
      invoke-virtual {v12, v9}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
  
***************
*** 5086,5102 ****
--- 5621,5640 ----
  
      check-cast v11, Ljava/util/ArrayList;
  
+     .line 1371
      .restart local v11       #keys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
      move-object/from16 v0, v17
  
      invoke-virtual {v9, v0}, Lcom/android/server/net/NetworkIdentitySet;->writeToStream(Ljava/io/DataOutputStream;)V
  
+     .line 1373
      invoke-virtual {v11}, Ljava/util/ArrayList;->size()I
  
      move-result v18
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1374
      invoke-virtual {v11}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
  
      move-result-object v8
***************
*** 5115,5120 ****
--- 5653,5659 ----
  
      check-cast v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 1375
      .restart local v10       #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      move-object/from16 v0, p0
  
***************
*** 5130,5135 ****
--- 5669,5675 ----
  
      check-cast v6, Landroid/net/NetworkStatsHistory;
  
+     .line 1376
      .restart local v6       #history:Landroid/net/NetworkStatsHistory;
      iget v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->uid:I
  
***************
*** 5137,5154 ****
--- 5677,5697 ----
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1377
      iget v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->set:I
  
      move/from16 v18, v0
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1378
      iget v0, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->tag:I
  
      move/from16 v18, v0
  
      invoke-virtual/range {v17 .. v18}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1379
      move-object/from16 v0, v17
  
      invoke-virtual {v6, v0}, Landroid/net/NetworkStatsHistory;->writeToStream(Ljava/io/DataOutputStream;)V
***************
*** 5157,5162 ****
--- 5700,5706 ----
  
      goto :goto_3
  
+     .line 1385
      .end local v6           #history:Landroid/net/NetworkStatsHistory;
      .end local v8           #i$:Ljava/util/Iterator;
      .end local v9           #ident:Lcom/android/server/net/NetworkIdentitySet;
***************
*** 5166,5171 ****
--- 5710,5716 ----
      :catch_0
      move-exception v4
  
+     .line 1386
      .local v4, e:Ljava/io/IOException;
      const-string v18, "NetworkStats"
  
***************
*** 5177,5184 ****
--- 5722,5731 ----
  
      invoke-static {v0, v1, v4}, Landroid/util/Log;->wtf(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1387
      if-eqz v5, :cond_0
  
+     .line 1388
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mUidFile:Lcom/android/internal/os/AtomicFile;
***************
*** 5191,5202 ****
--- 5738,5751 ----
  
      goto/16 :goto_0
  
+     .line 1383
      .end local v4           #e:Ljava/io/IOException;
      .restart local v17       #out:Ljava/io/DataOutputStream;
      :cond_7
      :try_start_1
      invoke-virtual/range {v17 .. v17}, Ljava/io/DataOutputStream;->flush()V
  
+     .line 1384
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/net/NetworkStatsService;->mUidFile:Lcom/android/internal/os/AtomicFile;
***************
*** 5219,5224 ****
--- 5768,5774 ----
      .parameter "connManager"
  
      .prologue
+     .line 267
      const-string v0, "missing IConnectivityManager"
  
      invoke-static {p1, v0}, Lcom/android/internal/util/Preconditions;->checkNotNull(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 5229,5234 ****
--- 5779,5785 ----
  
      iput-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mConnManager:Landroid/net/IConnectivityManager;
  
+     .line 268
      return-void
  .end method
  
***************
*** 5239,5244 ****
--- 5790,5796 ----
      .parameter "args"
  
      .prologue
+     .line 1395
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v13, "android.permission.DUMP"
***************
*** 5247,5256 ****
--- 5799,5810 ----
  
      invoke-virtual {v12, v13, v14}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1397
      new-instance v2, Ljava/util/HashSet;
  
      invoke-direct {v2}, Ljava/util/HashSet;-><init>()V
  
+     .line 1398
      .local v2, argSet:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      move-object/from16 v3, p3
  
***************
*** 5266,5278 ****
--- 5820,5835 ----
  
      aget-object v1, v3, v6
  
+     .line 1399
      .local v1, arg:Ljava/lang/String;
      invoke-virtual {v2, v1}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 1398
      add-int/lit8 v6, v6, 0x1
  
      goto :goto_0
  
+     .line 1402
      .end local v1           #arg:Ljava/lang/String;
      :cond_0
      const-string v12, "full"
***************
*** 5281,5291 ****
--- 5838,5850 ----
  
      move-result v4
  
+     .line 1404
      .local v4, fullHistory:Z
      iget-object v13, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v13
  
+     .line 1406
      :try_start_0
      const-string v12, "generate"
  
***************
*** 5295,5316 ****
--- 5854,5880 ----
  
      if-eqz v12, :cond_1
  
+     .line 1407
      move-object/from16 v0, p3
  
      invoke-direct {p0, v0}, Lcom/android/server/net/NetworkStatsService;->generateRandomLocked([Ljava/lang/String;)V
  
+     .line 1408
      const-string v12, "Generated stub stats"
  
      move-object/from16 v0, p2
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1409
      monitor-exit v13
  
+     .line 1460
      .end local v6           #i$:I
      :goto_1
      return-void
  
+     .line 1412
      .restart local v6       #i$:I
      :cond_1
      const-string v12, "poll"
***************
*** 5321,5340 ****
--- 5885,5908 ----
  
      if-eqz v12, :cond_2
  
+     .line 1413
      const/16 v12, 0x103
  
      invoke-direct {p0, v12}, Lcom/android/server/net/NetworkStatsService;->performPollLocked(I)V
  
+     .line 1414
      const-string v12, "Forced poll"
  
      move-object/from16 v0, p2
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1415
      monitor-exit v13
  
      goto :goto_1
  
+     .line 1459
      .end local v6           #i$:I
      :catchall_0
      move-exception v12
***************
*** 5345,5350 ****
--- 5913,5919 ----
  
      throw v12
  
+     .line 1418
      .restart local v6       #i$:I
      :cond_2
      :try_start_1
***************
*** 5354,5359 ****
--- 5923,5929 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1419
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
      invoke-virtual {v12}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
***************
*** 5378,5383 ****
--- 5948,5954 ----
  
      check-cast v8, Ljava/lang/String;
  
+     .line 1420
      .local v8, iface:Ljava/lang/String;
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mActiveIfaces:Ljava/util/HashMap;
  
***************
*** 5387,5392 ****
--- 5958,5964 ----
  
      check-cast v7, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1421
      .local v7, ident:Lcom/android/server/net/NetworkIdentitySet;
      const-string v12, "  iface="
  
***************
*** 5398,5403 ****
--- 5970,5976 ----
  
      invoke-virtual {v0, v8}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
  
+     .line 1422
      const-string v12, " ident="
  
      move-object/from16 v0, p2
***************
*** 5414,5419 ****
--- 5987,5993 ----
  
      goto :goto_2
  
+     .line 1425
      .end local v7           #ident:Lcom/android/server/net/NetworkIdentitySet;
      .end local v8           #iface:Ljava/lang/String;
      :cond_3
***************
*** 5423,5428 ****
--- 5997,6003 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1426
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
      invoke-virtual {v12}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
***************
*** 5446,5451 ****
--- 6021,6027 ----
  
      check-cast v7, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1427
      .restart local v7       #ident:Lcom/android/server/net/NetworkIdentitySet;
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkDevStats:Ljava/util/HashMap;
  
***************
*** 5455,5460 ****
--- 6031,6037 ----
  
      check-cast v5, Landroid/net/NetworkStatsHistory;
  
+     .line 1428
      .local v5, history:Landroid/net/NetworkStatsHistory;
      const-string v12, "  ident="
  
***************
*** 5470,5475 ****
--- 6047,6053 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1429
      const-string v12, "  "
  
      move-object/from16 v0, p2
***************
*** 5478,5483 ****
--- 6056,6062 ----
  
      goto :goto_3
  
+     .line 1432
      .end local v5           #history:Landroid/net/NetworkStatsHistory;
      .end local v7           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_4
***************
*** 5487,5492 ****
--- 6066,6072 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1433
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
      invoke-virtual {v12}, Ljava/util/HashMap;->keySet()Ljava/util/Set;
***************
*** 5510,5515 ****
--- 6090,6096 ----
  
      check-cast v7, Lcom/android/server/net/NetworkIdentitySet;
  
+     .line 1434
      .restart local v7       #ident:Lcom/android/server/net/NetworkIdentitySet;
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkXtStats:Ljava/util/HashMap;
  
***************
*** 5519,5524 ****
--- 6100,6106 ----
  
      check-cast v5, Landroid/net/NetworkStatsHistory;
  
+     .line 1435
      .restart local v5       #history:Landroid/net/NetworkStatsHistory;
      const-string v12, "  ident="
  
***************
*** 5534,5539 ****
--- 6116,6122 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1436
      const-string v12, "  "
  
      move-object/from16 v0, p2
***************
*** 5542,5547 ****
--- 6125,6131 ----
  
      goto :goto_4
  
+     .line 1439
      .end local v5           #history:Landroid/net/NetworkStatsHistory;
      .end local v7           #ident:Lcom/android/server/net/NetworkIdentitySet;
      :cond_5
***************
*** 5553,5564 ****
--- 6137,6151 ----
  
      if-eqz v12, :cond_6
  
+     .line 1442
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 1444
      invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;
  
      move-result-object v10
  
+     .line 1445
      .local v10, keys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 5568,5581 ****
--- 6155,6171 ----
  
      invoke-virtual {v10, v12}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z
  
+     .line 1446
      invoke-static {v10}, Ljava/util/Collections;->sort(Ljava/util/List;)V
  
+     .line 1448
      const-string v12, "Detailed UID stats:"
  
      move-object/from16 v0, p2
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1449
      invoke-virtual {v10}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
  
      move-result-object v6
***************
*** 5593,5598 ****
--- 6183,6189 ----
  
      check-cast v9, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 1450
      .local v9, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      const-string v12, "  ident="
  
***************
*** 5610,5615 ****
--- 6201,6207 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
  
+     .line 1451
      const-string v12, " uid="
  
      move-object/from16 v0, p2
***************
*** 5622,5627 ****
--- 6214,6220 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->print(I)V
  
+     .line 1452
      const-string v12, " set="
  
      move-object/from16 v0, p2
***************
*** 5638,5643 ****
--- 6231,6237 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
  
+     .line 1453
      const-string v12, " tag="
  
      move-object/from16 v0, p2
***************
*** 5654,5659 ****
--- 6248,6254 ----
  
      invoke-virtual {v0, v12}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1455
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v12, v9}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 5662,5667 ****
--- 6257,6263 ----
  
      check-cast v5, Landroid/net/NetworkStatsHistory;
  
+     .line 1456
      .restart local v5       #history:Landroid/net/NetworkStatsHistory;
      const-string v12, "    "
  
***************
*** 5671,5676 ****
--- 6267,6273 ----
  
      goto :goto_5
  
+     .line 1459
      .end local v5           #history:Landroid/net/NetworkStatsHistory;
      .end local v9           #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      .end local v10           #keys:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/net/NetworkStatsService$UidStatsKey;>;"
***************
*** 5686,5691 ****
--- 6283,6289 ----
      .locals 3
  
      .prologue
+     .line 598
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.READ_NETWORK_USAGE_HISTORY"
***************
*** 5694,5703 ****
--- 6292,6303 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 599
      const/4 v0, 0x3
  
      invoke-direct {p0, v0}, Lcom/android/server/net/NetworkStatsService;->performPoll(I)V
  
+     .line 600
      return-void
  .end method
  
***************
*** 5711,5722 ****
--- 6311,6324 ----
      .end annotation
  
      .prologue
+     .line 540
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v4
  
      if-eq v4, p1, :cond_0
  
+     .line 541
      iget-object v4, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v5, "android.permission.ACCESS_NETWORK_STATE"
***************
*** 5725,5730 ****
--- 6327,6333 ----
  
      invoke-virtual {v4, v5, v6}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 546
      :cond_0
      iget-object v4, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
***************
*** 5732,5737 ****
--- 6335,6341 ----
  
      move-result-object v3
  
+     .line 547
      .local v3, networkLayer:Landroid/net/NetworkStats;
      new-instance v0, Landroid/net/NetworkStats;
  
***************
*** 5745,5753 ****
--- 6349,6359 ----
  
      invoke-direct {v0, v4, v5, v6}, Landroid/net/NetworkStats;-><init>(JI)V
  
+     .line 550
      .local v0, dataLayer:Landroid/net/NetworkStats;
      const/4 v1, 0x0
  
+     .line 551
      .local v1, entry:Landroid/net/NetworkStats$Entry;
      const/4 v2, 0x0
  
***************
*** 5759,5783 ****
--- 6365,6395 ----
  
      if-ge v2, v4, :cond_1
  
+     .line 552
      invoke-virtual {v3, v2, v1}, Landroid/net/NetworkStats;->getValues(ILandroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats$Entry;
  
      move-result-object v1
  
+     .line 553
      sget-object v4, Landroid/net/NetworkStats;->IFACE_ALL:Ljava/lang/String;
  
      iput-object v4, v1, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
  
+     .line 554
      invoke-virtual {v0, v1}, Landroid/net/NetworkStats;->combineValues(Landroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats;
  
+     .line 551
      add-int/lit8 v2, v2, 0x1
  
      goto :goto_0
  
+     .line 558
      :cond_1
      iget-object v4, p0, Lcom/android/server/net/NetworkStatsService;->mOperations:Landroid/net/NetworkStats;
  
      invoke-virtual {v0, v4}, Landroid/net/NetworkStats;->spliceOperationsFrom(Landroid/net/NetworkStats;)V
  
+     .line 559
      return-object v0
  .end method
  
***************
*** 5787,5792 ****
--- 6399,6405 ----
      .parameter "fields"
  
      .prologue
+     .line 381
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.READ_NETWORK_USAGE_HISTORY"
***************
*** 5795,5800 ****
--- 6408,6414 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 382
      invoke-direct {p0, p1, p2}, Lcom/android/server/net/NetworkStatsService;->getHistoryForNetworkDev(Landroid/net/NetworkTemplate;I)Landroid/net/NetworkStatsHistory;
  
      move-result-object v0
***************
*** 5811,5816 ****
--- 6425,6431 ----
      .parameter "fields"
  
      .prologue
+     .line 414
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v6, "android.permission.READ_NETWORK_USAGE_HISTORY"
***************
*** 5819,5831 ****
--- 6434,6449 ----
  
      invoke-virtual {v5, v6, v7}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 416
      iget-object v6, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v6
  
+     .line 417
      :try_start_0
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 420
      new-instance v0, Landroid/net/NetworkStatsHistory;
  
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mSettings:Lcom/android/server/net/NetworkStatsService$NetworkStatsSettings;
***************
*** 5840,5845 ****
--- 6458,6464 ----
  
      invoke-direct {v0, v7, v8, v5, p5}, Landroid/net/NetworkStatsHistory;-><init>(JII)V
  
+     .line 422
      .local v0, combined:Landroid/net/NetworkStatsHistory;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 5866,5871 ****
--- 6485,6491 ----
  
      check-cast v3, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 423
      .local v3, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      const/4 v5, -0x1
  
***************
*** 5878,5883 ****
--- 6498,6504 ----
      :cond_1
      const/4 v4, 0x1
  
+     .line 424
      .local v4, setMatches:Z
      :goto_1
      iget-object v5, v3, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->ident:Lcom/android/server/net/NetworkIdentitySet;
***************
*** 5898,5903 ****
--- 6519,6525 ----
  
      if-ne v5, p4, :cond_0
  
+     .line 426
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
      invoke-virtual {v5, v3}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
***************
*** 5906,5916 ****
--- 6528,6540 ----
  
      check-cast v1, Landroid/net/NetworkStatsHistory;
  
+     .line 427
      .local v1, history:Landroid/net/NetworkStatsHistory;
      invoke-virtual {v0, v1}, Landroid/net/NetworkStatsHistory;->recordEntireHistory(Landroid/net/NetworkStatsHistory;)V
  
      goto :goto_0
  
+     .line 432
      .end local v0           #combined:Landroid/net/NetworkStatsHistory;
      .end local v1           #history:Landroid/net/NetworkStatsHistory;
      .end local v2           #i$:Ljava/util/Iterator;
***************
*** 5925,5930 ****
--- 6549,6555 ----
  
      throw v5
  
+     .line 423
      .restart local v0       #combined:Landroid/net/NetworkStatsHistory;
      .restart local v2       #i$:Ljava/util/Iterator;
      .restart local v3       #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
***************
*** 5933,5938 ****
--- 6558,6564 ----
  
      goto :goto_1
  
+     .line 431
      .end local v3           #key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      :cond_3
      :try_start_1
***************
*** 5951,5956 ****
--- 6577,6583 ----
      .parameter "includeTags"
  
      .prologue
+     .line 496
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.READ_NETWORK_USAGE_HISTORY"
***************
*** 5959,5975 ****
--- 6586,6606 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 498
      iget-object v12, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v12
  
+     .line 499
      :try_start_0
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->ensureUidStatsLoadedLocked()V
  
+     .line 502
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v5
  
+     .line 504
      .local v5, now:J
      new-instance v11, Landroid/net/NetworkStats;
  
***************
*** 5979,5992 ****
--- 6610,6626 ----
  
      invoke-direct {v11, v1, v2, v3}, Landroid/net/NetworkStats;-><init>(JI)V
  
+     .line 505
      .local v11, stats:Landroid/net/NetworkStats;
      new-instance v8, Landroid/net/NetworkStats$Entry;
  
      invoke-direct {v8}, Landroid/net/NetworkStats$Entry;-><init>()V
  
+     .line 506
      .local v8, entry:Landroid/net/NetworkStats$Entry;
      const/4 v7, 0x0
  
+     .line 508
      .local v7, historyEntry:Landroid/net/NetworkStatsHistory$Entry;
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 6013,6018 ****
--- 6647,6653 ----
  
      check-cast v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;
  
+     .line 509
      .local v10, key:Lcom/android/server/net/NetworkStatsService$UidStatsKey;
      iget-object v1, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->ident:Lcom/android/server/net/NetworkIdentitySet;
  
***************
*** 6022,6033 ****
--- 6657,6670 ----
  
      if-eqz v1, :cond_0
  
+     .line 512
      iget v1, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->tag:I
  
      if-eqz v1, :cond_1
  
      if-eqz p6, :cond_0
  
+     .line 513
      :cond_1
      iget-object v1, p0, Lcom/android/server/net/NetworkStatsService;->mUidStats:Ljava/util/HashMap;
  
***************
*** 6042,6087 ****
--- 6679,6735 ----
  
      move-wide/from16 v3, p4
  
+     .line 514
      invoke-virtual/range {v0 .. v7}, Landroid/net/NetworkStatsHistory;->getValues(JJJLandroid/net/NetworkStatsHistory$Entry;)Landroid/net/NetworkStatsHistory$Entry;
  
      move-result-object v7
  
+     .line 516
      sget-object v1, Landroid/net/NetworkStats;->IFACE_ALL:Ljava/lang/String;
  
      iput-object v1, v8, Landroid/net/NetworkStats$Entry;->iface:Ljava/lang/String;
  
+     .line 517
      iget v1, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->uid:I
  
      iput v1, v8, Landroid/net/NetworkStats$Entry;->uid:I
  
+     .line 518
      iget v1, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->set:I
  
      iput v1, v8, Landroid/net/NetworkStats$Entry;->set:I
  
+     .line 519
      iget v1, v10, Lcom/android/server/net/NetworkStatsService$UidStatsKey;->tag:I
  
      iput v1, v8, Landroid/net/NetworkStats$Entry;->tag:I
  
+     .line 520
      iget-wide v1, v7, Landroid/net/NetworkStatsHistory$Entry;->rxBytes:J
  
      iput-wide v1, v8, Landroid/net/NetworkStats$Entry;->rxBytes:J
  
+     .line 521
      iget-wide v1, v7, Landroid/net/NetworkStatsHistory$Entry;->rxPackets:J
  
      iput-wide v1, v8, Landroid/net/NetworkStats$Entry;->rxPackets:J
  
+     .line 522
      iget-wide v1, v7, Landroid/net/NetworkStatsHistory$Entry;->txBytes:J
  
      iput-wide v1, v8, Landroid/net/NetworkStats$Entry;->txBytes:J
  
+     .line 523
      iget-wide v1, v7, Landroid/net/NetworkStatsHistory$Entry;->txPackets:J
  
      iput-wide v1, v8, Landroid/net/NetworkStats$Entry;->txPackets:J
  
+     .line 524
      iget-wide v1, v7, Landroid/net/NetworkStatsHistory$Entry;->operations:J
  
      iput-wide v1, v8, Landroid/net/NetworkStats$Entry;->operations:J
  
+     .line 526
      iget-wide v1, v8, Landroid/net/NetworkStats$Entry;->rxBytes:J
  
      const-wide/16 v3, 0x0
***************
*** 6122,6132 ****
--- 6770,6782 ----
  
      if-lez v1, :cond_0
  
+     .line 528
      :cond_2
      invoke-virtual {v11, v8}, Landroid/net/NetworkStats;->combineValues(Landroid/net/NetworkStats$Entry;)Landroid/net/NetworkStats;
  
      goto :goto_0
  
+     .line 535
      .end local v0           #history:Landroid/net/NetworkStatsHistory;
      .end local v5           #now:J
      .end local v7           #historyEntry:Landroid/net/NetworkStatsHistory$Entry;
***************
*** 6143,6148 ****
--- 6793,6799 ----
  
      throw v1
  
+     .line 534
      .restart local v5       #now:J
      .restart local v7       #historyEntry:Landroid/net/NetworkStatsHistory$Entry;
      .restart local v8       #entry:Landroid/net/NetworkStats$Entry;
***************
*** 6164,6169 ****
--- 6815,6821 ----
      .parameter "end"
  
      .prologue
+     .line 437
      iget-object v0, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.READ_NETWORK_USAGE_HISTORY"
***************
*** 6172,6177 ****
--- 6824,6830 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 438
      invoke-direct/range {p0 .. p5}, Lcom/android/server/net/NetworkStatsService;->getSummaryForNetworkDev(Landroid/net/NetworkTemplate;JJ)Landroid/net/NetworkStats;
  
      move-result-object v0
***************
*** 6186,6191 ****
--- 6839,6845 ----
      .parameter "operationCount"
  
      .prologue
+     .line 564
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v1
***************
*** 6194,6199 ****
--- 6848,6854 ----
  
      if-eq v1, v0, :cond_0
  
+     .line 565
      move-object/from16 v0, p0
  
      iget-object v1, v0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
***************
*** 6204,6212 ****
--- 6859,6869 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 568
      :cond_0
      if-gez p3, :cond_1
  
+     .line 569
      new-instance v1, Ljava/lang/IllegalArgumentException;
  
      const-string v2, "operation count can only be incremented"
***************
*** 6215,6223 ****
--- 6872,6882 ----
  
      throw v1
  
+     .line 571
      :cond_1
      if-nez p2, :cond_2
  
+     .line 572
      new-instance v1, Ljava/lang/IllegalArgumentException;
  
      const-string v2, "operation count must have specific tag"
***************
*** 6226,6231 ****
--- 6885,6891 ----
  
      throw v1
  
+     .line 575
      :cond_2
      move-object/from16 v0, p0
  
***************
*** 6235,6240 ****
--- 6895,6901 ----
  
      monitor-enter v16
  
+     .line 576
      :try_start_0
      move-object/from16 v0, p0
  
***************
*** 6248,6253 ****
--- 6909,6915 ----
  
      move-result v4
  
+     .line 577
      .local v4, set:I
      move-object/from16 v0, p0
  
***************
*** 6273,6278 ****
--- 6935,6941 ----
  
      invoke-virtual/range {v1 .. v15}, Landroid/net/NetworkStats;->combineValues(Ljava/lang/String;IIIJJJJJ)Landroid/net/NetworkStats;
  
+     .line 578
      move-object/from16 v0, p0
  
      iget-object v1, v0, Lcom/android/server/net/NetworkStatsService;->mOperations:Landroid/net/NetworkStats;
***************
*** 6297,6306 ****
--- 6960,6972 ----
  
      invoke-virtual/range {v1 .. v15}, Landroid/net/NetworkStats;->combineValues(Ljava/lang/String;IIIJJJJJ)Landroid/net/NetworkStats;
  
+     .line 579
      monitor-exit v16
  
+     .line 580
      return-void
  
+     .line 579
      .end local v4           #set:I
      :catchall_0
      move-exception v1
***************
*** 6320,6325 ****
--- 6986,6992 ----
      .prologue
      const/4 v1, 0x0
  
+     .line 584
      iget-object v2, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.MODIFY_NETWORK_ACCOUNTING"
***************
*** 6328,6341 ****
--- 6995,7011 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 586
      iget-object v3, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v3
  
+     .line 587
      if-eqz p2, :cond_0
  
      const/4 v1, 0x1
  
+     .line 588
      .local v1, set:I
      :cond_0
      :try_start_0
***************
*** 6347,6366 ****
--- 7017,7042 ----
  
      move-result v0
  
+     .line 589
      .local v0, oldSet:I
      if-eq v0, v1, :cond_1
  
+     .line 590
      iget-object v2, p0, Lcom/android/server/net/NetworkStatsService;->mActiveUidCounterSet:Landroid/util/SparseIntArray;
  
      invoke-virtual {v2, p1, v1}, Landroid/util/SparseIntArray;->put(II)V
  
+     .line 591
      invoke-static {p1, v1}, Lcom/android/server/NetworkManagementSocketTagger;->setKernelCounterSet(II)V
  
+     .line 593
      :cond_1
      monitor-exit v3
  
+     .line 594
      return-void
  
+     .line 593
      .end local v0           #oldSet:I
      :catchall_0
      move-exception v2
***************
*** 6376,6406 ****
--- 7052,7090 ----
      .locals 9
  
      .prologue
+     .line 271
      iget-object v6, p0, Lcom/android/server/net/NetworkStatsService;->mStatsLock:Ljava/lang/Object;
  
      monitor-enter v6
  
+     .line 275
      :try_start_0
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->readNetworkDevStatsLocked()V
  
+     .line 276
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->readNetworkXtStatsLocked()V
  
+     .line 277
      const/4 v5, 0x1
  
      iput-boolean v5, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkStatsLoaded:Z
  
+     .line 278
      monitor-exit v6
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 281
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->bootstrapStats()V
  
+     .line 284
      new-instance v0, Landroid/content/IntentFilter;
  
      const-string v5, "android.net.conn.CONNECTIVITY_CHANGE_IMMEDIATE"
  
      invoke-direct {v0, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V
  
+     .line 285
      .local v0, connFilter:Landroid/content/IntentFilter;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 6412,6423 ****
--- 7096,7109 ----
  
      invoke-virtual {v5, v6, v0, v7, v8}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 288
      new-instance v4, Landroid/content/IntentFilter;
  
      const-string v5, "android.net.conn.TETHER_STATE_CHANGED"
  
      invoke-direct {v4, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V
  
+     .line 289
      .local v4, tetherFilter:Landroid/content/IntentFilter;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 6429,6440 ****
--- 7115,7128 ----
  
      invoke-virtual {v5, v6, v4, v7, v8}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 292
      new-instance v1, Landroid/content/IntentFilter;
  
      const-string v5, "com.android.server.action.NETWORK_STATS_POLL"
  
      invoke-direct {v1, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V
  
+     .line 293
      .local v1, pollFilter:Landroid/content/IntentFilter;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 6446,6457 ****
--- 7134,7147 ----
  
      invoke-virtual {v5, v6, v1, v7, v8}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 296
      new-instance v2, Landroid/content/IntentFilter;
  
      const-string v5, "android.intent.action.UID_REMOVED"
  
      invoke-direct {v2, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V
  
+     .line 297
      .local v2, removedFilter:Landroid/content/IntentFilter;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 6463,6474 ****
--- 7153,7166 ----
  
      invoke-virtual {v5, v6, v2, v7, v8}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 300
      new-instance v3, Landroid/content/IntentFilter;
  
      const-string v5, "android.intent.action.ACTION_SHUTDOWN"
  
      invoke-direct {v3, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V
  
+     .line 301
      .local v3, shutdownFilter:Landroid/content/IntentFilter;
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
***************
*** 6476,6481 ****
--- 7168,7174 ----
  
      invoke-virtual {v5, v6, v3}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 304
      :try_start_1
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mNetworkManager:Landroid/os/INetworkManagementService;
  
***************
*** 6485,6490 ****
--- 7178,7184 ----
      :try_end_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 311
      :goto_0
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mTeleManager:Landroid/telephony/TelephonyManager;
  
***************
*** 6494,6503 ****
--- 7188,7200 ----
  
      invoke-virtual {v5, v6, v7}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
  
+     .line 313
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->registerPollAlarmLocked()V
  
+     .line 314
      invoke-direct {p0}, Lcom/android/server/net/NetworkStatsService;->registerGlobalAlert()V
  
+     .line 316
      iget-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mContext:Landroid/content/Context;
  
      const-string v6, "dropbox"
***************
*** 6510,6517 ****
--- 7207,7216 ----
  
      iput-object v5, p0, Lcom/android/server/net/NetworkStatsService;->mDropBox:Landroid/os/DropBoxManager;
  
+     .line 317
      return-void
  
+     .line 278
      .end local v0           #connFilter:Landroid/content/IntentFilter;
      .end local v1           #pollFilter:Landroid/content/IntentFilter;
      .end local v2           #removedFilter:Landroid/content/IntentFilter;
***************
*** 6527,6532 ****
--- 7226,7232 ----
  
      throw v5
  
+     .line 305
      .restart local v0       #connFilter:Landroid/content/IntentFilter;
      .restart local v1       #pollFilter:Landroid/content/IntentFilter;
      .restart local v2       #removedFilter:Landroid/content/IntentFilter;
