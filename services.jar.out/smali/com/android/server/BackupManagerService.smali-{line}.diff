*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/BackupManagerService.smali	2012-03-23 19:35:08.884748899 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/BackupManagerService.smali.original	2012-03-23 19:34:47.316355600 -0500
***************
*** 315,322 ****
--- 315,324 ----
      .parameter "context"
  
      .prologue
+     .line 657
      invoke-direct/range {p0 .. p0}, Landroid/app/backup/IBackupManager$Stub;-><init>()V
  
+     .line 198
      new-instance v20, Landroid/os/HandlerThread;
  
      const-string v21, "backup"
***************
*** 331,336 ****
--- 333,339 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
+     .line 203
      new-instance v20, Landroid/util/SparseArray;
  
      invoke-direct/range {v20 .. v20}, Landroid/util/SparseArray;-><init>()V
***************
*** 341,346 ****
--- 344,350 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
+     .line 218
      new-instance v20, Ljava/util/HashMap;
  
      invoke-direct/range {v20 .. v20}, Ljava/util/HashMap;-><init>()V
***************
*** 351,356 ****
--- 355,361 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPendingBackups:Ljava/util/HashMap;
  
+     .line 225
      new-instance v20, Ljava/lang/Object;
  
      invoke-direct/range {v20 .. v20}, Ljava/lang/Object;-><init>()V
***************
*** 361,366 ****
--- 366,372 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
+     .line 231
      new-instance v20, Ljava/lang/Object;
  
      invoke-direct/range {v20 .. v20}, Ljava/lang/Object;-><init>()V
***************
*** 371,376 ****
--- 377,383 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
+     .line 239
      new-instance v20, Ljava/lang/Object;
  
      invoke-direct/range {v20 .. v20}, Ljava/lang/Object;-><init>()V
***************
*** 381,386 ****
--- 388,394 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mClearDataLock:Ljava/lang/Object;
  
+     .line 243
      new-instance v20, Ljava/util/HashMap;
  
      invoke-direct/range {v20 .. v20}, Ljava/util/HashMap;-><init>()V
***************
*** 391,396 ****
--- 399,405 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
+     .line 366
      new-instance v20, Landroid/util/SparseArray;
  
      invoke-direct/range {v20 .. v20}, Landroid/util/SparseArray;-><init>()V
***************
*** 401,406 ****
--- 410,416 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
  
+     .line 367
      new-instance v20, Ljava/lang/Object;
  
      invoke-direct/range {v20 .. v20}, Ljava/lang/Object;-><init>()V
***************
*** 411,416 ****
--- 421,427 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
+     .line 368
      new-instance v20, Ljava/util/Random;
  
      invoke-direct/range {v20 .. v20}, Ljava/util/Random;-><init>()V
***************
*** 421,426 ****
--- 432,438 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mTokenGenerator:Ljava/util/Random;
  
+     .line 370
      new-instance v20, Landroid/util/SparseArray;
  
      invoke-direct/range {v20 .. v20}, Landroid/util/SparseArray;-><init>()V
***************
*** 431,436 ****
--- 443,449 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
+     .line 384
      new-instance v20, Ljava/security/SecureRandom;
  
      invoke-direct/range {v20 .. v20}, Ljava/security/SecureRandom;-><init>()V
***************
*** 441,446 ****
--- 454,460 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mRng:Ljava/security/SecureRandom;
  
+     .line 399
      new-instance v20, Ljava/util/HashSet;
  
      invoke-direct/range {v20 .. v20}, Ljava/util/HashSet;-><init>()V
***************
*** 451,456 ****
--- 465,471 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
+     .line 403
      const/16 v20, 0x0
  
      move-object/from16 v0, v20
***************
*** 459,464 ****
--- 474,480 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
  
+     .line 404
      const-wide/16 v20, 0x0
  
      move-wide/from16 v0, v20
***************
*** 467,472 ****
--- 483,489 ----
  
      iput-wide v0, v2, Lcom/android/server/BackupManagerService;->mAncestralToken:J
  
+     .line 405
      const-wide/16 v20, 0x0
  
      move-wide/from16 v0, v20
***************
*** 475,480 ****
--- 492,498 ----
  
      iput-wide v0, v2, Lcom/android/server/BackupManagerService;->mCurrentToken:J
  
+     .line 409
      new-instance v20, Ljava/util/HashSet;
  
      invoke-direct/range {v20 .. v20}, Ljava/util/HashSet;-><init>()V
***************
*** 485,490 ****
--- 503,509 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPendingInits:Ljava/util/HashSet;
  
+     .line 1272
      new-instance v20, Lcom/android/server/BackupManagerService$1;
  
      move-object/from16 v0, v20
***************
*** 499,504 ****
--- 518,524 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 1338
      new-instance v20, Lcom/android/server/BackupManagerService$2;
  
      move-object/from16 v0, v20
***************
*** 513,524 ****
--- 533,546 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mGoogleConnection:Landroid/content/ServiceConnection;
  
+     .line 658
      move-object/from16 v0, p1
  
      move-object/from16 v1, p0
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
+     .line 659
      invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
  
      move-result-object v20
***************
*** 529,534 ****
--- 551,557 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
  
+     .line 660
      invoke-static {}, Landroid/app/AppGlobals;->getPackageManager()Landroid/content/pm/IPackageManager;
  
      move-result-object v20
***************
*** 539,544 ****
--- 562,568 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPackageManagerBinder:Landroid/content/pm/IPackageManager;
  
+     .line 661
      invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
  
      move-result-object v20
***************
*** 549,554 ****
--- 573,579 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mActivityManager:Landroid/app/IActivityManager;
  
+     .line 663
      const-string v20, "alarm"
  
      move-object/from16 v0, p1
***************
*** 567,572 ****
--- 592,598 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
+     .line 664
      const-string v20, "power"
  
      move-object/from16 v0, p1
***************
*** 585,590 ****
--- 611,617 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPowerManager:Landroid/os/PowerManager;
  
+     .line 665
      const-string v20, "mount"
  
      invoke-static/range {v20 .. v20}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
***************
*** 601,606 ****
--- 628,634 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mMountService:Landroid/os/storage/IMountService;
  
+     .line 667
      invoke-virtual/range {p0 .. p0}, Lcom/android/server/BackupManagerService;->asBinder()Landroid/os/IBinder;
  
      move-result-object v20
***************
*** 615,620 ****
--- 643,649 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mBackupManagerBinder:Landroid/app/backup/IBackupManager;
  
+     .line 670
      new-instance v20, Landroid/os/HandlerThread;
  
      const-string v21, "backup"
***************
*** 629,634 ****
--- 658,664 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
+     .line 671
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mHandlerThread:Landroid/os/HandlerThread;
***************
*** 637,642 ****
--- 667,673 ----
  
      invoke-virtual/range {v20 .. v20}, Landroid/os/HandlerThread;->start()V
  
+     .line 672
      new-instance v20, Lcom/android/server/BackupManagerService$BackupHandler;
  
      move-object/from16 v0, p0
***************
*** 663,668 ****
--- 694,700 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
+     .line 675
      invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
  
      move-result-object v20
***************
*** 679,684 ****
--- 711,717 ----
  
      const/4 v4, 0x1
  
+     .line 677
      .local v4, areEnabled:Z
      :goto_0
      invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
***************
*** 704,709 ****
--- 737,743 ----
  
      iput-boolean v0, v1, Lcom/android/server/BackupManagerService;->mProvisioned:Z
  
+     .line 679
      invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
  
      move-result-object v20
***************
*** 727,732 ****
--- 761,767 ----
  
      iput-boolean v0, v1, Lcom/android/server/BackupManagerService;->mAutoRestore:Z
  
+     .line 683
      new-instance v20, Ljava/io/File;
  
      invoke-static {}, Landroid/os/Environment;->getSecureDataDirectory()Ljava/io/File;
***************
*** 743,748 ****
--- 778,784 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mBaseStateDir:Ljava/io/File;
  
+     .line 684
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mBaseStateDir:Ljava/io/File;
***************
*** 751,756 ****
--- 787,793 ----
  
      invoke-virtual/range {v20 .. v20}, Ljava/io/File;->mkdirs()Z
  
+     .line 685
      invoke-static {}, Landroid/os/Environment;->getDownloadCacheDirectory()Ljava/io/File;
  
      move-result-object v20
***************
*** 761,766 ****
--- 798,804 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mDataDir:Ljava/io/File;
  
+     .line 687
      new-instance v20, Ljava/io/File;
  
      move-object/from16 v0, p0
***************
*** 779,784 ****
--- 817,823 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPasswordHashFile:Ljava/io/File;
  
+     .line 688
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mPasswordHashFile:Ljava/io/File;
***************
*** 791,801 ****
--- 830,843 ----
  
      if-eqz v20, :cond_1
  
+     .line 689
      const/4 v8, 0x0
  
+     .line 690
      .local v8, fin:Ljava/io/FileInputStream;
      const/4 v10, 0x0
  
+     .line 692
      .local v10, in:Ljava/io/DataInputStream;
      :try_start_0
      new-instance v9, Ljava/io/FileInputStream;
***************
*** 813,818 ****
--- 855,861 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 693
      .end local v8           #fin:Ljava/io/FileInputStream;
      .local v9, fin:Ljava/io/FileInputStream;
      :try_start_1
***************
*** 831,836 ****
--- 874,880 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_2
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_5
  
+     .line 696
      .end local v10           #in:Ljava/io/DataInputStream;
      .local v11, in:Ljava/io/DataInputStream;
      :try_start_2
***************
*** 838,843 ****
--- 882,888 ----
  
      move-result v18
  
+     .line 697
      .local v18, saltLen:I
      move/from16 v0, v18
  
***************
*** 845,855 ****
--- 890,902 ----
  
      move-object/from16 v17, v0
  
+     .line 698
      .local v17, salt:[B
      move-object/from16 v0, v17
  
      invoke-virtual {v11, v0}, Ljava/io/DataInputStream;->readFully([B)V
  
+     .line 699
      invoke-virtual {v11}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
  
      move-result-object v20
***************
*** 860,865 ****
--- 907,913 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mPasswordHash:Ljava/lang/String;
  
+     .line 700
      move-object/from16 v0, v17
  
      move-object/from16 v1, p0
***************
*** 869,879 ****
--- 917,929 ----
      .catchall {:try_start_2 .. :try_end_2} :catchall_3
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_6
  
+     .line 705
      if-eqz v11, :cond_0
  
      :try_start_3
      invoke-virtual {v11}, Ljava/io/DataInputStream;->close()V
  
+     .line 706
      :cond_0
      if-eqz v9, :cond_1
  
***************
*** 881,886 ****
--- 931,937 ----
      :try_end_3
      .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_4
  
+     .line 714
      .end local v9           #fin:Ljava/io/FileInputStream;
      .end local v11           #in:Ljava/io/DataInputStream;
      .end local v17           #salt:[B
***************
*** 905,914 ****
--- 956,967 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mRunBackupReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 715
      new-instance v7, Landroid/content/IntentFilter;
  
      invoke-direct {v7}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 716
      .local v7, filter:Landroid/content/IntentFilter;
      const-string v20, "android.app.backup.intent.RUN"
  
***************
*** 916,921 ****
--- 969,975 ----
  
      invoke-virtual {v7, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 717
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mRunBackupReceiver:Landroid/content/BroadcastReceiver;
***************
*** 936,941 ****
--- 990,996 ----
  
      invoke-virtual {v0, v1, v7, v2, v3}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 720
      new-instance v20, Lcom/android/server/BackupManagerService$RunInitializeReceiver;
  
      const/16 v21, 0x0
***************
*** 954,964 ****
--- 1009,1021 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mRunInitReceiver:Landroid/content/BroadcastReceiver;
  
+     .line 721
      new-instance v7, Landroid/content/IntentFilter;
  
      .end local v7           #filter:Landroid/content/IntentFilter;
      invoke-direct {v7}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 722
      .restart local v7       #filter:Landroid/content/IntentFilter;
      const-string v20, "android.app.backup.intent.INIT"
  
***************
*** 966,971 ****
--- 1023,1029 ----
  
      invoke-virtual {v7, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 723
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mRunInitReceiver:Landroid/content/BroadcastReceiver;
***************
*** 986,991 ****
--- 1044,1050 ----
  
      invoke-virtual {v0, v1, v7, v2, v3}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/lang/String;Landroid/os/Handler;)Landroid/content/Intent;
  
+     .line 726
      new-instance v5, Landroid/content/Intent;
  
      const-string v20, "android.app.backup.intent.RUN"
***************
*** 994,999 ****
--- 1053,1059 ----
  
      invoke-direct {v5, v0}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 727
      .local v5, backupIntent:Landroid/content/Intent;
      const/high16 v20, 0x4000
  
***************
*** 1001,1006 ****
--- 1061,1067 ----
  
      invoke-virtual {v5, v0}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
  
+     .line 728
      const/16 v20, 0x1
  
      const/16 v21, 0x0
***************
*** 1021,1026 ****
--- 1082,1088 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mRunBackupIntent:Landroid/app/PendingIntent;
  
+     .line 730
      new-instance v13, Landroid/content/Intent;
  
      const-string v20, "android.app.backup.intent.INIT"
***************
*** 1029,1034 ****
--- 1091,1097 ----
  
      invoke-direct {v13, v0}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 731
      .local v13, initIntent:Landroid/content/Intent;
      const/high16 v20, 0x4000
  
***************
*** 1036,1041 ****
--- 1099,1105 ----
  
      invoke-virtual {v5, v0}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
  
+     .line 732
      const/16 v20, 0x5
  
      const/16 v21, 0x0
***************
*** 1056,1061 ****
--- 1120,1126 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mRunInitIntent:Landroid/app/PendingIntent;
  
+     .line 735
      new-instance v20, Ljava/io/File;
  
      move-object/from16 v0, p0
***************
*** 1074,1079 ****
--- 1139,1145 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mJournalDir:Ljava/io/File;
  
+     .line 736
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mJournalDir:Ljava/io/File;
***************
*** 1082,1087 ****
--- 1148,1154 ----
  
      invoke-virtual/range {v20 .. v20}, Ljava/io/File;->mkdirs()Z
  
+     .line 737
      const/16 v20, 0x0
  
      move-object/from16 v0, v20
***************
*** 1090,1097 ****
--- 1157,1166 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mJournal:Ljava/io/File;
  
+     .line 740
      invoke-direct/range {p0 .. p0}, Lcom/android/server/BackupManagerService;->initPackageTracking()V
  
+     .line 745
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
***************
*** 1100,1105 ****
--- 1169,1175 ----
  
      monitor-enter v21
  
+     .line 746
      const/16 v20, 0x0
  
      :try_start_4
***************
*** 1109,1118 ****
--- 1179,1190 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/BackupManagerService;->addPackageParticipantsLocked(Ljava/lang/String;)V
  
+     .line 747
      monitor-exit v21
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_1
  
+     .line 752
      new-instance v20, Lcom/android/internal/backup/LocalTransport;
  
      move-object/from16 v0, v20
***************
*** 1127,1132 ****
--- 1199,1205 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mLocalTransport:Lcom/android/internal/backup/IBackupTransport;
  
+     .line 753
      new-instance v15, Landroid/content/ComponentName;
  
      const-class v20, Lcom/android/internal/backup/LocalTransport;
***************
*** 1137,1142 ****
--- 1210,1216 ----
  
      invoke-direct {v15, v0, v1}, Landroid/content/ComponentName;-><init>(Landroid/content/Context;Ljava/lang/Class;)V
  
+     .line 754
      .local v15, localName:Landroid/content/ComponentName;
      invoke-virtual {v15}, Landroid/content/ComponentName;->flattenToShortString()Ljava/lang/String;
  
***************
*** 1156,1161 ****
--- 1230,1236 ----
  
      invoke-direct {v0, v1, v2}, Lcom/android/server/BackupManagerService;->registerTransport(Ljava/lang/String;Lcom/android/internal/backup/IBackupTransport;)V
  
+     .line 756
      const/16 v20, 0x0
  
      move-object/from16 v0, v20
***************
*** 1164,1169 ****
--- 1239,1245 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mGoogleTransport:Lcom/android/internal/backup/IBackupTransport;
  
+     .line 757
      invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
  
      move-result-object v20
***************
*** 1180,1185 ****
--- 1256,1262 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 759
      const-string v20, ""
  
      move-object/from16 v0, p0
***************
*** 1194,1199 ****
--- 1271,1277 ----
  
      if-eqz v20, :cond_2
  
+     .line 760
      const/16 v20, 0x0
  
      move-object/from16 v0, v20
***************
*** 1202,1207 ****
--- 1280,1286 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 762
      :cond_2
      const-string v20, "BackupManagerService"
  
***************
*** 1231,1236 ****
--- 1310,1316 ----
  
      invoke-static/range {v20 .. v21}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 767
      new-instance v19, Landroid/content/ComponentName;
  
      const-string v20, "com.google.android.backup"
***************
*** 1239,1244 ****
--- 1319,1325 ----
  
      invoke-direct/range {v19 .. v21}, Landroid/content/ComponentName;-><init>(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 773
      .local v19, transportComponent:Landroid/content/ComponentName;
      :try_start_5
      move-object/from16 v0, p0
***************
*** 1257,1262 ****
--- 1338,1344 ----
  
      move-result-object v12
  
+     .line 775
      .local v12, info:Landroid/content/pm/ApplicationInfo;
      iget v0, v12, Landroid/content/pm/ApplicationInfo;->flags:I
  
***************
*** 1266,1277 ****
--- 1348,1361 ----
  
      if-eqz v20, :cond_9
  
+     .line 776
      const-string v20, "BackupManagerService"
  
      const-string v21, "Binding to Google transport"
  
      invoke-static/range {v20 .. v21}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 777
      new-instance v20, Landroid/content/Intent;
  
      invoke-direct/range {v20 .. v20}, Landroid/content/Intent;-><init>()V
***************
*** 1284,1289 ****
--- 1368,1374 ----
  
      move-result-object v14
  
+     .line 778
      .local v14, intent:Landroid/content/Intent;
      move-object/from16 v0, p0
  
***************
*** 1303,1313 ****
--- 1388,1400 ----
      :try_end_5
      .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_5 .. :try_end_5} :catch_2
  
+     .line 789
      .end local v12           #info:Landroid/content/pm/ApplicationInfo;
      .end local v14           #intent:Landroid/content/Intent;
      :goto_4
      invoke-direct/range {p0 .. p0}, Lcom/android/server/BackupManagerService;->parseLeftoverJournals()V
  
+     .line 792
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mPowerManager:Landroid/os/PowerManager;
***************
*** 1328,1339 ****
--- 1415,1429 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mWakelock:Landroid/os/PowerManager$WakeLock;
  
+     .line 795
      move-object/from16 v0, p0
  
      invoke-virtual {v0, v4}, Lcom/android/server/BackupManagerService;->setBackupEnabled(Z)V
  
+     .line 796
      return-void
  
+     .line 675
      .end local v4           #areEnabled:Z
      .end local v5           #backupIntent:Landroid/content/Intent;
      .end local v7           #filter:Landroid/content/IntentFilter;
***************
*** 1345,1366 ****
--- 1435,1460 ----
  
      goto/16 :goto_0
  
+     .line 677
      .restart local v4       #areEnabled:Z
      :cond_4
      const/16 v20, 0x0
  
      goto/16 :goto_1
  
+     .line 679
      :cond_5
      const/16 v20, 0x0
  
      goto/16 :goto_2
  
+     .line 701
      .restart local v8       #fin:Ljava/io/FileInputStream;
      .restart local v10       #in:Ljava/io/DataInputStream;
      :catch_0
      move-exception v6
  
+     .line 702
      .local v6, e:Ljava/io/IOException;
      :goto_5
      :try_start_6
***************
*** 1372,1382 ****
--- 1466,1478 ----
      :try_end_6
      .catchall {:try_start_6 .. :try_end_6} :catchall_0
  
+     .line 705
      if-eqz v10, :cond_6
  
      :try_start_7
      invoke-virtual {v10}, Ljava/io/DataInputStream;->close()V
  
+     .line 706
      :cond_6
      if-eqz v8, :cond_1
  
***************
*** 1386,1394 ****
--- 1482,1492 ----
  
      goto/16 :goto_3
  
+     .line 707
      :catch_1
      move-exception v6
  
+     .line 708
      const-string v20, "BackupManagerService"
  
      const-string v21, "Unable to close streams"
***************
*** 1400,1417 ****
--- 1498,1518 ----
  
      goto/16 :goto_3
  
+     .line 704
      .end local v6           #e:Ljava/io/IOException;
      .restart local v8       #fin:Ljava/io/FileInputStream;
      .restart local v10       #in:Ljava/io/DataInputStream;
      :catchall_0
      move-exception v20
  
+     .line 705
      :goto_7
      if-eqz v10, :cond_7
  
      :try_start_8
      invoke-virtual {v10}, Ljava/io/DataInputStream;->close()V
  
+     .line 706
      :cond_7
      if-eqz v8, :cond_8
  
***************
*** 1419,1428 ****
--- 1520,1531 ----
      :try_end_8
      .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_3
  
+     .line 704
      :cond_8
      :goto_8
      throw v20
  
+     .line 747
      .end local v8           #fin:Ljava/io/FileInputStream;
      .end local v10           #in:Ljava/io/DataInputStream;
      .restart local v5       #backupIntent:Landroid/content/Intent;
***************
*** 1438,1443 ****
--- 1541,1547 ----
  
      throw v20
  
+     .line 780
      .restart local v12       #info:Landroid/content/pm/ApplicationInfo;
      .restart local v15       #localName:Landroid/content/ComponentName;
      .restart local v19       #transportComponent:Landroid/content/ComponentName;
***************
*** 1471,1480 ****
--- 1575,1586 ----
  
      goto :goto_4
  
+     .line 782
      .end local v12           #info:Landroid/content/pm/ApplicationInfo;
      :catch_2
      move-exception v16
  
+     .line 784
      .local v16, nnf:Landroid/content/pm/PackageManager$NameNotFoundException;
      const-string v20, "BackupManagerService"
  
***************
*** 1484,1489 ****
--- 1590,1596 ----
  
      goto :goto_4
  
+     .line 707
      .end local v5           #backupIntent:Landroid/content/Intent;
      .end local v7           #filter:Landroid/content/IntentFilter;
      .end local v13           #initIntent:Landroid/content/Intent;
***************
*** 1495,1500 ****
--- 1602,1608 ----
      :catch_3
      move-exception v6
  
+     .line 708
      .restart local v6       #e:Ljava/io/IOException;
      const-string v21, "BackupManagerService"
  
***************
*** 1504,1509 ****
--- 1612,1618 ----
  
      goto :goto_8
  
+     .line 707
      .end local v6           #e:Ljava/io/IOException;
      .end local v8           #fin:Ljava/io/FileInputStream;
      .end local v10           #in:Ljava/io/DataInputStream;
***************
*** 1514,1519 ****
--- 1623,1629 ----
      :catch_4
      move-exception v6
  
+     .line 708
      .restart local v6       #e:Ljava/io/IOException;
      const-string v20, "BackupManagerService"
  
***************
*** 1521,1526 ****
--- 1631,1637 ----
  
      goto :goto_6
  
+     .line 704
      .end local v6           #e:Ljava/io/IOException;
      .end local v11           #in:Ljava/io/DataInputStream;
      .end local v17           #salt:[B
***************
*** 1552,1557 ****
--- 1663,1669 ----
      .restart local v8       #fin:Ljava/io/FileInputStream;
      goto :goto_7
  
+     .line 701
      .end local v8           #fin:Ljava/io/FileInputStream;
      .restart local v9       #fin:Ljava/io/FileInputStream;
      :catch_5
***************
*** 1587,1592 ****
--- 1699,1705 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->getTransport(Ljava/lang/String;)Lcom/android/internal/backup/IBackupTransport;
  
      move-result-object v0
***************
*** 1600,1605 ****
--- 1713,1719 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->randomBytes(I)[B
  
      move-result-object v0
***************
*** 1615,1620 ****
--- 1729,1735 ----
      .parameter "x3"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2, p3}, Lcom/android/server/BackupManagerService;->buildPasswordKey(Ljava/lang/String;[BI)Ljavax/crypto/SecretKey;
  
      move-result-object v0
***************
*** 1627,1632 ****
--- 1742,1748 ----
      .parameter "x0"
  
      .prologue
+     .line 131
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mRng:Ljava/security/SecureRandom;
  
      return-object v0
***************
*** 1638,1643 ****
--- 1754,1760 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->byteArrayToHex([B)Ljava/lang/String;
  
      move-result-object v0
***************
*** 1653,1658 ****
--- 1770,1776 ----
      .parameter "x3"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2, p3}, Lcom/android/server/BackupManagerService;->makeKeyChecksum([B[BI)[B
  
      move-result-object v0
***************
*** 1666,1671 ****
--- 1784,1790 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->hexToByteArray(Ljava/lang/String;)[B
  
      move-result-object v0
***************
*** 1680,1685 ****
--- 1799,1805 ----
      .parameter "x2"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2}, Lcom/android/server/BackupManagerService;->signaturesMatch([Landroid/content/pm/Signature;Landroid/content/pm/PackageInfo;)Z
  
      move-result v0
***************
*** 1694,1699 ****
--- 1814,1820 ----
      .parameter "x2"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2}, Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;Ljava/util/HashSet;)V
  
      return-void
***************
*** 1704,1709 ****
--- 1825,1831 ----
      .parameter "x0"
  
      .prologue
+     .line 131
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      return-object v0
***************
*** 1714,1719 ****
--- 1836,1842 ----
      .parameter "x0"
  
      .prologue
+     .line 131
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
      return-object v0
***************
*** 1726,1731 ****
--- 1849,1855 ----
      .parameter "x2"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2}, Lcom/android/server/BackupManagerService;->registerTransport(Ljava/lang/String;Lcom/android/internal/backup/IBackupTransport;)V
  
      return-void
***************
*** 1736,1741 ****
--- 1860,1866 ----
      .parameter "x0"
  
      .prologue
+     .line 131
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
  
      return-object v0
***************
*** 1747,1752 ****
--- 1872,1878 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
  
      return-void
***************
*** 1757,1762 ****
--- 1883,1889 ----
      .parameter "x0"
  
      .prologue
+     .line 131
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mActivityManager:Landroid/app/IActivityManager;
  
      return-object v0
***************
*** 1768,1773 ****
--- 1895,1901 ----
      .parameter "x1"
  
      .prologue
+     .line 131
      invoke-direct {p0, p1, p2}, Lcom/android/server/BackupManagerService;->startBackupAlarmsLocked(J)V
  
      return-void
***************
*** 1789,1794 ****
--- 1917,1923 ----
      .end annotation
  
      .prologue
+     .line 1374
      .local p2, targetPkgs:Ljava/util/List;,"Ljava/util/List<Landroid/content/pm/PackageInfo;>;"
      invoke-interface {p2}, Ljava/util/List;->iterator()Ljava/util/Iterator;
  
***************
*** 1809,1814 ****
--- 1938,1944 ----
  
      check-cast v1, Landroid/content/pm/PackageInfo;
  
+     .line 1375
      .local v1, pkg:Landroid/content/pm/PackageInfo;
      if-eqz p1, :cond_1
  
***************
*** 1820,1830 ****
--- 1950,1962 ----
  
      if-eqz v4, :cond_0
  
+     .line 1376
      :cond_1
      iget-object v4, v1, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      iget v3, v4, Landroid/content/pm/ApplicationInfo;->uid:I
  
+     .line 1377
      .local v3, uid:I
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
***************
*** 1834,1857 ****
--- 1966,1994 ----
  
      check-cast v2, Ljava/util/HashSet;
  
+     .line 1378
      .local v2, set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      if-nez v2, :cond_2
  
+     .line 1379
      new-instance v2, Ljava/util/HashSet;
  
      .end local v2           #set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      invoke-direct {v2}, Ljava/util/HashSet;-><init>()V
  
+     .line 1380
      .restart local v2       #set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      invoke-virtual {v4, v3, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
  
+     .line 1382
      :cond_2
      iget-object v4, v1, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      invoke-virtual {v2, v4}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 1385
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      iget-object v5, v1, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
***************
*** 1862,1867 ****
--- 1999,2005 ----
  
      if-nez v4, :cond_0
  
+     .line 1386
      const-string v4, "BackupManagerService"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 1892,1903 ****
--- 2030,2043 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1388
      iget-object v4, v1, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
  
      invoke-direct {p0, v4}, Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
  
      goto :goto_0
  
+     .line 1392
      .end local v1           #pkg:Landroid/content/pm/PackageInfo;
      .end local v2           #set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      .end local v3           #uid:I
***************
*** 1912,1917 ****
--- 2052,2058 ----
      .parameter "rounds"
  
      .prologue
+     .line 984
      :try_start_0
      const-string v3, "PBKDF2WithHmacSHA1"
  
***************
*** 1919,1924 ****
--- 2060,2066 ----
  
      move-result-object v1
  
+     .line 985
      .local v1, keyFactory:Ljavax/crypto/SecretKeyFactory;
      new-instance v2, Ljavax/crypto/spec/PBEKeySpec;
  
***************
*** 1926,1931 ****
--- 2068,2074 ----
  
      invoke-direct {v2, p1, p2, p3, v3}, Ljavax/crypto/spec/PBEKeySpec;-><init>([C[BII)V
  
+     .line 986
      .local v2, ks:Ljava/security/spec/KeySpec;
      invoke-virtual {v1, v2}, Ljavax/crypto/SecretKeyFactory;->generateSecret(Ljava/security/spec/KeySpec;)Ljavax/crypto/SecretKey;
      :try_end_0
***************
*** 1934,1947 ****
--- 2077,2093 ----
  
      move-result-object v3
  
+     .line 992
      .end local v1           #keyFactory:Ljavax/crypto/SecretKeyFactory;
      .end local v2           #ks:Ljava/security/spec/KeySpec;
      :goto_0
      return-object v3
  
+     .line 987
      :catch_0
      move-exception v0
  
+     .line 988
      .local v0, e:Ljava/security/spec/InvalidKeySpecException;
      const-string v3, "BackupManagerService"
  
***************
*** 1949,1963 ****
--- 2095,2112 ----
  
      invoke-static {v3, v4}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 992
      .end local v0           #e:Ljava/security/spec/InvalidKeySpecException;
      :goto_1
      const/4 v3, 0x0
  
      goto :goto_0
  
+     .line 989
      :catch_1
      move-exception v0
  
+     .line 990
      .local v0, e:Ljava/security/NoSuchAlgorithmException;
      const-string v3, "BackupManagerService"
  
***************
*** 1975,1987 ****
--- 2124,2139 ----
      .parameter "rounds"
  
      .prologue
+     .line 996
      invoke-direct {p0, p1, p2, p3}, Lcom/android/server/BackupManagerService;->buildPasswordKey(Ljava/lang/String;[BI)Ljavax/crypto/SecretKey;
  
      move-result-object v0
  
+     .line 997
      .local v0, key:Ljavax/crypto/SecretKey;
      if-eqz v0, :cond_0
  
+     .line 998
      invoke-interface {v0}, Ljavax/crypto/SecretKey;->getEncoded()[B
  
      move-result-object v1
***************
*** 1990,1995 ****
--- 2142,2148 ----
  
      move-result-object v1
  
+     .line 1000
      :goto_0
      return-object v1
  
***************
*** 2006,2011 ****
--- 2159,2165 ----
      .parameter "rounds"
  
      .prologue
+     .line 979
      invoke-virtual {p1}, Ljava/lang/String;->toCharArray()[C
  
      move-result-object v0
***************
*** 2022,2027 ****
--- 2176,2182 ----
      .parameter "data"
  
      .prologue
+     .line 1004
      new-instance v0, Ljava/lang/StringBuilder;
  
      array-length v2, p1
***************
*** 2030,2035 ****
--- 2185,2191 ----
  
      invoke-direct {v0, v2}, Ljava/lang/StringBuilder;-><init>(I)V
  
+     .line 1005
      .local v0, buf:Ljava/lang/StringBuilder;
      const/4 v1, 0x0
  
***************
*** 2039,2044 ****
--- 2195,2201 ----
  
      if-ge v1, v2, :cond_0
  
+     .line 1006
      aget-byte v2, p1, v1
  
      const/4 v3, 0x1
***************
*** 2049,2058 ****
--- 2206,2217 ----
  
      invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
  
+     .line 1005
      add-int/lit8 v1, v1, 0x1
  
      goto :goto_0
  
+     .line 1008
      :cond_0
      invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
  
***************
*** 2066,2078 ****
--- 2225,2240 ----
      .parameter "packageName"
  
      .prologue
+     .line 4694
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->dataChangedTargets(Ljava/lang/String;)Ljava/util/HashSet;
  
      move-result-object v0
  
+     .line 4695
      .local v0, targets:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      invoke-direct {p0, p1, v0}, Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;Ljava/util/HashSet;)V
  
+     .line 4696
      return-void
  .end method
  
***************
*** 2092,2104 ****
--- 2254,2269 ----
      .end annotation
  
      .prologue
+     .line 4702
      .local p2, targets:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      const/16 v3, 0xb04
  
      invoke-static {v3, p1}, Landroid/util/EventLog;->writeEvent(ILjava/lang/String;)I
  
+     .line 4704
      if-nez p2, :cond_0
  
+     .line 4705
      const-string v3, "BackupManagerService"
  
      new-instance v4, Ljava/lang/StringBuilder;
***************
*** 2141,2154 ****
--- 2306,2322 ----
  
      invoke-static {v3, v4}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4736
      :goto_0
      return-void
  
+     .line 4710
      :cond_0
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v4
  
+     .line 4712
      :try_start_0
      invoke-virtual {p2}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
  
***************
*** 2169,2174 ****
--- 2337,2343 ----
  
      check-cast v0, Landroid/content/pm/ApplicationInfo;
  
+     .line 4715
      .local v0, app:Landroid/content/pm/ApplicationInfo;
      iget-object v3, v0, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
  
***************
*** 2178,2187 ****
--- 2347,2358 ----
  
      if-eqz v3, :cond_1
  
+     .line 4718
      new-instance v2, Lcom/android/server/BackupManagerService$BackupRequest;
  
      invoke-direct {v2, p0, p1}, Lcom/android/server/BackupManagerService$BackupRequest;-><init>(Lcom/android/server/BackupManagerService;Ljava/lang/String;)V
  
+     .line 4719
      .local v2, req:Lcom/android/server/BackupManagerService$BackupRequest;
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mPendingBackups:Ljava/util/HashMap;
  
***************
*** 2193,2202 ****
--- 2364,2375 ----
  
      if-nez v3, :cond_1
  
+     .line 4723
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->writeToJournalLocked(Ljava/lang/String;)V
  
      goto :goto_1
  
+     .line 4735
      .end local v0           #app:Landroid/content/pm/ApplicationInfo;
      .end local v1           #i$:Ljava/util/Iterator;
      .end local v2           #req:Lcom/android/server/BackupManagerService$BackupRequest;
***************
*** 2235,2240 ****
--- 2408,2414 ----
      .end annotation
  
      .prologue
+     .line 4742
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v5, "android.permission.BACKUP"
***************
*** 2255,2264 ****
--- 2429,2440 ----
  
      if-ne v4, v5, :cond_0
  
+     .line 4744
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      monitor-enter v5
  
+     .line 4745
      :try_start_0
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
***************
*** 2274,2282 ****
--- 2450,2460 ----
  
      monitor-exit v5
  
+     .line 4761
      :goto_0
      return-object v4
  
+     .line 4746
      :catchall_0
      move-exception v4
  
***************
*** 2286,2301 ****
--- 2464,2482 ----
  
      throw v4
  
+     .line 4751
      :cond_0
      new-instance v3, Ljava/util/HashSet;
  
      invoke-direct {v3}, Ljava/util/HashSet;-><init>()V
  
+     .line 4752
      .local v3, targets:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      monitor-enter v5
  
+     .line 4753
      :try_start_1
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
***************
*** 2303,2308 ****
--- 2484,2490 ----
  
      move-result v0
  
+     .line 4754
      .local v0, N:I
      const/4 v1, 0x0
  
***************
*** 2310,2315 ****
--- 2492,2498 ----
      :goto_1
      if-ge v1, v0, :cond_2
  
+     .line 4755
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      invoke-virtual {v4, v1}, Landroid/util/SparseArray;->valueAt(I)Ljava/lang/Object;
***************
*** 2318,2341 ****
--- 2501,2530 ----
  
      check-cast v2, Ljava/util/HashSet;
  
+     .line 4756
      .local v2, s:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      if-eqz v2, :cond_1
  
+     .line 4757
      invoke-virtual {v3, v2}, Ljava/util/HashSet;->addAll(Ljava/util/Collection;)Z
  
+     .line 4754
      :cond_1
      add-int/lit8 v1, v1, 0x1
  
      goto :goto_1
  
+     .line 4760
      .end local v2           #s:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      :cond_2
      monitor-exit v5
  
      move-object v4, v3
  
+     .line 4761
      goto :goto_0
  
+     .line 4760
      .end local v0           #N:I
      .end local v1           #i:I
      :catchall_1
***************
*** 2353,2358 ****
--- 2542,2548 ----
      .parameter "pw"
  
      .prologue
+     .line 5699
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
***************
*** 2367,2372 ****
--- 2557,2563 ----
  
      if-eqz v22, :cond_0
  
+     .line 5701
      new-instance v22, Ljava/lang/StringBuilder;
  
      invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 2421,2429 ****
--- 2612,2622 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5771
      :goto_0
      return-void
  
+     .line 5709
      :cond_0
      move-object/from16 v0, p0
  
***************
*** 2433,2438 ****
--- 2626,2632 ----
  
      monitor-enter v23
  
+     .line 5710
      :try_start_0
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 2549,2554 ****
--- 2743,2749 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5713
      new-instance v22, Ljava/lang/StringBuilder;
  
      invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 2592,2597 ****
--- 2787,2793 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5714
      move-object/from16 v0, p0
  
      iget-boolean v0, v0, Lcom/android/server/BackupManagerService;->mBackupRunning:Z
***************
*** 2608,2613 ****
--- 2804,2810 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5715
      :cond_1
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 2679,2684 ****
--- 2876,2882 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5717
      new-instance v22, Ljava/lang/StringBuilder;
  
      invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 2717,2722 ****
--- 2915,2921 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5719
      const-string v22, "Available transports:"
  
      move-object/from16 v0, p1
***************
*** 2725,2730 ****
--- 2924,2930 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5720
      invoke-virtual/range {p0 .. p0}, Lcom/android/server/BackupManagerService;->listAllTransports()[Ljava/lang/String;
  
      move-result-object v5
***************
*** 2747,2752 ****
--- 2947,2953 ----
  
      aget-object v19, v5, v12
  
+     .line 5721
      .local v19, t:Ljava/lang/String;
      new-instance v24, Ljava/lang/StringBuilder;
  
***************
*** 2799,2804 ****
--- 3000,3006 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5723
      :try_start_1
      move-object/from16 v0, p0
  
***************
*** 2808,2813 ****
--- 3010,3016 ----
  
      move-result-object v20
  
+     .line 5724
      .local v20, transport:Lcom/android/internal/backup/IBackupTransport;
      new-instance v7, Ljava/io/File;
  
***************
*** 2827,2832 ****
--- 3030,3036 ----
  
      invoke-direct {v7, v0, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 5725
      .local v7, dir:Ljava/io/File;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 2864,2869 ****
--- 3068,3074 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5726
      new-instance v22, Ljava/lang/StringBuilder;
  
      invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 2900,2905 ****
--- 3105,3111 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5727
      invoke-virtual {v7}, Ljava/io/File;->listFiles()[Ljava/io/File;
  
      move-result-object v6
***************
*** 2917,2922 ****
--- 3123,3129 ----
  
      aget-object v9, v6, v11
  
+     .line 5728
      .local v9, f:Ljava/io/File;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 2989,2998 ****
--- 3196,3207 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
      .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 5727
      add-int/lit8 v11, v11, 0x1
  
      goto :goto_7
  
+     .line 5710
      .end local v6           #arr$:[Ljava/io/File;
      .end local v7           #dir:Ljava/io/File;
      .end local v9           #f:Ljava/io/File;
***************
*** 3016,3026 ****
--- 3225,3237 ----
  
      goto/16 :goto_3
  
+     .line 5713
      :cond_5
      const-string v22, "disabled"
  
      goto/16 :goto_4
  
+     .line 5721
      .restart local v12       #i$:I
      .restart local v19       #t:Ljava/lang/String;
      :cond_6
***************
*** 3028,3037 ****
--- 3239,3250 ----
  
      goto/16 :goto_6
  
+     .line 5730
      .end local v12           #i$:I
      :catch_0
      move-exception v8
  
+     .line 5731
      .local v8, e:Ljava/lang/Exception;
      const-string v22, "BackupManagerService"
  
***************
*** 3043,3048 ****
--- 3256,3262 ----
  
      invoke-static {v0, v1, v8}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 5732
      new-instance v22, Ljava/lang/StringBuilder;
  
      invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 3073,3078 ****
--- 3287,3293 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5720
      .end local v8           #e:Ljava/lang/Exception;
      :cond_7
      add-int/lit8 v11, v12, 0x1
***************
*** 3084,3089 ****
--- 3299,3305 ----
      .restart local v12       #i$:I
      goto/16 :goto_5
  
+     .line 5736
      .end local v19           #t:Ljava/lang/String;
      :cond_8
      new-instance v22, Ljava/lang/StringBuilder;
***************
*** 3128,3133 ****
--- 3344,3350 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5737
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mPendingInits:Ljava/util/HashSet;
***************
*** 3153,3158 ****
--- 3370,3376 ----
  
      check-cast v18, Ljava/lang/String;
  
+     .line 5738
      .local v18, s:Ljava/lang/String;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3188,3193 ****
--- 3406,3412 ----
  
      goto :goto_8
  
+     .line 5770
      .end local v11           #i$:Ljava/util/Iterator;
      .end local v18           #s:Ljava/lang/String;
      :catchall_0
***************
*** 3199,3204 ****
--- 3418,3424 ----
  
      throw v22
  
+     .line 5741
      .restart local v11       #i$:Ljava/util/Iterator;
      :cond_9
      :try_start_3
***************
*** 3212,3217 ****
--- 3432,3438 ----
  
      move-result v3
  
+     .line 5742
      .local v3, N:I
      const-string v22, "Participants:"
  
***************
*** 3221,3232 ****
--- 3442,3455 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5743
      const/4 v10, 0x0
  
      .local v10, i:I
      :goto_9
      if-ge v10, v3, :cond_b
  
+     .line 5744
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
***************
*** 3239,3244 ****
--- 3462,3468 ----
  
      move-result v21
  
+     .line 5745
      .local v21, uid:I
      const-string v22, "  uid: "
  
***************
*** 3248,3259 ****
--- 3472,3485 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
  
+     .line 5746
      move-object/from16 v0, p1
  
      move/from16 v1, v21
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(I)V
  
+     .line 5747
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
***************
*** 3268,3273 ****
--- 3494,3500 ----
  
      check-cast v15, Ljava/util/HashSet;
  
+     .line 5748
      .local v15, participants:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      invoke-virtual {v15}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
  
***************
*** 3286,3291 ****
--- 3513,3519 ----
  
      check-cast v4, Landroid/content/pm/ApplicationInfo;
  
+     .line 5749
      .local v4, app:Landroid/content/pm/ApplicationInfo;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3325,3336 ****
--- 3553,3566 ----
  
      goto :goto_a
  
+     .line 5743
      .end local v4           #app:Landroid/content/pm/ApplicationInfo;
      :cond_a
      add-int/lit8 v10, v10, 0x1
  
      goto :goto_9
  
+     .line 5753
      .end local v15           #participants:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      .end local v21           #uid:I
      :cond_b
***************
*** 3377,3382 ****
--- 3607,3613 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5755
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
***************
*** 3385,3390 ****
--- 3616,3622 ----
  
      if-eqz v22, :cond_d
  
+     .line 5756
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
***************
*** 3408,3413 ****
--- 3640,3646 ----
  
      check-cast v16, Ljava/lang/String;
  
+     .line 5757
      .local v16, pkg:Ljava/lang/String;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3443,3448 ****
--- 3676,3682 ----
  
      goto :goto_c
  
+     .line 5753
      .end local v16           #pkg:Ljava/lang/String;
      :cond_c
      move-object/from16 v0, p0
***************
*** 3461,3466 ****
--- 3695,3701 ----
  
      goto :goto_b
  
+     .line 5761
      :cond_d
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3504,3509 ****
--- 3739,3745 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5762
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
***************
*** 3527,3532 ****
--- 3763,3769 ----
  
      check-cast v16, Ljava/lang/String;
  
+     .line 5763
      .restart local v16       #pkg:Ljava/lang/String;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3562,3567 ****
--- 3799,3805 ----
  
      goto :goto_d
  
+     .line 5766
      .end local v16           #pkg:Ljava/lang/String;
      :cond_e
      new-instance v22, Ljava/lang/StringBuilder;
***************
*** 3606,3611 ****
--- 3844,3850 ----
  
      invoke-virtual {v0, v1}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 5767
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mPendingBackups:Ljava/util/HashMap;
***************
*** 3633,3638 ****
--- 3872,3878 ----
  
      check-cast v17, Lcom/android/server/BackupManagerService$BackupRequest;
  
+     .line 5768
      .local v17, req:Lcom/android/server/BackupManagerService$BackupRequest;
      new-instance v22, Ljava/lang/StringBuilder;
  
***************
*** 3668,3673 ****
--- 3908,3914 ----
  
      goto :goto_e
  
+     .line 5770
      .end local v17           #req:Lcom/android/server/BackupManagerService$BackupRequest;
      :cond_f
      monitor-exit v23
***************
*** 3682,3691 ****
--- 3923,3934 ----
      .parameter "transportName"
  
      .prologue
+     .line 1589
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v2
  
+     .line 1590
      :try_start_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
***************
*** 3695,3703 ****
--- 3938,3948 ----
  
      check-cast v0, Lcom/android/internal/backup/IBackupTransport;
  
+     .line 1591
      .local v0, transport:Lcom/android/internal/backup/IBackupTransport;
      if-nez v0, :cond_0
  
+     .line 1592
      const-string v1, "BackupManagerService"
  
      new-instance v3, Ljava/lang/StringBuilder;
***************
*** 3720,3730 ****
--- 3965,3977 ----
  
      invoke-static {v1, v3}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1594
      :cond_0
      monitor-exit v2
  
      return-object v0
  
+     .line 1595
      .end local v0           #transport:Lcom/android/internal/backup/IBackupTransport;
      :catchall_0
      move-exception v1
***************
*** 3741,3752 ****
--- 3988,4001 ----
      .parameter "digits"
  
      .prologue
+     .line 1012
      invoke-virtual {p1}, Ljava/lang/String;->length()I
  
      move-result v3
  
      div-int/lit8 v0, v3, 0x2
  
+     .line 1013
      .local v0, bytes:I
      mul-int/lit8 v3, v0, 0x2
  
***************
*** 3756,3761 ****
--- 4005,4011 ----
  
      if-eq v3, v4, :cond_0
  
+     .line 1014
      new-instance v3, Ljava/lang/IllegalArgumentException;
  
      const-string v4, "Hex string must have an even number of digits"
***************
*** 3764,3772 ****
--- 4014,4024 ----
  
      throw v3
  
+     .line 1017
      :cond_0
      new-array v2, v0, [B
  
+     .line 1018
      .local v2, result:[B
      const/4 v1, 0x0
  
***************
*** 3778,3783 ****
--- 4030,4036 ----
  
      if-ge v1, v3, :cond_1
  
+     .line 1019
      div-int/lit8 v3, v1, 0x2
  
      add-int/lit8 v4, v1, 0x2
***************
*** 3796,3805 ****
--- 4049,4060 ----
  
      aput-byte v4, v2, v3
  
+     .line 1018
      add-int/lit8 v1, v1, 0x2
  
      goto :goto_0
  
+     .line 1021
      :cond_1
      return-object v2
  .end method
***************
*** 3808,3819 ****
--- 4063,4076 ----
      .locals 22
  
      .prologue
+     .line 857
      const-string v19, "BackupManagerService"
  
      const-string v20, "Initializing package tracking"
  
      invoke-static/range {v19 .. v20}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 860
      new-instance v19, Ljava/io/File;
  
      move-object/from16 v0, p0
***************
*** 3832,3837 ****
--- 4089,4095 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mTokenFile:Ljava/io/File;
  
+     .line 862
      :try_start_0
      new-instance v17, Ljava/io/RandomAccessFile;
  
***************
*** 3851,3861 ****
--- 4109,4121 ----
  
      invoke-direct {v0, v1, v2}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 863
      .local v17, tf:Ljava/io/RandomAccessFile;
      invoke-virtual/range {v17 .. v17}, Ljava/io/RandomAccessFile;->readInt()I
  
      move-result v18
  
+     .line 864
      .local v18, version:I
      const/16 v19, 0x1
  
***************
*** 3865,3870 ****
--- 4125,4131 ----
  
      if-ne v0, v1, :cond_0
  
+     .line 865
      invoke-virtual/range {v17 .. v17}, Ljava/io/RandomAccessFile;->readLong()J
  
      move-result-wide v19
***************
*** 3875,3880 ****
--- 4136,4142 ----
  
      iput-wide v0, v2, Lcom/android/server/BackupManagerService;->mAncestralToken:J
  
+     .line 866
      invoke-virtual/range {v17 .. v17}, Ljava/io/RandomAccessFile;->readLong()J
  
      move-result-wide v19
***************
*** 3885,3897 ****
--- 4147,4162 ----
  
      iput-wide v0, v2, Lcom/android/server/BackupManagerService;->mCurrentToken:J
  
+     .line 868
      invoke-virtual/range {v17 .. v17}, Ljava/io/RandomAccessFile;->readInt()I
  
      move-result v10
  
+     .line 869
      .local v10, numPackages:I
      if-ltz v10, :cond_0
  
+     .line 870
      new-instance v19, Ljava/util/HashSet;
  
      invoke-direct/range {v19 .. v19}, Ljava/util/HashSet;-><init>()V
***************
*** 3902,3917 ****
--- 4167,4185 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
  
+     .line 871
      const/4 v6, 0x0
  
      .local v6, i:I
      :goto_0
      if-ge v6, v10, :cond_0
  
+     .line 872
      invoke-virtual/range {v17 .. v17}, Ljava/io/RandomAccessFile;->readUTF()Ljava/lang/String;
  
      move-result-object v12
  
+     .line 873
      .local v12, pkgName:Ljava/lang/String;
      move-object/from16 v0, p0
  
***************
*** 3923,3932 ****
--- 4191,4202 ----
  
      invoke-interface {v0, v12}, Ljava/util/Set;->add(Ljava/lang/Object;)Z
  
+     .line 871
      add-int/lit8 v6, v6, 0x1
  
      goto :goto_0
  
+     .line 877
      .end local v6           #i:I
      .end local v10           #numPackages:I
      .end local v12           #pkgName:Ljava/lang/String;
***************
*** 3936,3941 ****
--- 4206,4212 ----
      .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_1
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_2
  
+     .line 888
      .end local v17           #tf:Ljava/io/RandomAccessFile;
      .end local v18           #version:I
      :goto_1
***************
*** 3957,3962 ****
--- 4228,4234 ----
  
      iput-object v0, v1, Lcom/android/server/BackupManagerService;->mEverStored:Ljava/io/File;
  
+     .line 889
      new-instance v16, Ljava/io/File;
  
      move-object/from16 v0, p0
***************
*** 3975,3980 ****
--- 4247,4253 ----
  
      invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 894
      .local v16, tempProcessedFile:Ljava/io/File;
      invoke-virtual/range {v16 .. v16}, Ljava/io/File;->exists()Z
  
***************
*** 3982,3989 ****
--- 4255,4264 ----
  
      if-eqz v19, :cond_1
  
+     .line 895
      invoke-virtual/range {v16 .. v16}, Ljava/io/File;->delete()Z
  
+     .line 900
      :cond_1
      move-object/from16 v0, p0
  
***************
*** 3997,4007 ****
--- 4272,4285 ----
  
      if-eqz v19, :cond_4
  
+     .line 901
      const/4 v14, 0x0
  
+     .line 902
      .local v14, temp:Ljava/io/RandomAccessFile;
      const/4 v7, 0x0
  
+     .line 905
      .local v7, in:Ljava/io/RandomAccessFile;
      :try_start_1
      new-instance v15, Ljava/io/RandomAccessFile;
***************
*** 4018,4023 ****
--- 4296,4302 ----
      .catch Ljava/io/EOFException; {:try_start_1 .. :try_end_1} :catch_3
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_4
  
+     .line 906
      .end local v14           #temp:Ljava/io/RandomAccessFile;
      .local v15, temp:Ljava/io/RandomAccessFile;
      :try_start_2
***************
*** 4041,4046 ****
--- 4320,4326 ----
      .catch Ljava/io/EOFException; {:try_start_2 .. :try_end_2} :catch_c
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_a
  
+     .line 910
      .end local v7           #in:Ljava/io/RandomAccessFile;
      .local v8, in:Ljava/io/RandomAccessFile;
      :goto_2
***************
*** 4053,4058 ****
--- 4333,4339 ----
  
      move-result-object v11
  
+     .line 912
      .local v11, pkg:Ljava/lang/String;
      :try_start_4
      move-object/from16 v0, p0
***************
*** 4071,4076 ****
--- 4352,4358 ----
  
      move-result-object v9
  
+     .line 913
      .local v9, info:Landroid/content/pm/PackageInfo;
      move-object/from16 v0, p0
  
***************
*** 4082,4087 ****
--- 4364,4370 ----
  
      invoke-virtual {v0, v11}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 914
      invoke-virtual {v15, v11}, Ljava/io/RandomAccessFile;->writeUTF(Ljava/lang/String;)V
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_2
***************
*** 4091,4102 ****
--- 4374,4387 ----
  
      goto :goto_2
  
+     .line 916
      .end local v9           #info:Landroid/content/pm/PackageInfo;
      :catch_0
      move-exception v19
  
      goto :goto_2
  
+     .line 878
      .end local v8           #in:Ljava/io/RandomAccessFile;
      .end local v11           #pkg:Ljava/lang/String;
      .end local v15           #temp:Ljava/io/RandomAccessFile;
***************
*** 4104,4109 ****
--- 4389,4395 ----
      :catch_1
      move-exception v5
  
+     .line 880
      .local v5, fnf:Ljava/io/FileNotFoundException;
      const-string v19, "BackupManagerService"
  
***************
*** 4113,4122 ****
--- 4399,4410 ----
  
      goto/16 :goto_1
  
+     .line 881
      .end local v5           #fnf:Ljava/io/FileNotFoundException;
      :catch_2
      move-exception v3
  
+     .line 882
      .local v3, e:Ljava/io/IOException;
      const-string v19, "BackupManagerService"
  
***************
*** 4130,4135 ****
--- 4418,4424 ----
  
      goto/16 :goto_1
  
+     .line 921
      .end local v3           #e:Ljava/io/IOException;
      .restart local v7       #in:Ljava/io/RandomAccessFile;
      .restart local v14       #temp:Ljava/io/RandomAccessFile;
***************
*** 4137,4142 ****
--- 4426,4432 ----
      :catch_3
      move-exception v3
  
+     .line 924
      .local v3, e:Ljava/io/EOFException;
      :goto_3
      :try_start_5
***************
*** 4156,4161 ****
--- 4446,4452 ----
  
      if-nez v19, :cond_2
  
+     .line 925
      const-string v19, "BackupManagerService"
  
      new-instance v20, Ljava/lang/StringBuilder;
***************
*** 4200,4205 ****
--- 4491,4497 ----
      :try_end_5
      .catchall {:try_start_5 .. :try_end_5} :catchall_0
  
+     .line 930
      :cond_2
      if-eqz v14, :cond_3
  
***************
*** 4208,4213 ****
--- 4500,4506 ----
      :try_end_6
      .catch Ljava/io/IOException; {:try_start_6 .. :try_end_6} :catch_8
  
+     .line 931
      :cond_3
      :goto_4
      if-eqz v7, :cond_4
***************
*** 4217,4222 ****
--- 4510,4516 ----
      :try_end_7
      .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_5
  
+     .line 937
      .end local v3           #e:Ljava/io/EOFException;
      .end local v7           #in:Ljava/io/RandomAccessFile;
      .end local v14           #temp:Ljava/io/RandomAccessFile;
***************
*** 4226,4231 ****
--- 4520,4526 ----
  
      invoke-direct {v4}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 938
      .local v4, filter:Landroid/content/IntentFilter;
      const-string v19, "android.intent.action.PACKAGE_ADDED"
  
***************
*** 4233,4256 ****
--- 4528,4555 ----
  
      invoke-virtual {v4, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 939
      const-string v19, "android.intent.action.PACKAGE_REMOVED"
  
      move-object/from16 v0, v19
  
      invoke-virtual {v4, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 940
      const-string v19, "android.intent.action.PACKAGE_REPLACED"
  
      move-object/from16 v0, v19
  
      invoke-virtual {v4, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 941
      const-string v19, "package"
  
      move-object/from16 v0, v19
  
      invoke-virtual {v4, v0}, Landroid/content/IntentFilter;->addDataScheme(Ljava/lang/String;)V
  
+     .line 942
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
***************
*** 4269,4278 ****
--- 4568,4579 ----
  
      invoke-virtual {v0, v1, v4}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 944
      new-instance v13, Landroid/content/IntentFilter;
  
      invoke-direct {v13}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 945
      .local v13, sdFilter:Landroid/content/IntentFilter;
      const-string v19, "android.intent.action.EXTERNAL_APPLICATIONS_AVAILABLE"
  
***************
*** 4280,4291 ****
--- 4581,4594 ----
  
      invoke-virtual {v13, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 946
      const-string v19, "android.intent.action.EXTERNAL_APPLICATIONS_UNAVAILABLE"
  
      move-object/from16 v0, v19
  
      invoke-virtual {v13, v0}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 947
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
***************
*** 4304,4311 ****
--- 4607,4616 ----
  
      invoke-virtual {v0, v1, v13}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 948
      return-void
  
+     .line 927
      .end local v4           #filter:Landroid/content/IntentFilter;
      .end local v13           #sdFilter:Landroid/content/IntentFilter;
      .restart local v7       #in:Ljava/io/RandomAccessFile;
***************
*** 4313,4318 ****
--- 4618,4624 ----
      :catch_4
      move-exception v3
  
+     .line 928
      .local v3, e:Ljava/io/IOException;
      :goto_6
      :try_start_8
***************
*** 4328,4333 ****
--- 4634,4640 ----
      :try_end_8
      .catchall {:try_start_8 .. :try_end_8} :catchall_0
  
+     .line 930
      if-eqz v14, :cond_5
  
      :try_start_9
***************
*** 4335,4340 ****
--- 4642,4648 ----
      :try_end_9
      .catch Ljava/io/IOException; {:try_start_9 .. :try_end_9} :catch_9
  
+     .line 931
      :cond_5
      :goto_7
      if-eqz v7, :cond_4
***************
*** 4352,4357 ****
--- 4660,4666 ----
  
      goto :goto_5
  
+     .line 930
      :catchall_0
      move-exception v19
  
***************
*** 4363,4368 ****
--- 4672,4678 ----
      :try_end_b
      .catch Ljava/io/IOException; {:try_start_b .. :try_end_b} :catch_6
  
+     .line 931
      :cond_6
      :goto_9
      if-eqz v7, :cond_7
***************
*** 4372,4377 ****
--- 4682,4688 ----
      :try_end_c
      .catch Ljava/io/IOException; {:try_start_c .. :try_end_c} :catch_7
  
+     .line 930
      :cond_7
      :goto_a
      throw v19
***************
*** 4381,4391 ****
--- 4692,4704 ----
  
      goto :goto_9
  
+     .line 931
      :catch_7
      move-exception v20
  
      goto :goto_a
  
+     .line 930
      .local v3, e:Ljava/io/EOFException;
      :catch_8
      move-exception v19
***************
*** 4427,4432 ****
--- 4740,4746 ----
      .restart local v14       #temp:Ljava/io/RandomAccessFile;
      goto :goto_8
  
+     .line 927
      .end local v14           #temp:Ljava/io/RandomAccessFile;
      .restart local v15       #temp:Ljava/io/RandomAccessFile;
      :catch_a
***************
*** 4455,4460 ****
--- 4769,4775 ----
      .restart local v14       #temp:Ljava/io/RandomAccessFile;
      goto :goto_6
  
+     .line 921
      .end local v14           #temp:Ljava/io/RandomAccessFile;
      .restart local v15       #temp:Ljava/io/RandomAccessFile;
      :catch_c
***************
*** 4491,4500 ****
--- 4806,4817 ----
      .parameter "rounds"
  
      .prologue
+     .line 1025
      array-length v3, p1
  
      new-array v2, v3, [C
  
+     .line 1026
      .local v2, mkAsChar:[C
      const/4 v1, 0x0
  
***************
*** 4504,4524 ****
--- 4821,4845 ----
  
      if-ge v1, v3, :cond_0
  
+     .line 1027
      aget-byte v3, p1, v1
  
      int-to-char v3, v3
  
      aput-char v3, v2, v1
  
+     .line 1026
      add-int/lit8 v1, v1, 0x1
  
      goto :goto_0
  
+     .line 1030
      :cond_0
      invoke-direct {p0, v2, p2, p3}, Lcom/android/server/BackupManagerService;->buildCharArrayKey([C[BI)Ljavax/crypto/SecretKey;
  
      move-result-object v0
  
+     .line 1031
      .local v0, checksum:Ljava/security/Key;
      invoke-interface {v0}, Ljava/security/Key;->getEncoded()[B
  
***************
*** 4531,4536 ****
--- 4852,4858 ----
      .locals 11
  
      .prologue
+     .line 951
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mJournalDir:Ljava/io/File;
  
      invoke-virtual {v8}, Ljava/io/File;->listFiles()[Ljava/io/File;
***************
*** 4549,4554 ****
--- 4871,4877 ----
  
      aget-object v2, v0, v3
  
+     .line 952
      .local v2, f:Ljava/io/File;
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mJournal:Ljava/io/File;
  
***************
*** 4562,4570 ****
--- 4885,4895 ----
  
      if-eqz v8, :cond_2
  
+     .line 956
      :cond_0
      const/4 v4, 0x0
  
+     .line 958
      .local v4, in:Ljava/io/RandomAccessFile;
      :try_start_0
      const-string v8, "BackupManagerService"
***************
*** 4573,4578 ****
--- 4898,4904 ----
  
      invoke-static {v8, v9}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 959
      new-instance v5, Ljava/io/RandomAccessFile;
  
      const-string v8, "r"
***************
*** 4583,4588 ****
--- 4909,4915 ----
      .catch Ljava/io/EOFException; {:try_start_0 .. :try_end_0} :catch_6
      .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1
  
+     .line 961
      .end local v4           #in:Ljava/io/RandomAccessFile;
      .local v5, in:Ljava/io/RandomAccessFile;
      :goto_1
***************
*** 4591,4596 ****
--- 4918,4924 ----
  
      move-result-object v7
  
+     .line 962
      .local v7, packageName:Ljava/lang/String;
      const-string v8, "BackupManagerService"
  
***************
*** 4614,4619 ****
--- 4942,4948 ----
  
      invoke-static {v8, v9}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 963
      invoke-direct {p0, v7}, Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
***************
*** 4622,4633 ****
--- 4951,4964 ----
  
      goto :goto_1
  
+     .line 965
      .end local v7           #packageName:Ljava/lang/String;
      :catch_0
      move-exception v8
  
      move-object v4, v5
  
+     .line 971
      .end local v5           #in:Ljava/io/RandomAccessFile;
      .restart local v4       #in:Ljava/io/RandomAccessFile;
      :goto_2
***************
*** 4638,4657 ****
--- 4969,4992 ----
      :try_end_2
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_3
  
+     .line 972
      :cond_1
      :goto_3
      invoke-virtual {v2}, Ljava/io/File;->delete()Z
  
+     .line 951
      .end local v4           #in:Ljava/io/RandomAccessFile;
      :cond_2
      add-int/lit8 v3, v3, 0x1
  
      goto :goto_0
  
+     .line 967
      .restart local v4       #in:Ljava/io/RandomAccessFile;
      :catch_1
      move-exception v1
  
+     .line 968
      .local v1, e:Ljava/lang/Exception;
      :goto_4
      :try_start_3
***************
*** 4679,4684 ****
--- 5014,5020 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 971
      if-eqz v4, :cond_1
  
      :try_start_4
***************
*** 4705,4721 ****
--- 5041,5061 ----
      :try_end_5
      .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_4
  
+     .line 972
      :cond_3
      :goto_6
      invoke-virtual {v2}, Ljava/io/File;->delete()Z
  
+     .line 971
      throw v8
  
+     .line 976
      .end local v2           #f:Ljava/io/File;
      .end local v4           #in:Ljava/io/RandomAccessFile;
      :cond_4
      return-void
  
+     .line 971
      .restart local v2       #f:Ljava/io/File;
      .restart local v4       #in:Ljava/io/RandomAccessFile;
      :catch_3
***************
*** 4739,4744 ****
--- 5079,5085 ----
      .restart local v4       #in:Ljava/io/RandomAccessFile;
      goto :goto_5
  
+     .line 967
      .end local v4           #in:Ljava/io/RandomAccessFile;
      .restart local v5       #in:Ljava/io/RandomAccessFile;
      :catch_5
***************
*** 4750,4755 ****
--- 5091,5097 ----
      .restart local v4       #in:Ljava/io/RandomAccessFile;
      goto :goto_4
  
+     .line 965
      :catch_6
      move-exception v8
  
***************
*** 4761,4775 ****
--- 5103,5120 ----
      .parameter "bits"
  
      .prologue
+     .line 1036
      div-int/lit8 v1, p1, 0x8
  
      new-array v0, v1, [B
  
+     .line 1037
      .local v0, array:[B
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mRng:Ljava/security/SecureRandom;
  
      invoke-virtual {v1, v0}, Ljava/security/SecureRandom;->nextBytes([B)V
  
+     .line 1038
      return-object v0
  .end method
  
***************
*** 4779,4788 ****
--- 5124,5135 ----
      .parameter "transport"
  
      .prologue
+     .line 1233
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v6
  
+     .line 1234
      :try_start_0
      const-string v5, "BackupManagerService"
  
***************
*** 4816,4836 ****
--- 5163,5188 ----
  
      invoke-static {v5, v7}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1235
      if-eqz p2, :cond_1
  
+     .line 1236
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      invoke-virtual {v5, p1, p2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 1245
      monitor-exit v6
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 1251
      :try_start_1
      invoke-interface {p2}, Lcom/android/internal/backup/IBackupTransport;->transportDirName()Ljava/lang/String;
  
      move-result-object v4
  
+     .line 1252
      .local v4, transportName:Ljava/lang/String;
      new-instance v3, Ljava/io/File;
  
***************
*** 4838,4852 ****
--- 5190,5207 ----
  
      invoke-direct {v3, v5, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1253
      .local v3, stateDir:Ljava/io/File;
      invoke-virtual {v3}, Ljava/io/File;->mkdirs()Z
  
+     .line 1255
      new-instance v2, Ljava/io/File;
  
      const-string v5, "_need_init_"
  
      invoke-direct {v2, v3, v5}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1256
      .local v2, initSentinel:Ljava/io/File;
      invoke-virtual {v2}, Ljava/io/File;->exists()Z
  
***************
*** 4854,4872 ****
--- 5209,5231 ----
  
      if-eqz v5, :cond_0
  
+     .line 1257
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v6
      :try_end_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 1258
      :try_start_2
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mPendingInits:Ljava/util/HashSet;
  
      invoke-virtual {v5, v4}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
  
+     .line 1261
      const-wide/32 v0, 0xea60
  
+     .line 1262
      .local v0, delay:J
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
***************
*** 4882,4891 ****
--- 5241,5252 ----
  
      invoke-virtual {v5, v7, v8, v9, v10}, Landroid/app/AlarmManager;->set(IJLandroid/app/PendingIntent;)V
  
+     .line 1264
      monitor-exit v6
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
  
+     .line 1269
      .end local v0           #delay:J
      .end local v2           #initSentinel:Ljava/io/File;
      .end local v3           #stateDir:Ljava/io/File;
***************
*** 4894,4905 ****
--- 5255,5268 ----
      :goto_0
      return-void
  
+     .line 1238
      :cond_1
      :try_start_3
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      invoke-virtual {v5, p1}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
  
+     .line 1239
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
      if-eqz v5, :cond_2
***************
*** 4912,4926 ****
--- 5275,5292 ----
  
      if-eqz v5, :cond_2
  
+     .line 1240
      const/4 v5, 0x0
  
      iput-object v5, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 1243
      :cond_2
      monitor-exit v6
  
      goto :goto_0
  
+     .line 1245
      :catchall_0
      move-exception v5
  
***************
*** 4930,4935 ****
--- 5296,5302 ----
  
      throw v5
  
+     .line 1264
      .restart local v2       #initSentinel:Ljava/io/File;
      .restart local v3       #stateDir:Ljava/io/File;
      .restart local v4       #transportName:Ljava/lang/String;
***************
*** 4946,4951 ****
--- 5313,5319 ----
      :try_end_5
      .catch Landroid/os/RemoteException; {:try_start_5 .. :try_end_5} :catch_0
  
+     .line 1266
      .end local v2           #initSentinel:Ljava/io/File;
      .end local v3           #stateDir:Ljava/io/File;
      .end local v4           #transportName:Ljava/lang/String;
***************
*** 4971,4976 ****
--- 5339,5345 ----
      .end annotation
  
      .prologue
+     .line 1420
      .local p2, allPackageNames:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
      invoke-interface {p2}, Ljava/util/List;->iterator()Ljava/util/Iterator;
  
***************
*** 4990,4995 ****
--- 5359,5365 ----
  
      check-cast v5, Ljava/lang/String;
  
+     .line 1421
      .local v5, pkg:Ljava/lang/String;
      if-eqz p1, :cond_1
  
***************
*** 4999,5007 ****
--- 5369,5379 ----
  
      if-eqz v8, :cond_0
  
+     .line 1422
      :cond_1
      const/4 v7, -0x1
  
+     .line 1424
      .local v7, uid:I
      :try_start_0
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
***************
*** 5012,5017 ****
--- 5384,5390 ----
  
      move-result-object v4
  
+     .line 1425
      .local v4, info:Landroid/content/pm/PackageInfo;
      iget-object v8, v4, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
***************
*** 5019,5024 ****
--- 5392,5398 ----
      :try_end_0
      .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 1431
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      invoke-virtual {v8, v7}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;
***************
*** 5027,5035 ****
--- 5401,5411 ----
  
      check-cast v6, Ljava/util/HashSet;
  
+     .line 1432
      .local v6, set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      if-eqz v6, :cond_0
  
+     .line 1435
      invoke-virtual {v6}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
  
      move-result-object v3
***************
*** 5048,5053 ****
--- 5424,5430 ----
  
      check-cast v1, Landroid/content/pm/ApplicationInfo;
  
+     .line 1436
      .local v1, entry:Landroid/content/pm/ApplicationInfo;
      iget-object v8, v1, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
  
***************
*** 5057,5066 ****
--- 5434,5446 ----
  
      if-eqz v8, :cond_2
  
+     .line 1438
      invoke-virtual {v6, v1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
  
+     .line 1439
      invoke-virtual {p0, v5}, Lcom/android/server/BackupManagerService;->removeEverBackedUp(Ljava/lang/String;)V
  
+     .line 1443
      .end local v1           #entry:Landroid/content/pm/ApplicationInfo;
      :cond_3
      invoke-virtual {v6}, Ljava/util/HashSet;->size()I
***************
*** 5069,5089 ****
--- 5449,5473 ----
  
      if-nez v8, :cond_0
  
+     .line 1444
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      invoke-virtual {v8, v7}, Landroid/util/SparseArray;->delete(I)V
  
      goto :goto_0
  
+     .line 1426
      .end local v3           #i$:Ljava/util/Iterator;
      .end local v4           #info:Landroid/content/pm/PackageInfo;
      .end local v6           #set:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      :catch_0
      move-exception v0
  
+     .line 1428
      .local v0, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      goto :goto_0
  
+     .line 1449
      .end local v0           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .end local v5           #pkg:Ljava/lang/String;
      .end local v7           #uid:I
***************
*** 5101,5106 ****
--- 5485,5491 ----
  
      const/4 v6, 0x1
  
+     .line 3990
      iget-object v8, p2, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      iget v8, v8, Landroid/content/pm/ApplicationInfo;->flags:I
***************
*** 5109,5114 ****
--- 5494,5500 ----
  
      if-eqz v8, :cond_1
  
+     .line 3991
      const-string v7, "BackupManagerService"
  
      new-instance v8, Ljava/lang/StringBuilder;
***************
*** 5139,5151 ****
--- 5525,5540 ----
  
      invoke-static {v7, v8}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4026
      :cond_0
      :goto_0
      return v6
  
+     .line 3997
      :cond_1
      iget-object v0, p2, Landroid/content/pm/PackageInfo;->signatures:[Landroid/content/pm/Signature;
  
+     .line 4000
      .local v0, deviceSigs:[Landroid/content/pm/Signature;
      if-eqz p1, :cond_2
  
***************
*** 5160,5165 ****
--- 5549,5555 ----
  
      if-eqz v8, :cond_0
  
+     .line 4004
      :cond_3
      if-eqz p1, :cond_4
  
***************
*** 5168,5181 ****
--- 5558,5575 ----
      :cond_4
      move v6, v7
  
+     .line 4005
      goto :goto_0
  
+     .line 4011
      :cond_5
      array-length v5, p1
  
+     .line 4012
      .local v5, nStored:I
      array-length v4, v0
  
+     .line 4014
      .local v4, nDevice:I
      const/4 v1, 0x0
  
***************
*** 5183,5190 ****
--- 5577,5586 ----
      :goto_1
      if-ge v1, v5, :cond_0
  
+     .line 4015
      const/4 v3, 0x0
  
+     .line 4016
      .local v3, match:Z
      const/4 v2, 0x0
  
***************
*** 5192,5197 ****
--- 5588,5594 ----
      :goto_2
      if-ge v2, v4, :cond_6
  
+     .line 4017
      aget-object v8, p1, v1
  
      aget-object v9, v0, v2
***************
*** 5202,5221 ****
--- 5599,5623 ----
  
      if-eqz v8, :cond_7
  
+     .line 4018
      const/4 v3, 0x1
  
+     .line 4022
      :cond_6
      if-nez v3, :cond_8
  
      move v6, v7
  
+     .line 4023
      goto :goto_0
  
+     .line 4016
      :cond_7
      add-int/lit8 v2, v2, 0x1
  
      goto :goto_2
  
+     .line 4014
      :cond_8
      add-int/lit8 v1, v1, 0x1
  
***************
*** 5229,5238 ****
--- 5631,5642 ----
      .prologue
      const v6, 0x493e0
  
+     .line 5173
      new-instance v7, Ljava/util/Random;
  
      invoke-direct {v7}, Ljava/util/Random;-><init>()V
  
+     .line 5174
      .local v7, random:Ljava/util/Random;
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
***************
*** 5248,5253 ****
--- 5652,5658 ----
  
      add-long v2, v0, v4
  
+     .line 5176
      .local v2, when:J
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
***************
*** 5267,5274 ****
--- 5672,5681 ----
  
      invoke-virtual/range {v0 .. v6}, Landroid/app/AlarmManager;->setRepeating(IJJLandroid/app/PendingIntent;)V
  
+     .line 5178
      iput-wide v2, p0, Lcom/android/server/BackupManagerService;->mNextBackupPass:J
  
+     .line 5179
      return-void
  .end method
  
***************
*** 5277,5284 ****
--- 5684,5693 ----
      .parameter "str"
  
      .prologue
+     .line 4765
      const/4 v1, 0x0
  
+     .line 4767
      .local v1, out:Ljava/io/RandomAccessFile;
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mJournal:Ljava/io/File;
***************
*** 5297,5302 ****
--- 5706,5712 ----
  
      iput-object v3, p0, Lcom/android/server/BackupManagerService;->mJournal:Ljava/io/File;
  
+     .line 4768
      :cond_0
      new-instance v2, Ljava/io/RandomAccessFile;
  
***************
*** 5309,5314 ****
--- 5719,5725 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 4769
      .end local v1           #out:Ljava/io/RandomAccessFile;
      .local v2, out:Ljava/io/RandomAccessFile;
      :try_start_1
***************
*** 5318,5328 ****
--- 5729,5741 ----
  
      invoke-virtual {v2, v3, v4}, Ljava/io/RandomAccessFile;->seek(J)V
  
+     .line 4770
      invoke-virtual {v2, p1}, Ljava/io/RandomAccessFile;->writeUTF(Ljava/lang/String;)V
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_4
  
+     .line 4775
      if-eqz v2, :cond_1
  
      :try_start_2
***************
*** 5334,5348 ****
--- 5747,5764 ----
      :goto_0
      move-object v1, v2
  
+     .line 4777
      .end local v2           #out:Ljava/io/RandomAccessFile;
      .restart local v1       #out:Ljava/io/RandomAccessFile;
      :cond_2
      :goto_1
      return-void
  
+     .line 4771
      :catch_0
      move-exception v0
  
+     .line 4772
      .local v0, e:Ljava/io/IOException;
      :goto_2
      :try_start_3
***************
*** 5374,5385 ****
--- 5790,5803 ----
  
      invoke-static {v3, v4, v0}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 4773
      const/4 v3, 0x0
  
      iput-object v3, p0, Lcom/android/server/BackupManagerService;->mJournal:Ljava/io/File;
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 4775
      if-eqz v1, :cond_2
  
      :try_start_4
***************
*** 5431,5436 ****
--- 5849,5855 ----
      .restart local v1       #out:Ljava/io/RandomAccessFile;
      goto :goto_3
  
+     .line 4771
      .end local v1           #out:Ljava/io/RandomAccessFile;
      .restart local v2       #out:Ljava/io/RandomAccessFile;
      :catch_4
***************
*** 5454,5459 ****
--- 5873,5879 ----
      .parameter "observer"
  
      .prologue
+     .line 5031
      const-string v8, "BackupManagerService"
  
      new-instance v9, Ljava/lang/StringBuilder;
***************
*** 5486,5491 ****
--- 5906,5912 ----
  
      invoke-static {v8, v9}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5036
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v9, "android.permission.BACKUP"
***************
*** 5494,5503 ****
--- 5915,5926 ----
  
      invoke-virtual {v8, v9, v10}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5038
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v4
  
+     .line 5042
      .local v4, oldId:J
      :try_start_0
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
***************
*** 5506,5511 ****
--- 5929,5935 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 5043
      :try_start_1
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
***************
*** 5515,5551 ****
--- 5939,5983 ----
  
      check-cast v6, Lcom/android/server/BackupManagerService$FullParams;
  
+     .line 5044
      .local v6, params:Lcom/android/server/BackupManagerService$FullParams;
      if-eqz v6, :cond_5
  
+     .line 5045
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/16 v10, 0x9
  
      invoke-virtual {v8, v10, v6}, Lcom/android/server/BackupManagerService$BackupHandler;->removeMessages(ILjava/lang/Object;)V
  
+     .line 5046
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
      invoke-virtual {v8, p1}, Landroid/util/SparseArray;->delete(I)V
  
+     .line 5048
      if-eqz p2, :cond_4
  
+     .line 5049
      instance-of v8, v6, Lcom/android/server/BackupManagerService$FullBackupParams;
  
      if-eqz v8, :cond_1
  
      const/4 v7, 0x2
  
+     .line 5053
      .local v7, verb:I
      :goto_0
      move-object/from16 v0, p5
  
      iput-object v0, v6, Lcom/android/server/BackupManagerService$FullParams;->observer:Landroid/app/backup/IFullBackupRestoreObserver;
  
+     .line 5054
      iput-object p3, v6, Lcom/android/server/BackupManagerService$FullParams;->curPassword:Ljava/lang/String;
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 5058
      :try_start_2
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mMountService:Landroid/os/storage/IMountService;
  
***************
*** 5559,5564 ****
--- 5991,5997 ----
  
      const/4 v2, 0x1
  
+     .line 5059
      .local v2, isEncrypted:Z
      :goto_1
      if-eqz v2, :cond_0
***************
*** 5572,5577 ****
--- 6005,6011 ----
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_2} :catch_0
  
+     .line 5065
      :cond_0
      :goto_2
      if-eqz v2, :cond_3
***************
*** 5581,5586 ****
--- 6015,6021 ----
      :try_start_3
      iput-object p3, v6, Lcom/android/server/BackupManagerService$FullParams;->encryptPassword:Ljava/lang/String;
  
+     .line 5067
      const-string v8, "BackupManagerService"
  
      new-instance v10, Ljava/lang/StringBuilder;
***************
*** 5603,5623 ****
--- 6038,6062 ----
  
      invoke-static {v8, v10}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5068
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mWakelock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v8}, Landroid/os/PowerManager$WakeLock;->acquire()V
  
+     .line 5069
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      invoke-virtual {v8, v7, v6}, Lcom/android/server/BackupManagerService$BackupHandler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
  
      move-result-object v3
  
+     .line 5070
      .local v3, msg:Landroid/os/Message;
      iget-object v8, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      invoke-virtual {v8, v3}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessage(Landroid/os/Message;)Z
  
+     .line 5079
      .end local v2           #isEncrypted:Z
      .end local v3           #msg:Landroid/os/Message;
      .end local v7           #verb:I
***************
*** 5626,5650 ****
--- 6065,6095 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 5081
      invoke-static {v4, v5}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 5083
      return-void
  
+     .line 5049
      .restart local p3
      :cond_1
      const/16 v7, 0xa
  
      goto :goto_0
  
+     .line 5058
      .restart local v7       #verb:I
      :cond_2
      const/4 v2, 0x0
  
      goto :goto_1
  
+     .line 5060
      :catch_0
      move-exception v1
  
+     .line 5062
      .local v1, e:Landroid/os/RemoteException;
      :try_start_4
      const-string v8, "BackupManagerService"
***************
*** 5653,5658 ****
--- 6098,6104 ----
  
      invoke-static {v8, v10}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5063
      const/4 v2, 0x1
  
      .restart local v2       #isEncrypted:Z
***************
*** 5662,5669 ****
--- 6108,6117 ----
      :cond_3
      move-object/from16 p3, p4
  
+     .line 5065
      goto :goto_3
  
+     .line 5072
      .end local v2           #isEncrypted:Z
      .end local v7           #verb:I
      :cond_4
***************
*** 5673,5682 ****
--- 6121,6132 ----
  
      invoke-static {v8, v10}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5074
      invoke-virtual {p0, v6}, Lcom/android/server/BackupManagerService;->signalFullBackupRestoreCompletion(Lcom/android/server/BackupManagerService$FullParams;)V
  
      goto :goto_4
  
+     .line 5079
      .end local v6           #params:Lcom/android/server/BackupManagerService$FullParams;
      .end local p3
      :catchall_0
***************
*** 5691,5696 ****
--- 6141,6147 ----
      :try_end_5
      .catchall {:try_start_5 .. :try_end_5} :catchall_1
  
+     .line 5081
      :catchall_1
      move-exception v8
  
***************
*** 5698,5703 ****
--- 6149,6155 ----
  
      throw v8
  
+     .line 5077
      .restart local v6       #params:Lcom/android/server/BackupManagerService$FullParams;
      .restart local p3
      :cond_5
***************
*** 5718,5723 ****
--- 6170,6176 ----
      .parameter "packageName"
  
      .prologue
+     .line 1356
      const-string v1, "BackupManagerService"
  
      new-instance v2, Ljava/lang/StringBuilder;
***************
*** 5740,5752 ****
--- 6193,6208 ----
  
      invoke-static {v1, v2}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1357
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->allAgentPackages()Ljava/util/List;
  
      move-result-object v0
  
+     .line 1358
      .local v0, targetApps:Ljava/util/List;,"Ljava/util/List<Landroid/content/pm/PackageInfo;>;"
      invoke-direct {p0, p1, v0}, Lcom/android/server/BackupManagerService;->addPackageParticipantsLockedInner(Ljava/lang/String;Ljava/util/List;)V
  
+     .line 1359
      return-void
  .end method
  
***************
*** 5756,5765 ****
--- 6212,6223 ----
      .parameter "agentBinder"
  
      .prologue
+     .line 5288
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
      monitor-enter v2
  
+     .line 5289
      :try_start_0
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
***************
*** 5769,5774 ****
--- 6227,6233 ----
  
      if-ne v1, v3, :cond_0
  
+     .line 5290
      const-string v1, "BackupManagerService"
  
      new-instance v3, Ljava/lang/StringBuilder;
***************
*** 5801,5827 ****
--- 6260,6293 ----
  
      invoke-static {v1, v3}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5291
      invoke-static {p2}, Landroid/app/IBackupAgent$Stub;->asInterface(Landroid/os/IBinder;)Landroid/app/IBackupAgent;
  
      move-result-object v0
  
+     .line 5292
      .local v0, agent:Landroid/app/IBackupAgent;
      iput-object v0, p0, Lcom/android/server/BackupManagerService;->mConnectedAgent:Landroid/app/IBackupAgent;
  
+     .line 5293
      const/4 v1, 0x0
  
      iput-boolean v1, p0, Lcom/android/server/BackupManagerService;->mConnecting:Z
  
+     .line 5298
      .end local v0           #agent:Landroid/app/IBackupAgent;
      :goto_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
      invoke-virtual {v1}, Ljava/lang/Object;->notifyAll()V
  
+     .line 5299
      monitor-exit v2
  
+     .line 5300
      return-void
  
+     .line 5295
      :cond_0
      const-string v1, "BackupManagerService"
  
***************
*** 5857,5862 ****
--- 6323,6329 ----
  
      goto :goto_0
  
+     .line 5299
      :catchall_0
      move-exception v1
  
***************
*** 5872,5881 ****
--- 6339,6350 ----
      .parameter "packageName"
  
      .prologue
+     .line 5307
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
      monitor-enter v1
  
+     .line 5308
      :try_start_0
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
***************
*** 5885,5907 ****
--- 6354,6382 ----
  
      if-ne v0, v2, :cond_0
  
+     .line 5309
      const/4 v0, 0x0
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService;->mConnectedAgent:Landroid/app/IBackupAgent;
  
+     .line 5310
      const/4 v0, 0x0
  
      iput-boolean v0, p0, Lcom/android/server/BackupManagerService;->mConnecting:Z
  
+     .line 5315
      :goto_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
      invoke-virtual {v0}, Ljava/lang/Object;->notifyAll()V
  
+     .line 5316
      monitor-exit v1
  
+     .line 5317
      return-void
  
+     .line 5312
      :cond_0
      const-string v0, "BackupManagerService"
  
***************
*** 5937,5942 ****
--- 6412,6418 ----
  
      goto :goto_0
  
+     .line 5316
      :catchall_0
      move-exception v0
  
***************
*** 5960,5967 ****
--- 6436,6445 ----
      .end annotation
  
      .prologue
+     .line 1454
      const/16 v4, 0x40
  
+     .line 1455
      .local v4, flags:I
      iget-object v7, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
  
***************
*** 5969,5979 ****
--- 6447,6459 ----
  
      move-result-object v5
  
+     .line 1456
      .local v5, packages:Ljava/util/List;,"Ljava/util/List<Landroid/content/pm/PackageInfo;>;"
      invoke-interface {v5}, Ljava/util/List;->size()I
  
      move-result v0
  
+     .line 1457
      .local v0, N:I
      add-int/lit8 v1, v0, -0x1
  
***************
*** 5981,5996 ****
--- 6461,6479 ----
      :goto_0
      if-ltz v1, :cond_2
  
+     .line 1458
      invoke-interface {v5, v1}, Ljava/util/List;->get(I)Ljava/lang/Object;
  
      move-result-object v6
  
      check-cast v6, Landroid/content/pm/PackageInfo;
  
+     .line 1460
      .local v6, pkg:Landroid/content/pm/PackageInfo;
      :try_start_0
      iget-object v2, v6, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
+     .line 1461
      .local v2, app:Landroid/content/pm/ApplicationInfo;
      iget v7, v2, Landroid/content/pm/ApplicationInfo;->flags:I
  
***************
*** 6004,6018 ****
--- 6487,6504 ----
  
      if-nez v7, :cond_1
  
+     .line 1463
      :cond_0
      invoke-interface {v5, v1}, Ljava/util/List;->remove(I)Ljava/lang/Object;
  
+     .line 1457
      .end local v2           #app:Landroid/content/pm/ApplicationInfo;
      :goto_1
      add-int/lit8 v1, v1, -0x1
  
      goto :goto_0
  
+     .line 1467
      .restart local v2       #app:Landroid/content/pm/ApplicationInfo;
      :cond_1
      iget-object v7, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
***************
*** 6025,6030 ****
--- 6511,6517 ----
  
      move-result-object v2
  
+     .line 1469
      iget-object v7, v6, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      iget-object v8, v2, Landroid/content/pm/ApplicationInfo;->sharedLibraryFiles:[Ljava/lang/String;
***************
*** 6035,6049 ****
--- 6522,6539 ----
  
      goto :goto_1
  
+     .line 1471
      .end local v2           #app:Landroid/content/pm/ApplicationInfo;
      :catch_0
      move-exception v3
  
+     .line 1472
      .local v3, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      invoke-interface {v5, v1}, Ljava/util/List;->remove(I)Ljava/lang/Object;
  
      goto :goto_1
  
+     .line 1475
      .end local v3           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .end local v6           #pkg:Landroid/content/pm/PackageInfo;
      :cond_2
***************
*** 6054,6059 ****
--- 6544,6550 ----
      .locals 5
  
      .prologue
+     .line 4848
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.BACKUP"
***************
*** 6062,6077 ****
--- 6553,6571 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 4850
      const-string v1, "BackupManagerService"
  
      const-string v2, "Scheduling immediate backup pass"
  
      invoke-static {v1, v2}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4851
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v2
  
+     .line 4855
      const-wide/32 v3, 0x36ee80
  
      :try_start_0
***************
*** 6079,6084 ****
--- 6573,6579 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 4857
      :try_start_1
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mRunBackupIntent:Landroid/app/PendingIntent;
  
***************
*** 6087,6101 ****
--- 6582,6600 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
      .catch Landroid/app/PendingIntent$CanceledException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 4862
      :goto_0
      :try_start_2
      monitor-exit v2
  
+     .line 4863
      return-void
  
+     .line 4858
      :catch_0
      move-exception v0
  
+     .line 4860
      .local v0, e:Landroid/app/PendingIntent$CanceledException;
      const-string v1, "BackupManagerService"
  
***************
*** 6105,6110 ****
--- 6604,6610 ----
  
      goto :goto_0
  
+     .line 4862
      .end local v0           #e:Landroid/app/PendingIntent$CanceledException;
      :catchall_0
      move-exception v1
***************
*** 6122,6127 ****
--- 6622,6628 ----
      .parameter "transport"
  
      .prologue
+     .line 5360
      const-string v3, "BackupManagerService"
  
      new-instance v4, Ljava/lang/StringBuilder;
***************
*** 6154,6170 ****
--- 6655,6677 ----
  
      invoke-static {v3, v4}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5363
      const/4 v1, 0x1
  
+     .line 5364
      .local v1, needPermission:Z
      if-nez p2, :cond_0
  
+     .line 5365
      iget-object p2, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 5367
      if-eqz p1, :cond_0
  
+     .line 5368
      const/4 v0, 0x0
  
+     .line 5370
      .local v0, app:Landroid/content/pm/PackageInfo;
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
***************
*** 6177,6182 ****
--- 6684,6690 ----
  
      move-result-object v0
  
+     .line 5376
      iget-object v3, v0, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      iget v3, v3, Landroid/content/pm/ApplicationInfo;->uid:I
***************
*** 6187,6198 ****
--- 6695,6709 ----
  
      if-ne v3, v4, :cond_0
  
+     .line 5380
      const/4 v1, 0x0
  
+     .line 5385
      .end local v0           #app:Landroid/content/pm/PackageInfo;
      :cond_0
      if-eqz v1, :cond_1
  
+     .line 5386
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v4, "android.permission.BACKUP"
***************
*** 6201,6233 ****
--- 6712,6751 ----
  
      invoke-virtual {v3, v4, v5}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5392
      :goto_0
      monitor-enter p0
  
+     .line 5393
      :try_start_1
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mActiveRestoreSession:Lcom/android/server/BackupManagerService$ActiveRestoreSession;
  
      if-eqz v3, :cond_2
  
+     .line 5394
      const-string v3, "BackupManagerService"
  
      const-string v4, "Restore session requested but one already active"
  
      invoke-static {v3, v4}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5395
      const/4 v3, 0x0
  
      monitor-exit p0
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 5400
      :goto_1
      return-object v3
  
+     .line 5371
      .restart local v0       #app:Landroid/content/pm/PackageInfo;
      :catch_0
      move-exception v2
  
+     .line 5372
      .local v2, nnf:Landroid/content/pm/PackageManager$NameNotFoundException;
      const-string v3, "BackupManagerService"
  
***************
*** 6251,6256 ****
--- 6769,6775 ----
  
      invoke-static {v3, v4}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5373
      new-instance v3, Ljava/lang/IllegalArgumentException;
  
      new-instance v4, Ljava/lang/StringBuilder;
***************
*** 6281,6286 ****
--- 6800,6806 ----
  
      throw v3
  
+     .line 5389
      .end local v0           #app:Landroid/content/pm/PackageInfo;
      .end local v2           #nnf:Landroid/content/pm/PackageManager$NameNotFoundException;
      :cond_1
***************
*** 6292,6297 ****
--- 6812,6818 ----
  
      goto :goto_0
  
+     .line 5397
      :cond_2
      :try_start_2
      new-instance v3, Lcom/android/server/BackupManagerService$ActiveRestoreSession;
***************
*** 6300,6305 ****
--- 6821,6827 ----
  
      iput-object v3, p0, Lcom/android/server/BackupManagerService;->mActiveRestoreSession:Lcom/android/server/BackupManagerService$ActiveRestoreSession;
  
+     .line 5398
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/16 v4, 0x8
***************
*** 6308,6321 ****
--- 6830,6846 ----
  
      invoke-virtual {v3, v4, v5, v6}, Lcom/android/server/BackupManagerService$BackupHandler;->sendEmptyMessageDelayed(IJ)Z
  
+     .line 5399
      monitor-exit p0
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
  
+     .line 5400
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mActiveRestoreSession:Lcom/android/server/BackupManagerService$ActiveRestoreSession;
  
      goto :goto_1
  
+     .line 5399
      :catchall_0
      move-exception v3
  
***************
*** 6337,6360 ****
--- 6862,6890 ----
  
      const/4 v4, 0x0
  
+     .line 1600
      const/4 v0, 0x0
  
+     .line 1601
      .local v0, agent:Landroid/app/IBackupAgent;
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
      monitor-enter v5
  
+     .line 1602
      const/4 v6, 0x1
  
      :try_start_0
      iput-boolean v6, p0, Lcom/android/server/BackupManagerService;->mConnecting:Z
  
+     .line 1603
      const/4 v6, 0x0
  
      iput-object v6, p0, Lcom/android/server/BackupManagerService;->mConnectedAgent:Landroid/app/IBackupAgent;
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 1605
      :try_start_1
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mActivityManager:Landroid/app/IActivityManager;
  
***************
*** 6364,6369 ****
--- 6894,6900 ----
  
      if-eqz v6, :cond_2
  
+     .line 1606
      const-string v6, "BackupManagerService"
  
      new-instance v7, Ljava/lang/StringBuilder;
***************
*** 6386,6391 ****
--- 6917,6923 ----
  
      invoke-static {v6, v7}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1610
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
  
      move-result-wide v6
***************
*** 6394,6399 ****
--- 6926,6932 ----
  
      add-long v2, v6, v8
  
+     .line 1612
      .local v2, timeoutMark:J
      :goto_0
      iget-boolean v6, p0, Lcom/android/server/BackupManagerService;->mConnecting:Z
***************
*** 6415,6420 ****
--- 6948,6954 ----
  
      if-gez v6, :cond_0
  
+     .line 1614
      :try_start_2
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mAgentConnectLock:Ljava/lang/Object;
  
***************
*** 6428,6447 ****
--- 6962,6985 ----
  
      goto :goto_0
  
+     .line 1615
      :catch_0
      move-exception v1
  
+     .line 1617
      .local v1, e:Ljava/lang/InterruptedException;
      :try_start_3
      monitor-exit v5
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 1632
      .end local v1           #e:Ljava/lang/InterruptedException;
      .end local v2           #timeoutMark:J
      :goto_1
      return-object v4
  
+     .line 1622
      .restart local v2       #timeoutMark:J
      :cond_0
      :try_start_4
***************
*** 6449,6454 ****
--- 6987,6993 ----
  
      if-ne v6, v10, :cond_1
  
+     .line 1623
      const-string v6, "BackupManagerService"
  
      new-instance v7, Ljava/lang/StringBuilder;
***************
*** 6474,6484 ****
--- 7013,7025 ----
      .catchall {:try_start_4 .. :try_end_4} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_4 .. :try_end_4} :catch_1
  
+     .line 1624
      :try_start_5
      monitor-exit v5
  
      goto :goto_1
  
+     .line 1631
      .end local v2           #timeoutMark:J
      :catchall_0
      move-exception v4
***************
*** 6489,6494 ****
--- 7030,7036 ----
  
      throw v4
  
+     .line 1626
      .restart local v2       #timeoutMark:J
      :cond_1
      :try_start_6
***************
*** 6497,6502 ****
--- 7039,7045 ----
      .catchall {:try_start_6 .. :try_end_6} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_6 .. :try_end_6} :catch_1
  
+     .line 1631
      .end local v2           #timeoutMark:J
      :cond_2
      :goto_2
***************
*** 6507,6514 ****
--- 7050,7059 ----
  
      move-object v4, v0
  
+     .line 1632
      goto :goto_1
  
+     .line 1628
      :catch_1
      move-exception v4
  
***************
*** 6520,6525 ****
--- 7065,7071 ----
      .parameter "packageName"
  
      .prologue
+     .line 1639
      :try_start_0
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mPackageManager:Landroid/content/pm/PackageManager;
  
***************
*** 6529,6534 ****
--- 7075,7081 ----
  
      move-result-object v1
  
+     .line 1640
      .local v1, info:Landroid/content/pm/PackageInfo;
      iget-object v5, v1, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
***************
*** 6540,6552 ****
--- 7087,7102 ----
  
      if-nez v5, :cond_0
  
+     .line 1671
      .end local v1           #info:Landroid/content/pm/PackageInfo;
      :goto_0
      return-void
  
+     .line 1645
      :catch_0
      move-exception v0
  
+     .line 1646
      .local v0, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      const-string v5, "BackupManagerService"
  
***************
*** 6578,6583 ****
--- 7128,7134 ----
  
      goto :goto_0
  
+     .line 1650
      .end local v0           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .restart local v1       #info:Landroid/content/pm/PackageInfo;
      :cond_0
***************
*** 6585,6595 ****
--- 7136,7148 ----
  
      invoke-direct {v2, p0}, Lcom/android/server/BackupManagerService$ClearDataObserver;-><init>(Lcom/android/server/BackupManagerService;)V
  
+     .line 1652
      .local v2, observer:Lcom/android/server/BackupManagerService$ClearDataObserver;
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mClearDataLock:Ljava/lang/Object;
  
      monitor-enter v6
  
+     .line 1653
      const/4 v5, 0x1
  
      :try_start_1
***************
*** 6597,6602 ****
--- 7150,7156 ----
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 1655
      :try_start_2
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mActivityManager:Landroid/app/IActivityManager;
  
***************
*** 6605,6610 ****
--- 7159,7165 ----
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_2} :catch_2
  
+     .line 1661
      :goto_1
      :try_start_3
      invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
***************
*** 6615,6620 ****
--- 7170,7176 ----
  
      add-long v3, v7, v9
  
+     .line 1662
      .local v3, timeoutMark:J
      :goto_2
      iget-boolean v5, p0, Lcom/android/server/BackupManagerService;->mClearingData:Z
***************
*** 6631,6636 ****
--- 7187,7193 ----
  
      if-gez v5, :cond_1
  
+     .line 1664
      :try_start_4
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mClearDataLock:Ljava/lang/Object;
  
***************
*** 6643,6651 ****
--- 7200,7210 ----
  
      goto :goto_2
  
+     .line 1665
      :catch_1
      move-exception v0
  
+     .line 1667
      .local v0, e:Ljava/lang/InterruptedException;
      const/4 v5, 0x0
  
***************
*** 6654,6659 ****
--- 7213,7219 ----
  
      goto :goto_2
  
+     .line 1670
      .end local v0           #e:Ljava/lang/InterruptedException;
      .end local v3           #timeoutMark:J
      :catchall_0
***************
*** 6674,6679 ****
--- 7234,7240 ----
  
      goto :goto_0
  
+     .line 1656
      .end local v3           #timeoutMark:J
      :catch_2
      move-exception v5
***************
*** 6686,6691 ****
--- 7247,7253 ----
      .parameter "packageName"
  
      .prologue
+     .line 4798
      const-string v14, "BackupManagerService"
  
      new-instance v15, Ljava/lang/StringBuilder;
***************
*** 6710,6715 ****
--- 7272,7278 ----
  
      invoke-static {v14, v15}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4801
      :try_start_0
      move-object/from16 v0, p0
  
***************
*** 6725,6730 ****
--- 7288,7294 ----
  
      move-result-object v9
  
+     .line 4810
      .local v9, info:Landroid/content/pm/PackageInfo;
      move-object/from16 v0, p0
  
***************
*** 6748,6753 ****
--- 7312,7318 ----
  
      if-ne v14, v15, :cond_3
  
+     .line 4812
      move-object/from16 v0, p0
  
      iget-object v14, v0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
***************
*** 6762,6767 ****
--- 7327,7333 ----
  
      check-cast v5, Ljava/util/HashSet;
  
+     .line 4828
      .local v5, apps:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      :cond_0
      invoke-virtual {v5}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
***************
*** 6782,6787 ****
--- 7348,7354 ----
  
      check-cast v4, Landroid/content/pm/ApplicationInfo;
  
+     .line 4829
      .local v4, app:Landroid/content/pm/ApplicationInfo;
      iget-object v14, v4, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
  
***************
*** 6793,6815 ****
--- 7360,7386 ----
  
      if-eqz v14, :cond_1
  
+     .line 4830
      const-string v14, "BackupManagerService"
  
      const-string v15, "Found the app - running clear process"
  
      invoke-static {v14, v15}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4832
      move-object/from16 v0, p0
  
      iget-object v15, v0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v15
  
+     .line 4833
      :try_start_1
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v11
  
+     .line 4834
      .local v11, oldId:J
      move-object/from16 v0, p0
  
***************
*** 6817,6822 ****
--- 7388,7394 ----
  
      invoke-virtual {v14}, Landroid/os/PowerManager$WakeLock;->acquire()V
  
+     .line 4835
      move-object/from16 v0, p0
  
      iget-object v14, v0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
***************
*** 6855,6860 ****
--- 7427,7433 ----
  
      move-result-object v10
  
+     .line 4837
      .local v10, msg:Landroid/os/Message;
      move-object/from16 v0, p0
  
***************
*** 6862,6873 ****
--- 7435,7449 ----
  
      invoke-virtual {v14, v10}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessage(Landroid/os/Message;)Z
  
+     .line 4838
      invoke-static {v11, v12}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4839
      monitor-exit v15
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 4843
      .end local v4           #app:Landroid/content/pm/ApplicationInfo;
      .end local v5           #apps:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      .end local v8           #i$:Ljava/util/Iterator;
***************
*** 6878,6886 ****
--- 7454,7464 ----
      :goto_0
      return-void
  
+     .line 4802
      :catch_0
      move-exception v6
  
+     .line 4803
      .local v6, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      const-string v14, "BackupManagerService"
  
***************
*** 6914,6919 ****
--- 7492,7498 ----
  
      goto :goto_0
  
+     .line 4816
      .end local v6           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .restart local v9       #info:Landroid/content/pm/PackageInfo;
      :cond_3
***************
*** 6923,6932 ****
--- 7502,7513 ----
  
      invoke-static {v14, v15}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4817
      new-instance v5, Ljava/util/HashSet;
  
      invoke-direct {v5}, Ljava/util/HashSet;-><init>()V
  
+     .line 4818
      .restart local v5       #apps:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      move-object/from16 v0, p0
  
***************
*** 6936,6941 ****
--- 7517,7523 ----
  
      move-result v3
  
+     .line 4819
      .local v3, N:I
      const/4 v7, 0x0
  
***************
*** 6943,6948 ****
--- 7525,7531 ----
      :goto_1
      if-ge v7, v3, :cond_0
  
+     .line 4820
      move-object/from16 v0, p0
  
      iget-object v14, v0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
***************
*** 6953,6968 ****
--- 7536,7555 ----
  
      check-cast v13, Ljava/util/HashSet;
  
+     .line 4821
      .local v13, s:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      if-eqz v13, :cond_4
  
+     .line 4822
      invoke-virtual {v5, v13}, Ljava/util/HashSet;->addAll(Ljava/util/Collection;)Z
  
+     .line 4819
      :cond_4
      add-int/lit8 v7, v7, 0x1
  
      goto :goto_1
  
+     .line 4839
      .end local v3           #N:I
      .end local v7           #i:I
      .end local v13           #s:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
***************
*** 6984,7007 ****
--- 7571,7600 ----
      .parameter "currentSession"
  
      .prologue
+     .line 5404
      monitor-enter p0
  
+     .line 5405
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mActiveRestoreSession:Lcom/android/server/BackupManagerService$ActiveRestoreSession;
  
      if-eq p1, v0, :cond_0
  
+     .line 5406
      const-string v0, "BackupManagerService"
  
      const-string v1, "ending non-current restore session"
  
      invoke-static {v0, v1}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5412
      :goto_0
      monitor-exit p0
  
+     .line 5413
      return-void
  
+     .line 5408
      :cond_0
      const-string v0, "BackupManagerService"
  
***************
*** 7009,7018 ****
--- 7602,7613 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5409
      const/4 v0, 0x0
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService;->mActiveRestoreSession:Lcom/android/server/BackupManagerService$ActiveRestoreSession;
  
+     .line 5410
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/16 v1, 0x8
***************
*** 7021,7026 ****
--- 7616,7622 ----
  
      goto :goto_0
  
+     .line 5412
      :catchall_0
      move-exception v0
  
***************
*** 7036,7048 ****
--- 7632,7647 ----
      .parameter "packageName"
  
      .prologue
+     .line 4782
      invoke-direct {p0, p1}, Lcom/android/server/BackupManagerService;->dataChangedTargets(Ljava/lang/String;)Ljava/util/HashSet;
  
      move-result-object v0
  
+     .line 4783
      .local v0, targets:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      if-nez v0, :cond_0
  
+     .line 4784
      const-string v1, "BackupManagerService"
  
      new-instance v2, Ljava/lang/StringBuilder;
***************
*** 7085,7093 ****
--- 7684,7694 ----
  
      invoke-static {v1, v2}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4794
      :goto_0
      return-void
  
+     .line 4789
      :cond_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
***************
*** 7106,7117 ****
--- 7707,7720 ----
      .prologue
      const/4 v1, 0x0
  
+     .line 4866
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v2}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
  
      move-result-object v0
  
+     .line 4867
      .local v0, resolver:Landroid/content/ContentResolver;
      const-string v2, "device_provisioned"
  
***************
*** 7134,7153 ****
--- 7737,7761 ----
      .parameter "args"
  
      .prologue
+     .line 5690
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 5692
      .local v0, identityToken:J
      :try_start_0
      invoke-direct {p0, p2}, Lcom/android/server/BackupManagerService;->dumpInternal(Ljava/io/PrintWriter;)V
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5694
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 5696
      return-void
  
+     .line 5694
      :catchall_0
      move-exception v2
  
***************
*** 7166,7171 ****
--- 7774,7780 ----
      .parameter "pkgList"
  
      .prologue
+     .line 4875
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.BACKUP"
***************
*** 7174,7183 ****
--- 7783,7795 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 4878
      if-nez p4, :cond_1
  
+     .line 4879
      if-nez p3, :cond_1
  
+     .line 4883
      if-eqz p6, :cond_0
  
      move-object/from16 v0, p6
***************
*** 7186,7191 ****
--- 7798,7804 ----
  
      if-nez v2, :cond_1
  
+     .line 4884
      :cond_0
      new-instance v2, Ljava/lang/IllegalArgumentException;
  
***************
*** 7195,7205 ****
--- 7808,7820 ----
  
      throw v2
  
+     .line 4890
      :cond_1
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v9
  
+     .line 4893
      .local v9, oldId:J
      :try_start_0
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->deviceIsProvisioned()Z
***************
*** 7208,7213 ****
--- 7823,7829 ----
  
      if-nez v2, :cond_2
  
+     .line 4894
      const-string v2, "BackupManagerService"
  
      const-string v3, "Full backup not supported before setup"
***************
*** 7216,7229 ****
--- 7832,7848 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 4929
      :try_start_1
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 4933
      :goto_0
      invoke-static {v9, v10}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4934
      const-string v2, "BackupManagerService"
  
      const-string v3, "Full backup processing complete."
***************
*** 7231,7238 ****
--- 7850,7859 ----
      :goto_1
      invoke-static {v2, v3}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4936
      return-void
  
+     .line 4898
      :cond_2
      :try_start_2
      const-string v2, "BackupManagerService"
***************
*** 7291,7302 ****
--- 7912,7925 ----
  
      invoke-static {v2, v3}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4901
      const-string v2, "BackupManagerService"
  
      const-string v3, "Beginning full backup..."
  
      invoke-static {v2, v3}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4903
      new-instance v1, Lcom/android/server/BackupManagerService$FullBackupParams;
  
      move-object v2, p0
***************
*** 7315,7325 ****
--- 7938,7950 ----
  
      invoke-direct/range {v1 .. v8}, Lcom/android/server/BackupManagerService$FullBackupParams;-><init>(Lcom/android/server/BackupManagerService;Landroid/os/ParcelFileDescriptor;ZZZZ[Ljava/lang/String;)V
  
+     .line 4905
      .local v1, params:Lcom/android/server/BackupManagerService$FullBackupParams;
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->generateToken()I
  
      move-result v11
  
+     .line 4906
      .local v11, token:I
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
***************
*** 7327,7341 ****
--- 7952,7969 ----
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
  
+     .line 4907
      :try_start_3
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
      invoke-virtual {v2, v11, v1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
  
+     .line 4908
      monitor-exit v3
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 4911
      :try_start_4
      const-string v2, "BackupManagerService"
  
***************
*** 7359,7364 ****
--- 7987,7993 ----
  
      invoke-static {v2, v3}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4912
      const-string v2, "fullback"
  
      invoke-virtual {p0, v11, v2}, Lcom/android/server/BackupManagerService;->startConfirmationUi(ILjava/lang/String;)Z
***************
*** 7367,7398 ****
--- 7996,8033 ----
  
      if-nez v2, :cond_3
  
+     .line 4913
      const-string v2, "BackupManagerService"
  
      const-string v3, "Unable to launch full backup confirmation"
  
      invoke-static {v2, v3}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4914
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
      invoke-virtual {v2, v11}, Landroid/util/SparseArray;->delete(I)V
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_1
  
+     .line 4929
      :try_start_5
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_5
      .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2
  
+     .line 4933
      :goto_2
      invoke-static {v9, v10}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4934
      const-string v2, "BackupManagerService"
  
      const-string v3, "Full backup processing complete."
  
      goto/16 :goto_1
  
+     .line 4908
      :catchall_0
      move-exception v2
  
***************
*** 7406,7432 ****
--- 8041,8073 ----
      :try_end_7
      .catchall {:try_start_7 .. :try_end_7} :catchall_1
  
+     .line 4928
      .end local v1           #params:Lcom/android/server/BackupManagerService$FullBackupParams;
      .end local v11           #token:I
      :catchall_1
      move-exception v2
  
+     .line 4929
      :try_start_8
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_8
      .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_0
  
+     .line 4933
      :goto_3
      invoke-static {v9, v10}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4934
      const-string v3, "BackupManagerService"
  
      const-string v4, "Full backup processing complete."
  
      invoke-static {v3, v4}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4928
      throw v2
  
+     .line 4919
      .restart local v1       #params:Lcom/android/server/BackupManagerService$FullBackupParams;
      .restart local v11       #token:I
      :cond_3
***************
*** 7441,7472 ****
--- 8082,8120 ----
  
      invoke-virtual {v2, v3, v4, v5}, Landroid/os/PowerManager;->userActivity(JZ)V
  
+     .line 4922
      invoke-virtual {p0, v11, v1}, Lcom/android/server/BackupManagerService;->startConfirmationTimeout(ILcom/android/server/BackupManagerService$FullParams;)V
  
+     .line 4925
      const-string v2, "BackupManagerService"
  
      const-string v3, "Waiting for full backup completion..."
  
      invoke-static {v2, v3}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4926
      invoke-virtual {p0, v1}, Lcom/android/server/BackupManagerService;->waitForCompletion(Lcom/android/server/BackupManagerService$FullParams;)V
      :try_end_9
      .catchall {:try_start_9 .. :try_end_9} :catchall_1
  
+     .line 4929
      :try_start_a
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_a
      .catch Ljava/io/IOException; {:try_start_a .. :try_end_a} :catch_3
  
+     .line 4933
      :goto_4
      invoke-static {v9, v10}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4934
      const-string v2, "BackupManagerService"
  
      const-string v3, "Full backup processing complete."
  
      goto/16 :goto_1
  
+     .line 4930
      .end local v1           #params:Lcom/android/server/BackupManagerService$FullBackupParams;
      .end local v11           #token:I
      :catch_0
***************
*** 7497,7502 ****
--- 8145,8151 ----
      .parameter "fd"
  
      .prologue
+     .line 4939
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v6, "android.permission.BACKUP"
***************
*** 7505,7514 ****
--- 8154,8165 ----
  
      invoke-virtual {v5, v6, v7}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 4941
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v1
  
+     .line 4946
      .local v1, oldId:J
      :try_start_0
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->deviceIsProvisioned()Z
***************
*** 7517,7522 ****
--- 8168,8174 ----
  
      if-nez v5, :cond_0
  
+     .line 4947
      const-string v5, "BackupManagerService"
  
      const-string v6, "Full restore not permitted before setup"
***************
*** 7525,7538 ****
--- 8177,8193 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 4978
      :try_start_1
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 4982
      :goto_0
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4983
      const-string v5, "BackupManagerService"
  
      const-string v6, "Full restore processing complete."
***************
*** 7540,7547 ****
--- 8195,8204 ----
      :goto_1
      invoke-static {v5, v6}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4985
      return-void
  
+     .line 4951
      :cond_0
      :try_start_2
      const-string v5, "BackupManagerService"
***************
*** 7550,7564 ****
--- 8207,8224 ----
  
      invoke-static {v5, v6}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4953
      new-instance v3, Lcom/android/server/BackupManagerService$FullRestoreParams;
  
      invoke-direct {v3, p0, p1}, Lcom/android/server/BackupManagerService$FullRestoreParams;-><init>(Lcom/android/server/BackupManagerService;Landroid/os/ParcelFileDescriptor;)V
  
+     .line 4954
      .local v3, params:Lcom/android/server/BackupManagerService$FullRestoreParams;
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->generateToken()I
  
      move-result v4
  
+     .line 4955
      .local v4, token:I
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
***************
*** 7566,7580 ****
--- 8226,8243 ----
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
  
+     .line 4956
      :try_start_3
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
      invoke-virtual {v5, v4, v3}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
  
+     .line 4957
      monitor-exit v6
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 4960
      :try_start_4
      const-string v5, "BackupManagerService"
  
***************
*** 7598,7603 ****
--- 8261,8267 ----
  
      invoke-static {v5, v6}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4961
      const-string v5, "fullrest"
  
      invoke-virtual {p0, v4, v5}, Lcom/android/server/BackupManagerService;->startConfirmationUi(ILjava/lang/String;)Z
***************
*** 7606,7637 ****
--- 8270,8307 ----
  
      if-nez v5, :cond_1
  
+     .line 4962
      const-string v5, "BackupManagerService"
  
      const-string v6, "Unable to launch full restore confirmation"
  
      invoke-static {v5, v6}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4963
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mFullConfirmations:Landroid/util/SparseArray;
  
      invoke-virtual {v5, v4}, Landroid/util/SparseArray;->delete(I)V
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_1
  
+     .line 4978
      :try_start_5
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_5
      .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2
  
+     .line 4982
      :goto_2
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4983
      const-string v5, "BackupManagerService"
  
      const-string v6, "Full restore processing complete."
  
      goto :goto_1
  
+     .line 4957
      :catchall_0
      move-exception v5
  
***************
*** 7645,7671 ****
--- 8315,8347 ----
      :try_end_7
      .catchall {:try_start_7 .. :try_end_7} :catchall_1
  
+     .line 4977
      .end local v3           #params:Lcom/android/server/BackupManagerService$FullRestoreParams;
      .end local v4           #token:I
      :catchall_1
      move-exception v5
  
+     .line 4978
      :try_start_8
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_8
      .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_0
  
+     .line 4982
      :goto_3
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4983
      const-string v6, "BackupManagerService"
  
      const-string v7, "Full restore processing complete."
  
      invoke-static {v6, v7}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4977
      throw v5
  
+     .line 4968
      .restart local v3       #params:Lcom/android/server/BackupManagerService$FullRestoreParams;
      .restart local v4       #token:I
      :cond_1
***************
*** 7680,7716 ****
--- 8356,8400 ----
  
      invoke-virtual {v5, v6, v7, v8}, Landroid/os/PowerManager;->userActivity(JZ)V
  
+     .line 4971
      invoke-virtual {p0, v4, v3}, Lcom/android/server/BackupManagerService;->startConfirmationTimeout(ILcom/android/server/BackupManagerService$FullParams;)V
  
+     .line 4974
      const-string v5, "BackupManagerService"
  
      const-string v6, "Waiting for full restore completion..."
  
      invoke-static {v5, v6}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 4975
      invoke-virtual {p0, v3}, Lcom/android/server/BackupManagerService;->waitForCompletion(Lcom/android/server/BackupManagerService$FullParams;)V
      :try_end_9
      .catchall {:try_start_9 .. :try_end_9} :catchall_1
  
+     .line 4978
      :try_start_a
      invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->close()V
      :try_end_a
      .catch Ljava/io/IOException; {:try_start_a .. :try_end_a} :catch_3
  
+     .line 4982
      :goto_4
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 4983
      const-string v5, "BackupManagerService"
  
      const-string v6, "Full restore processing complete."
  
      goto/16 :goto_1
  
+     .line 4979
      .end local v3           #params:Lcom/android/server/BackupManagerService$FullRestoreParams;
      .end local v4           #token:I
      :catch_0
      move-exception v0
  
+     .line 4980
      .local v0, e:Ljava/io/IOException;
      const-string v6, "BackupManagerService"
  
***************
*** 7736,7745 ****
--- 8420,8431 ----
  
      goto :goto_3
  
+     .line 4979
      .end local v0           #e:Ljava/io/IOException;
      :catch_1
      move-exception v0
  
+     .line 4980
      .restart local v0       #e:Ljava/io/IOException;
      const-string v5, "BackupManagerService"
  
***************
*** 7765,7776 ****
--- 8451,8464 ----
  
      goto/16 :goto_0
  
+     .line 4979
      .end local v0           #e:Ljava/io/IOException;
      .restart local v3       #params:Lcom/android/server/BackupManagerService$FullRestoreParams;
      .restart local v4       #token:I
      :catch_2
      move-exception v0
  
+     .line 4980
      .restart local v0       #e:Ljava/io/IOException;
      const-string v5, "BackupManagerService"
  
***************
*** 7796,7805 ****
--- 8484,8495 ----
  
      goto/16 :goto_2
  
+     .line 4979
      .end local v0           #e:Ljava/io/IOException;
      :catch_3
      move-exception v0
  
+     .line 4980
      .restart local v0       #e:Ljava/io/IOException;
      const-string v5, "BackupManagerService"
  
***************
*** 7830,7840 ****
--- 8520,8532 ----
      .locals 3
  
      .prologue
+     .line 415
      :cond_0
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mTokenGenerator:Ljava/util/Random;
  
      monitor-enter v2
  
+     .line 416
      :try_start_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mTokenGenerator:Ljava/util/Random;
  
***************
*** 7842,7854 ****
--- 8534,8550 ----
  
      move-result v0
  
+     .line 417
      .local v0, token:I
      monitor-exit v2
  
+     .line 418
      if-ltz v0, :cond_0
  
+     .line 419
      return v0
  
+     .line 417
      .end local v0           #token:I
      :catchall_0
      move-exception v1
***************
*** 7865,7877 ****
--- 8561,8576 ----
      .parameter "packageName"
  
      .prologue
+     .line 1685
      iget-wide v0, p0, Lcom/android/server/BackupManagerService;->mAncestralToken:J
  
+     .line 1686
      .local v0, token:J
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v3
  
+     .line 1687
      :try_start_0
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
***************
*** 7881,7893 ****
--- 8580,8596 ----
  
      if-eqz v2, :cond_0
  
+     .line 1688
      iget-wide v0, p0, Lcom/android/server/BackupManagerService;->mCurrentToken:J
  
+     .line 1690
      :cond_0
      monitor-exit v3
  
+     .line 1691
      return-wide v0
  
+     .line 1690
      :catchall_0
      move-exception v2
  
***************
*** 7903,7908 ****
--- 8606,8612 ----
      .parameter "transportName"
  
      .prologue
+     .line 5240
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.BACKUP"
***************
*** 7911,7920 ****
--- 8615,8626 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5243
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v3
  
+     .line 5244
      :try_start_0
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
***************
*** 7926,7934 ****
--- 8632,8642 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5245
      .local v1, transport:Lcom/android/internal/backup/IBackupTransport;
      if-eqz v1, :cond_0
  
+     .line 5247
      :try_start_1
      invoke-interface {v1}, Lcom/android/internal/backup/IBackupTransport;->configurationIntent()Landroid/content/Intent;
      :try_end_1
***************
*** 7937,7960 ****
--- 8645,8674 ----
  
      move-result-object v0
  
+     .line 5250
      .local v0, intent:Landroid/content/Intent;
      :try_start_2
      monitor-exit v3
  
+     .line 5257
      .end local v0           #intent:Landroid/content/Intent;
      :goto_0
      return-object v0
  
+     .line 5251
      :catch_0
      move-exception v2
  
+     .line 5255
      :cond_0
      monitor-exit v3
  
+     .line 5257
      const/4 v0, 0x0
  
      goto :goto_0
  
+     .line 5255
      .end local v1           #transport:Lcom/android/internal/backup/IBackupTransport;
      :catchall_0
      move-exception v2
***************
*** 7970,7975 ****
--- 8684,8690 ----
      .locals 3
  
      .prologue
+     .line 5189
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.BACKUP"
***************
*** 7978,7983 ****
--- 8693,8699 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5192
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
      return-object v0
***************
*** 7988,7993 ****
--- 8704,8710 ----
      .parameter "transportName"
  
      .prologue
+     .line 5266
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.BACKUP"
***************
*** 7996,8005 ****
--- 8713,8724 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5269
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v3
  
+     .line 5270
      :try_start_0
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
***************
*** 8011,8019 ****
--- 8730,8740 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5271
      .local v1, transport:Lcom/android/internal/backup/IBackupTransport;
      if-eqz v1, :cond_0
  
+     .line 5273
      :try_start_1
      invoke-interface {v1}, Lcom/android/internal/backup/IBackupTransport;->currentDestinationString()Ljava/lang/String;
      :try_end_1
***************
*** 8022,8045 ****
--- 8743,8772 ----
  
      move-result-object v0
  
+     .line 5275
      .local v0, text:Ljava/lang/String;
      :try_start_2
      monitor-exit v3
  
+     .line 5282
      .end local v0           #text:Ljava/lang/String;
      :goto_0
      return-object v0
  
+     .line 5276
      :catch_0
      move-exception v2
  
+     .line 5280
      :cond_0
      monitor-exit v3
  
+     .line 5282
      const/4 v0, 0x0
  
      goto :goto_0
  
+     .line 5280
      .end local v1           #transport:Lcom/android/internal/backup/IBackupTransport;
      :catchall_0
      move-exception v2
***************
*** 8059,8071 ****
--- 8786,8801 ----
      .prologue
      const/4 v2, -0x1
  
+     .line 1754
      const/4 v1, 0x0
  
+     .line 1755
      .local v1, op:Lcom/android/server/BackupManagerService$Operation;
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      monitor-enter v4
  
+     .line 1756
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
  
***************
*** 8079,8092 ****
--- 8809,8825 ----
  
      move-object v1, v0
  
+     .line 1761
      if-eqz v1, :cond_0
  
      iget v2, v1, Lcom/android/server/BackupManagerService$Operation;->state:I
  
+     .line 1762
      .local v2, state:I
      :cond_0
      if-nez v2, :cond_1
  
+     .line 1763
      const-string v3, "BackupManagerService"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 8113,8148 ****
--- 8846,8889 ----
  
      invoke-static {v3, v5}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1764
      const/4 v3, -0x1
  
      iput v3, v1, Lcom/android/server/BackupManagerService$Operation;->state:I
  
+     .line 1765
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
  
      invoke-virtual {v3, p1, v1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
  
+     .line 1767
      :cond_1
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      invoke-virtual {v3}, Ljava/lang/Object;->notifyAll()V
  
+     .line 1768
      monitor-exit v4
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 1771
      if-eqz v1, :cond_2
  
      iget-object v3, v1, Lcom/android/server/BackupManagerService$Operation;->callback:Lcom/android/server/BackupManagerService$BackupRestoreTask;
  
      if-eqz v3, :cond_2
  
+     .line 1772
      iget-object v3, v1, Lcom/android/server/BackupManagerService$Operation;->callback:Lcom/android/server/BackupManagerService$BackupRestoreTask;
  
      invoke-interface {v3}, Lcom/android/server/BackupManagerService$BackupRestoreTask;->handleTimeout()V
  
+     .line 1774
      :cond_2
      return-void
  
+     .line 1768
      .end local v2           #state:I
      :catchall_0
      move-exception v3
***************
*** 8161,8166 ****
--- 8902,8908 ----
      .prologue
      const/4 v1, 0x1
  
+     .line 1152
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.BACKUP"
***************
*** 8169,8174 ****
--- 8911,8917 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1156
      :try_start_0
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mMountService:Landroid/os/storage/IMountService;
  
***************
*** 8192,8209 ****
--- 8935,8956 ----
  
      if-lez v2, :cond_1
  
+     .line 1161
      :cond_0
      :goto_0
      return v1
  
+     .line 1156
      :cond_1
      const/4 v1, 0x0
  
      goto :goto_0
  
+     .line 1158
      :catch_0
      move-exception v0
  
+     .line 1161
      .local v0, e:Ljava/lang/Exception;
      goto :goto_0
  .end method
***************
*** 8212,8217 ****
--- 8959,8965 ----
      .locals 3
  
      .prologue
+     .line 5183
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.BACKUP"
***************
*** 8220,8225 ****
--- 8968,8974 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5184
      iget-boolean v0, p0, Lcom/android/server/BackupManagerService;->mEnabled:Z
  
      return v0
***************
*** 8229,8234 ****
--- 8978,8984 ----
      .locals 7
  
      .prologue
+     .line 5197
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v5, "android.permission.BACKUP"
***************
*** 8237,8249 ****
--- 8987,9002 ----
  
      invoke-virtual {v4, v5, v6}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5199
      const/4 v3, 0x0
  
+     .line 5200
      .local v3, list:[Ljava/lang/String;
      new-instance v2, Ljava/util/ArrayList;
  
      invoke-direct {v2}, Ljava/util/ArrayList;-><init>()V
  
+     .line 5201
      .local v2, known:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
***************
*** 8270,8275 ****
--- 9023,9029 ----
  
      check-cast v0, Ljava/util/Map$Entry;
  
+     .line 5202
      .local v0, entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/String;Lcom/android/internal/backup/IBackupTransport;>;"
      invoke-interface {v0}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
  
***************
*** 8277,8282 ****
--- 9031,9037 ----
  
      if-eqz v4, :cond_0
  
+     .line 5203
      invoke-interface {v0}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
  
      move-result-object v4
***************
*** 8285,8290 ****
--- 9040,9046 ----
  
      goto :goto_0
  
+     .line 5207
      .end local v0           #entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/String;Lcom/android/internal/backup/IBackupTransport;>;"
      :cond_1
      invoke-virtual {v2}, Ljava/util/ArrayList;->size()I
***************
*** 8293,8306 ****
--- 9049,9065 ----
  
      if-lez v4, :cond_2
  
+     .line 5208
      invoke-virtual {v2}, Ljava/util/ArrayList;->size()I
  
      move-result v4
  
      new-array v3, v4, [Ljava/lang/String;
  
+     .line 5209
      invoke-virtual {v2, v3}, Ljava/util/ArrayList;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;
  
+     .line 5211
      :cond_2
      return-object v3
  .end method
***************
*** 8310,8315 ****
--- 9069,9075 ----
      .parameter "packageName"
  
      .prologue
+     .line 1500
      const-string v3, "@pm@"
  
      invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
***************
*** 8318,8331 ****
--- 9078,9094 ----
  
      if-eqz v3, :cond_0
  
+     .line 1516
      :goto_0
      return-void
  
+     .line 1502
      :cond_0
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      monitor-enter v4
  
+     .line 1503
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
***************
*** 8339,8344 ****
--- 9102,9108 ----
  
      goto :goto_0
  
+     .line 1515
      :catchall_0
      move-exception v3
  
***************
*** 8348,8356 ****
--- 9112,9122 ----
  
      throw v3
  
+     .line 1505
      :cond_1
      const/4 v1, 0x0
  
+     .line 1507
      .local v1, out:Ljava/io/RandomAccessFile;
      :try_start_1
      new-instance v2, Ljava/io/RandomAccessFile;
***************
*** 8364,8369 ****
--- 9130,9136 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 1508
      .end local v1           #out:Ljava/io/RandomAccessFile;
      .local v2, out:Ljava/io/RandomAccessFile;
      :try_start_2
***************
*** 8373,8383 ****
--- 9140,9152 ----
  
      invoke-virtual {v2, v5, v6}, Ljava/io/RandomAccessFile;->seek(J)V
  
+     .line 1509
      invoke-virtual {v2, p1}, Ljava/io/RandomAccessFile;->writeUTF(Ljava/lang/String;)V
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_2
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_4
  
+     .line 1513
      if-eqz v2, :cond_2
  
      :try_start_3
***************
*** 8390,8395 ****
--- 9159,9165 ----
      :goto_1
      move-object v1, v2
  
+     .line 1515
      .end local v2           #out:Ljava/io/RandomAccessFile;
      .restart local v1       #out:Ljava/io/RandomAccessFile;
      :cond_3
***************
*** 8401,8409 ****
--- 9171,9181 ----
  
      goto :goto_0
  
+     .line 1510
      :catch_0
      move-exception v0
  
+     .line 1511
      .local v0, e:Ljava/io/IOException;
      :goto_3
      :try_start_5
***************
*** 8443,8448 ****
--- 9215,9221 ----
      :try_end_5
      .catchall {:try_start_5 .. :try_end_5} :catchall_1
  
+     .line 1513
      if-eqz v1, :cond_3
  
      :try_start_6
***************
*** 8499,8504 ****
--- 9272,9278 ----
      .restart local v1       #out:Ljava/io/RandomAccessFile;
      goto :goto_4
  
+     .line 1510
      .end local v1           #out:Ljava/io/RandomAccessFile;
      .restart local v2       #out:Ljava/io/RandomAccessFile;
      :catch_4
***************
*** 8516,8528 ****
--- 9290,9305 ----
      .parameter "token"
  
      .prologue
+     .line 5420
      const/4 v2, 0x0
  
+     .line 5421
      .local v2, op:Lcom/android/server/BackupManagerService$Operation;
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      monitor-enter v4
  
+     .line 5422
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
  
***************
*** 8536,8562 ****
--- 9313,9345 ----
  
      move-object v2, v0
  
+     .line 5423
      if-eqz v2, :cond_0
  
+     .line 5424
      const/4 v3, 0x1
  
      iput v3, v2, Lcom/android/server/BackupManagerService$Operation;->state:I
  
+     .line 5426
      :cond_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      invoke-virtual {v3}, Ljava/lang/Object;->notifyAll()V
  
+     .line 5427
      monitor-exit v4
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5430
      if-eqz v2, :cond_1
  
      iget-object v3, v2, Lcom/android/server/BackupManagerService$Operation;->callback:Lcom/android/server/BackupManagerService$BackupRestoreTask;
  
      if-eqz v3, :cond_1
  
+     .line 5431
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/16 v4, 0x15
***************
*** 8567,8581 ****
--- 9350,9367 ----
  
      move-result-object v1
  
+     .line 5432
      .local v1, msg:Landroid/os/Message;
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      invoke-virtual {v3, v1}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessage(Landroid/os/Message;)Z
  
+     .line 5434
      .end local v1           #msg:Landroid/os/Message;
      :cond_1
      return-void
  
+     .line 5427
      :catchall_0
      move-exception v3
  
***************
*** 8597,8602 ****
--- 9383,9389 ----
  
      const/4 v5, 0x0
  
+     .line 1046
      :try_start_0
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mMountService:Landroid/os/storage/IMountService;
  
***************
*** 8608,8632 ****
--- 9395,9424 ----
  
      move v2, v4
  
+     .line 1047
      .local v2, isEncrypted:Z
      :goto_0
      if-eqz v2, :cond_4
  
+     .line 1049
      const-string v6, "BackupManagerService"
  
      const-string v7, "Device encrypted; verifying against device data pw"
  
      invoke-static {v6, v7}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1055
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mMountService:Landroid/os/storage/IMountService;
  
      invoke-interface {v6, p1}, Landroid/os/storage/IMountService;->verifyEncryptionPassword(Ljava/lang/String;)I
  
      move-result v3
  
+     .line 1056
      .local v3, result:I
      if-nez v3, :cond_2
  
+     .line 1092
      .end local v2           #isEncrypted:Z
      .end local v3           #result:I
      :cond_0
***************
*** 8636,8643 ****
--- 9428,9437 ----
      :cond_1
      move v2, v5
  
+     .line 1046
      goto :goto_0
  
+     .line 1059
      .restart local v2       #isEncrypted:Z
      .restart local v3       #result:I
      :cond_2
***************
*** 8647,8654 ****
--- 9441,9450 ----
  
      move v4, v5
  
+     .line 1061
      goto :goto_1
  
+     .line 1067
      :cond_3
      const-string v4, "BackupManagerService"
  
***************
*** 8660,8667 ****
--- 9456,9465 ----
  
      move v4, v5
  
+     .line 1068
      goto :goto_1
  
+     .line 1071
      .end local v2           #isEncrypted:Z
      .end local v3           #result:I
      :catch_0
***************
*** 8670,8677 ****
--- 9468,9477 ----
      .local v1, e:Ljava/lang/Exception;
      move v4, v5
  
+     .line 1074
      goto :goto_1
  
+     .line 1077
      .end local v1           #e:Ljava/lang/Exception;
      .restart local v2       #isEncrypted:Z
      :cond_4
***************
*** 8679,8684 ****
--- 9479,9485 ----
  
      if-nez v6, :cond_6
  
+     .line 1079
      if-eqz p1, :cond_0
  
      const-string v6, ""
***************
*** 8692,8699 ****
--- 9493,9502 ----
      :cond_5
      move v4, v5
  
+     .line 1092
      goto :goto_1
  
+     .line 1084
      :cond_6
      if-eqz p1, :cond_5
  
***************
*** 8703,8714 ****
--- 9506,9519 ----
  
      if-lez v6, :cond_5
  
+     .line 1085
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mPasswordSalt:[B
  
      invoke-direct {p0, p1, v6, p2}, Lcom/android/server/BackupManagerService;->buildPasswordHash(Ljava/lang/String;[BI)Ljava/lang/String;
  
      move-result-object v0
  
+     .line 1086
      .local v0, currentPwHash:Ljava/lang/String;
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mPasswordHash:Ljava/lang/String;
  
***************
*** 8728,8737 ****
--- 9533,9544 ----
      .parameter "callback"
  
      .prologue
+     .line 1711
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      monitor-enter v2
  
+     .line 1712
      :try_start_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
  
***************
*** 8743,8748 ****
--- 9550,9556 ----
  
      invoke-virtual {v1, p1, v3}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
  
+     .line 1714
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/4 v3, 0x7
***************
*** 8753,8767 ****
--- 9561,9579 ----
  
      move-result-object v0
  
+     .line 1715
      .local v0, msg:Landroid/os/Message;
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      invoke-virtual {v1, v0, p2, p3}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessageDelayed(Landroid/os/Message;J)Z
  
+     .line 1716
      monitor-exit v2
  
+     .line 1717
      return-void
  
+     .line 1716
      .end local v0           #msg:Landroid/os/Message;
      :catchall_0
      move-exception v1
***************
*** 8779,8784 ****
--- 9591,9597 ----
      .parameter "transportName"
  
      .prologue
+     .line 1168
      const-string v4, "BackupManagerService"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 8811,8826 ****
--- 9624,9642 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1171
      :try_start_0
      invoke-direct {p0, p2}, Lcom/android/server/BackupManagerService;->getTransport(Ljava/lang/String;)Lcom/android/internal/backup/IBackupTransport;
  
      move-result-object v2
  
+     .line 1172
      .local v2, transport:Lcom/android/internal/backup/IBackupTransport;
      invoke-interface {v2}, Lcom/android/internal/backup/IBackupTransport;->transportDirName()Ljava/lang/String;
  
      move-result-object v3
  
+     .line 1173
      .local v3, transportDirName:Ljava/lang/String;
      new-instance v1, Ljava/io/File;
  
***************
*** 8828,8833 ****
--- 9644,9650 ----
  
      invoke-direct {v1, v4, v3}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1174
      .local v1, stateDir:Ljava/io/File;
      new-instance v0, Ljava/io/File;
  
***************
*** 8835,8849 ****
--- 9652,9669 ----
  
      invoke-direct {v0, v1, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1176
      .local v0, initPendingFile:Ljava/io/File;
      if-eqz p1, :cond_0
  
+     .line 1180
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mPendingInits:Ljava/util/HashSet;
  
      invoke-virtual {v4, p2}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
      :try_end_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 1182
      :try_start_1
      new-instance v4, Ljava/io/FileOutputStream;
  
***************
*** 8854,8859 ****
--- 9674,9680 ----
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 1194
      .end local v0           #initPendingFile:Ljava/io/File;
      .end local v1           #stateDir:Ljava/io/File;
      .end local v2           #transport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 8861,8866 ****
--- 9682,9688 ----
      :goto_0
      return-void
  
+     .line 1188
      .restart local v0       #initPendingFile:Ljava/io/File;
      .restart local v1       #stateDir:Ljava/io/File;
      .restart local v2       #transport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 8869,8874 ****
--- 9691,9697 ----
      :try_start_2
      invoke-virtual {v0}, Ljava/io/File;->delete()Z
  
+     .line 1189
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mPendingInits:Ljava/util/HashSet;
  
      invoke-virtual {v4, p2}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
***************
*** 8877,8882 ****
--- 9700,9706 ----
  
      goto :goto_0
  
+     .line 1191
      .end local v0           #initPendingFile:Ljava/io/File;
      .end local v1           #stateDir:Ljava/io/File;
      .end local v2           #transport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 8886,8891 ****
--- 9710,9716 ----
  
      goto :goto_0
  
+     .line 1183
      .restart local v0       #initPendingFile:Ljava/io/File;
      .restart local v1       #stateDir:Ljava/io/File;
      .restart local v2       #transport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 8901,8906 ****
--- 9726,9732 ----
      .parameter "packageName"
  
      .prologue
+     .line 1520
      const-string v6, "BackupManagerService"
  
      new-instance v7, Ljava/lang/StringBuilder;
***************
*** 8923,8932 ****
--- 9749,9760 ----
  
      invoke-static {v6, v7}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1523
      iget-object v7, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      monitor-enter v7
  
+     .line 1527
      :try_start_0
      new-instance v5, Ljava/io/File;
  
***************
*** 8938,8946 ****
--- 9766,9776 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 1528
      .local v5, tempKnownFile:Ljava/io/File;
      const/4 v2, 0x0
  
+     .line 1530
      .local v2, known:Ljava/io/RandomAccessFile;
      :try_start_1
      new-instance v3, Ljava/io/RandomAccessFile;
***************
*** 8952,8957 ****
--- 9782,9788 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 1531
      .end local v2           #known:Ljava/io/RandomAccessFile;
      .local v3, known:Ljava/io/RandomAccessFile;
      :try_start_2
***************
*** 8959,8964 ****
--- 9790,9796 ----
  
      invoke-virtual {v6, p1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
  
+     .line 1532
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      invoke-virtual {v6}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
***************
*** 8979,8984 ****
--- 9811,9817 ----
  
      check-cast v4, Ljava/lang/String;
  
+     .line 1533
      .local v4, s:Ljava/lang/String;
      invoke-virtual {v3, v4}, Ljava/io/RandomAccessFile;->writeUTF(Ljava/lang/String;)V
      :try_end_2
***************
*** 8987,8992 ****
--- 9820,9826 ----
  
      goto :goto_0
  
+     .line 1541
      .end local v1           #i$:Ljava/util/Iterator;
      .end local v4           #s:Ljava/lang/String;
      :catch_0
***************
*** 8994,8999 ****
--- 9828,9834 ----
  
      move-object v2, v3
  
+     .line 1546
      .end local v3           #known:Ljava/io/RandomAccessFile;
      .local v0, e:Ljava/io/IOException;
      .restart local v2       #known:Ljava/io/RandomAccessFile;
***************
*** 9023,9040 ****
--- 9858,9879 ----
  
      invoke-static {v6, v8, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1547
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      invoke-virtual {v6}, Ljava/util/HashSet;->clear()V
  
+     .line 1548
      invoke-virtual {v5}, Ljava/io/File;->delete()Z
  
+     .line 1549
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mEverStored:Ljava/io/File;
  
      invoke-virtual {v6}, Ljava/io/File;->delete()Z
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 1551
      if-eqz v2, :cond_0
  
      :try_start_4
***************
*** 9043,9048 ****
--- 9882,9888 ----
      .catchall {:try_start_4 .. :try_end_4} :catchall_1
      .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3
  
+     .line 1553
      .end local v0           #e:Ljava/io/IOException;
      :cond_0
      :goto_2
***************
*** 9051,9058 ****
--- 9891,9900 ----
      :try_end_5
      .catchall {:try_start_5 .. :try_end_5} :catchall_1
  
+     .line 1554
      return-void
  
+     .line 1536
      .end local v2           #known:Ljava/io/RandomAccessFile;
      .restart local v1       #i$:Ljava/util/Iterator;
      .restart local v3       #known:Ljava/io/RandomAccessFile;
***************
*** 9063,9070 ****
--- 9905,9914 ----
      .catchall {:try_start_6 .. :try_end_6} :catchall_2
      .catch Ljava/io/IOException; {:try_start_6 .. :try_end_6} :catch_0
  
+     .line 1537
      const/4 v2, 0x0
  
+     .line 1538
      .end local v3           #known:Ljava/io/RandomAccessFile;
      .restart local v2       #known:Ljava/io/RandomAccessFile;
      :try_start_7
***************
*** 9076,9081 ****
--- 9920,9926 ----
  
      if-nez v6, :cond_3
  
+     .line 1539
      new-instance v6, Ljava/io/IOException;
  
      new-instance v8, Ljava/lang/StringBuilder;
***************
*** 9115,9126 ****
--- 9960,9973 ----
      .catchall {:try_start_7 .. :try_end_7} :catchall_0
      .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_1
  
+     .line 1541
      .end local v1           #i$:Ljava/util/Iterator;
      :catch_1
      move-exception v0
  
      goto :goto_1
  
+     .line 1551
      :catchall_0
      move-exception v6
  
***************
*** 9138,9143 ****
--- 9985,9991 ----
      :try_start_9
      throw v6
  
+     .line 1553
      .end local v2           #known:Ljava/io/RandomAccessFile;
      .end local v5           #tempKnownFile:Ljava/io/File;
      :catchall_1
***************
*** 9149,9154 ****
--- 9997,10003 ----
  
      throw v6
  
+     .line 1551
      .restart local v2       #known:Ljava/io/RandomAccessFile;
      .restart local v5       #tempKnownFile:Ljava/io/File;
      :catch_2
***************
*** 9191,9196 ****
--- 10040,10046 ----
      .parameter "packageName"
  
      .prologue
+     .line 1397
      const-string v4, "BackupManagerService"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 9213,9237 ****
--- 10063,10094 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1398
      new-instance v0, Ljava/util/ArrayList;
  
      invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
  
+     .line 1399
      .local v0, allApps:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
      if-eqz p1, :cond_1
  
+     .line 1400
      invoke-interface {v0, p1}, Ljava/util/List;->add(Ljava/lang/Object;)Z
  
+     .line 1408
      :cond_0
      invoke-direct {p0, p1, v0}, Lcom/android/server/BackupManagerService;->removePackageParticipantsLockedInner(Ljava/lang/String;Ljava/util/List;)V
  
+     .line 1409
      return-void
  
+     .line 1403
      :cond_1
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->allAgentPackages()Ljava/util/List;
  
      move-result-object v2
  
+     .line 1404
      .local v2, knownPackages:Ljava/util/List;,"Ljava/util/List<Landroid/content/pm/PackageInfo;>;"
      invoke-interface {v2}, Ljava/util/List;->iterator()Ljava/util/Iterator;
  
***************
*** 9251,9256 ****
--- 10108,10114 ----
  
      check-cast v3, Landroid/content/pm/PackageInfo;
  
+     .line 1405
      .local v3, pkg:Landroid/content/pm/PackageInfo;
      iget-object v4, v3, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
  
***************
*** 9264,9288 ****
--- 10122,10152 ----
      .parameter "stateFileDir"
  
      .prologue
+     .line 1200
      iget-object v10, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v10
  
+     .line 1202
      :try_start_0
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mEverStoredApps:Ljava/util/HashSet;
  
      invoke-virtual {v9}, Ljava/util/HashSet;->clear()V
  
+     .line 1203
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mEverStored:Ljava/io/File;
  
      invoke-virtual {v9}, Ljava/io/File;->delete()Z
  
+     .line 1205
      const-wide/16 v11, 0x0
  
      iput-wide v11, p0, Lcom/android/server/BackupManagerService;->mCurrentToken:J
  
+     .line 1206
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->writeRestoreTokens()V
  
+     .line 1209
      invoke-virtual {p1}, Ljava/io/File;->listFiles()[Ljava/io/File;
  
      move-result-object v2
***************
*** 9299,9304 ****
--- 10163,10169 ----
  
      aget-object v7, v2, v4
  
+     .line 1211
      .local v7, sf:Ljava/io/File;
      invoke-virtual {v7}, Ljava/io/File;->getName()Ljava/lang/String;
  
***************
*** 9312,9334 ****
--- 10177,10204 ----
  
      if-nez v9, :cond_0
  
+     .line 1212
      invoke-virtual {v7}, Ljava/io/File;->delete()Z
  
+     .line 1209
      :cond_0
      add-int/lit8 v4, v4, 0x1
  
      goto :goto_0
  
+     .line 1215
      .end local v7           #sf:Ljava/io/File;
      :cond_1
      monitor-exit v10
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 1218
      iget-object v10, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      monitor-enter v10
  
+     .line 1219
      :try_start_1
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
***************
*** 9336,9341 ****
--- 10206,10212 ----
  
      move-result v0
  
+     .line 1220
      .local v0, N:I
      const/4 v3, 0x0
  
***************
*** 9344,9355 ****
--- 10215,10228 ----
      :goto_1
      if-ge v3, v0, :cond_3
  
+     .line 1221
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
      invoke-virtual {v9, v3}, Landroid/util/SparseArray;->keyAt(I)I
  
      move-result v8
  
+     .line 1222
      .local v8, uid:I
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mBackupParticipants:Landroid/util/SparseArray;
  
***************
*** 9359,9364 ****
--- 10232,10238 ----
  
      check-cast v6, Ljava/util/HashSet;
  
+     .line 1223
      .local v6, participants:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      invoke-virtual {v6}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
  
***************
*** 9378,9383 ****
--- 10252,10258 ----
  
      check-cast v1, Landroid/content/pm/ApplicationInfo;
  
+     .line 1224
      .local v1, app:Landroid/content/pm/ApplicationInfo;
      iget-object v9, v1, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
  
***************
*** 9385,9390 ****
--- 10260,10266 ----
  
      goto :goto_2
  
+     .line 1227
      .end local v0           #N:I
      .end local v1           #app:Landroid/content/pm/ApplicationInfo;
      .end local v3           #i:I
***************
*** 9400,9405 ****
--- 10276,10282 ----
  
      throw v9
  
+     .line 1215
      .end local v2           #arr$:[Ljava/io/File;
      .end local v5           #len$:I
      :catchall_1
***************
*** 9412,9417 ****
--- 10289,10295 ----
  
      throw v9
  
+     .line 1220
      .restart local v0       #N:I
      .restart local v2       #arr$:[Ljava/io/File;
      .restart local v3       #i:I
***************
*** 9424,9429 ****
--- 10302,10308 ----
  
      goto :goto_1
  
+     .line 1227
      .end local v4           #i$:Ljava/util/Iterator;
      .end local v6           #participants:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/content/pm/ApplicationInfo;>;"
      .end local v8           #uid:I
***************
*** 9433,9438 ****
--- 10312,10318 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 1228
      return-void
  .end method
  
***************
*** 9442,9447 ****
--- 10322,10328 ----
      .parameter "token"
  
      .prologue
+     .line 5322
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v0
***************
*** 9450,9455 ****
--- 10331,10337 ----
  
      if-eq v0, v1, :cond_0
  
+     .line 5323
      const-string v0, "BackupManagerService"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 9482,9495 ****
--- 10364,10380 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5356
      :goto_0
      return-void
  
+     .line 5328
      :cond_0
      invoke-virtual {p0, p1}, Lcom/android/server/BackupManagerService;->getAvailableRestoreToken(Ljava/lang/String;)J
  
      move-result-wide v4
  
+     .line 5329
      .local v4, restoreSet:J
      const-string v0, "BackupManagerService"
  
***************
*** 9527,9532 ****
--- 10412,10418 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5332
      iget-boolean v0, p0, Lcom/android/server/BackupManagerService;->mAutoRestore:Z
  
      if-eqz v0, :cond_1
***************
*** 9541,9557 ****
--- 10427,10447 ----
  
      if-eqz v0, :cond_1
  
+     .line 5340
      new-instance v6, Landroid/content/pm/PackageInfo;
  
      invoke-direct {v6}, Landroid/content/pm/PackageInfo;-><init>()V
  
+     .line 5341
      .local v6, pkg:Landroid/content/pm/PackageInfo;
      iput-object p1, v6, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
  
+     .line 5343
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mWakelock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v0}, Landroid/os/PowerManager$WakeLock;->acquire()V
  
+     .line 5344
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/4 v1, 0x3
***************
*** 9560,9565 ****
--- 10450,10456 ----
  
      move-result-object v9
  
+     .line 5345
      .local v9, msg:Landroid/os/Message;
      new-instance v0, Lcom/android/server/BackupManagerService$RestoreParams;
  
***************
*** 9581,9592 ****
--- 10472,10485 ----
  
      iput-object v0, v9, Landroid/os/Message;->obj:Ljava/lang/Object;
  
+     .line 5347
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      invoke-virtual {v0, v9}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessage(Landroid/os/Message;)Z
  
      goto :goto_0
  
+     .line 5351
      .end local v6           #pkg:Landroid/content/pm/PackageInfo;
      .end local v9           #msg:Landroid/os/Message;
      :cond_1
***************
*** 9596,9601 ****
--- 10489,10495 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5353
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mPackageManagerBinder:Landroid/content/pm/IPackageManager;
  
***************
*** 9605,9610 ****
--- 10499,10505 ----
  
      goto :goto_0
  
+     .line 5354
      :catch_0
      move-exception v0
  
***************
*** 9616,9621 ****
--- 10511,10517 ----
      .parameter "transport"
  
      .prologue
+     .line 5218
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.BACKUP"
***************
*** 9624,9635 ****
--- 10520,10534 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5220
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v2
  
+     .line 5221
      const/4 v0, 0x0
  
+     .line 5222
      .local v0, prevTransport:Ljava/lang/String;
      :try_start_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
***************
*** 9640,9649 ****
--- 10539,10551 ----
  
      if-eqz v1, :cond_0
  
+     .line 5223
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 5224
      iput-object p1, p0, Lcom/android/server/BackupManagerService;->mCurrentTransport:Ljava/lang/String;
  
+     .line 5225
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
***************
*** 9654,9659 ****
--- 10556,10562 ----
  
      invoke-static {v1, v3, p1}, Landroid/provider/Settings$Secure;->putString(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Z
  
+     .line 5227
      const-string v1, "BackupManagerService"
  
      new-instance v3, Ljava/lang/StringBuilder;
***************
*** 9688,9698 ****
--- 10591,10603 ----
  
      invoke-static {v1, v3}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5232
      :goto_0
      monitor-exit v2
  
      return-object v0
  
+     .line 5230
      :cond_0
      const-string v1, "BackupManagerService"
  
***************
*** 9718,9723 ****
--- 10623,10629 ----
  
      goto :goto_0
  
+     .line 5233
      :catchall_0
      move-exception v1
  
***************
*** 9733,9738 ****
--- 10639,10645 ----
      .parameter "doAutoRestore"
  
      .prologue
+     .line 5132
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.BACKUP"
***************
*** 9741,9746 ****
--- 10648,10654 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5135
      const-string v0, "BackupManagerService"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 9763,9770 ****
--- 10671,10680 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5137
      monitor-enter p0
  
+     .line 5138
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
***************
*** 9781,9797 ****
--- 10691,10712 ----
      :goto_0
      invoke-static {v1, v2, v0}, Landroid/provider/Settings$Secure;->putInt(Landroid/content/ContentResolver;Ljava/lang/String;I)Z
  
+     .line 5140
      iput-boolean p1, p0, Lcom/android/server/BackupManagerService;->mAutoRestore:Z
  
+     .line 5141
      monitor-exit p0
  
+     .line 5142
      return-void
  
+     .line 5138
      :cond_0
      const/4 v0, 0x0
  
      goto :goto_0
  
+     .line 5141
      :catchall_0
      move-exception v0
  
***************
*** 9811,9816 ****
--- 10726,10732 ----
  
      const/4 v5, 0x0
  
+     .line 5087
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v7, "android.permission.BACKUP"
***************
*** 9819,9824 ****
--- 10735,10741 ----
  
      invoke-virtual {v6, v7, v8}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5090
      const-string v6, "BackupManagerService"
  
      new-instance v7, Ljava/lang/StringBuilder;
***************
*** 9841,9851 ****
--- 10758,10771 ----
  
      invoke-static {v6, v7}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5092
      iget-boolean v3, p0, Lcom/android/server/BackupManagerService;->mEnabled:Z
  
+     .line 5093
      .local v3, wasEnabled:Z
      monitor-enter p0
  
+     .line 5094
      :try_start_0
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
***************
*** 9860,9875 ****
--- 10780,10799 ----
      :goto_0
      invoke-static {v6, v7, v4}, Landroid/provider/Settings$Secure;->putInt(Landroid/content/ContentResolver;Ljava/lang/String;I)Z
  
+     .line 5096
      iput-boolean p1, p0, Lcom/android/server/BackupManagerService;->mEnabled:Z
  
+     .line 5097
      monitor-exit p0
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5099
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v5
  
+     .line 5100
      if-eqz p1, :cond_2
  
      if-nez v3, :cond_2
***************
*** 9879,9901 ****
--- 10803,10830 ----
  
      if-eqz v4, :cond_2
  
+     .line 5102
      const-wide/32 v6, 0x36ee80
  
      invoke-direct {p0, v6, v7}, Lcom/android/server/BackupManagerService;->startBackupAlarmsLocked(J)V
  
+     .line 5127
      :cond_0
      :goto_1
      monitor-exit v5
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
  
+     .line 5128
      return-void
  
      :cond_1
      move v4, v5
  
+     .line 5094
      goto :goto_0
  
+     .line 5097
      :catchall_0
      move-exception v4
  
***************
*** 9906,9914 ****
--- 10835,10845 ----
  
      throw v4
  
+     .line 5103
      :cond_2
      if-nez p1, :cond_0
  
+     .line 5105
      :try_start_3
      const-string v4, "BackupManagerService"
  
***************
*** 9916,9939 ****
--- 10847,10874 ----
  
      invoke-static {v4, v6}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5107
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mRunBackupIntent:Landroid/app/PendingIntent;
  
      invoke-virtual {v4, v6}, Landroid/app/AlarmManager;->cancel(Landroid/app/PendingIntent;)V
  
+     .line 5112
      if-eqz v3, :cond_0
  
      iget-boolean v4, p0, Lcom/android/server/BackupManagerService;->mProvisioned:Z
  
      if-eqz v4, :cond_0
  
+     .line 5116
      iget-object v6, p0, Lcom/android/server/BackupManagerService;->mTransports:Ljava/util/HashMap;
  
      monitor-enter v6
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_1
  
+     .line 5117
      :try_start_4
      new-instance v0, Ljava/util/HashSet;
  
***************
*** 9945,9955 ****
--- 10880,10892 ----
  
      invoke-direct {v0, v4}, Ljava/util/HashSet;-><init>(Ljava/util/Collection;)V
  
+     .line 5118
      .local v0, allTransports:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      monitor-exit v6
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_2
  
+     .line 5120
      :try_start_5
      invoke-virtual {v0}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
  
***************
*** 9969,9974 ****
--- 10906,10912 ----
  
      check-cast v2, Ljava/lang/String;
  
+     .line 5121
      .local v2, transport:Ljava/lang/String;
      const/4 v4, 0x1
  
***************
*** 9976,9981 ****
--- 10914,10920 ----
  
      goto :goto_2
  
+     .line 5127
      .end local v0           #allTransports:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      .end local v1           #i$:Ljava/util/Iterator;
      .end local v2           #transport:Ljava/lang/String;
***************
*** 9988,9993 ****
--- 10927,10933 ----
  
      throw v4
  
+     .line 5118
      :catchall_2
      move-exception v4
  
***************
*** 9999,10004 ****
--- 10939,10945 ----
      :try_start_7
      throw v4
  
+     .line 5123
      .restart local v0       #allTransports:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
      .restart local v1       #i$:Ljava/util/Iterator;
      :cond_3
***************
*** 10025,10030 ****
--- 10966,10972 ----
      .parameter "newPw"
  
      .prologue
+     .line 1097
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v10, "android.permission.BACKUP"
***************
*** 10033,10038 ****
--- 10975,10981 ----
  
      invoke-virtual {v9, v10, v11}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1101
      const/16 v9, 0x2710
  
      invoke-virtual {p0, p1, v9}, Lcom/android/server/BackupManagerService;->passwordMatchesSaved(Ljava/lang/String;I)Z
***************
*** 10041,10052 ****
--- 10984,10998 ----
  
      if-nez v9, :cond_1
  
+     .line 1102
      const/4 v9, 0x0
  
+     .line 1147
      :cond_0
      :goto_0
      return v9
  
+     .line 1106
      :cond_1
      if-eqz p2, :cond_2
  
***************
*** 10056,10061 ****
--- 11002,11008 ----
  
      if-eqz v9, :cond_4
  
+     .line 1107
      :cond_2
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mPasswordHashFile:Ljava/io/File;
  
***************
*** 10065,10070 ****
--- 11012,11018 ----
  
      if-eqz v9, :cond_3
  
+     .line 1108
      iget-object v9, p0, Lcom/android/server/BackupManagerService;->mPasswordHashFile:Ljava/io/File;
  
      invoke-virtual {v9}, Ljava/io/File;->delete()Z
***************
*** 10073,10101 ****
--- 11021,11055 ----
  
      if-nez v9, :cond_3
  
+     .line 1110
      const-string v9, "BackupManagerService"
  
      const-string v10, "Unable to clear backup password"
  
      invoke-static {v9, v10}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1111
      const/4 v9, 0x0
  
      goto :goto_0
  
+     .line 1114
      :cond_3
      const/4 v9, 0x0
  
      iput-object v9, p0, Lcom/android/server/BackupManagerService;->mPasswordHash:Ljava/lang/String;
  
+     .line 1115
      const/4 v9, 0x0
  
      iput-object v9, p0, Lcom/android/server/BackupManagerService;->mPasswordSalt:[B
  
+     .line 1116
      const/4 v9, 0x1
  
      goto :goto_0
  
+     .line 1121
      :cond_4
      const/16 v9, 0x200
  
***************
*** 10104,10109 ****
--- 11058,11064 ----
  
      move-result-object v8
  
+     .line 1122
      .local v8, salt:[B
      const/16 v9, 0x2710
  
***************
*** 10113,10127 ****
--- 11068,11085 ----
  
      move-result-object v3
  
+     .line 1124
      .local v3, newPwHash:Ljava/lang/String;
      const/4 v6, 0x0
  
      .local v6, pwf:Ljava/io/OutputStream;
      const/4 v0, 0x0
  
+     .line 1125
      .local v0, buffer:Ljava/io/OutputStream;
      const/4 v4, 0x0
  
+     .line 1127
      .local v4, out:Ljava/io/DataOutputStream;
      :try_start_1
      new-instance v7, Ljava/io/FileOutputStream;
***************
*** 10132,10137 ****
--- 11090,11096 ----
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 1128
      .end local v6           #pwf:Ljava/io/OutputStream;
      .local v7, pwf:Ljava/io/OutputStream;
      :try_start_2
***************
*** 10141,10146 ****
--- 11100,11106 ----
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
  
+     .line 1129
      .end local v0           #buffer:Ljava/io/OutputStream;
      .local v1, buffer:Ljava/io/OutputStream;
      :try_start_3
***************
*** 10150,10155 ****
--- 11110,11116 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_2
  
+     .line 1132
      .end local v4           #out:Ljava/io/DataOutputStream;
      .local v5, out:Ljava/io/DataOutputStream;
      :try_start_4
***************
*** 10157,10186 ****
--- 11118,11156 ----
  
      invoke-virtual {v5, v9}, Ljava/io/DataOutputStream;->writeInt(I)V
  
+     .line 1133
      invoke-virtual {v5, v8}, Ljava/io/DataOutputStream;->write([B)V
  
+     .line 1134
      invoke-virtual {v5, v3}, Ljava/io/DataOutputStream;->writeUTF(Ljava/lang/String;)V
  
+     .line 1135
      invoke-virtual {v5}, Ljava/io/DataOutputStream;->flush()V
  
+     .line 1136
      iput-object v3, p0, Lcom/android/server/BackupManagerService;->mPasswordHash:Ljava/lang/String;
  
+     .line 1137
      iput-object v8, p0, Lcom/android/server/BackupManagerService;->mPasswordSalt:[B
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_3
  
+     .line 1138
      const/4 v9, 0x1
  
+     .line 1140
      if-eqz v5, :cond_5
  
      :try_start_5
      invoke-virtual {v5}, Ljava/io/DataOutputStream;->close()V
  
+     .line 1141
      :cond_5
      if-eqz v1, :cond_6
  
      invoke-virtual {v1}, Ljava/io/OutputStream;->close()V
  
+     .line 1142
      :cond_6
      if-eqz v7, :cond_0
  
***************
*** 10190,10195 ****
--- 11160,11166 ----
  
      goto :goto_0
  
+     .line 1144
      .end local v1           #buffer:Ljava/io/OutputStream;
      .end local v3           #newPwHash:Ljava/lang/String;
      .end local v5           #out:Ljava/io/DataOutputStream;
***************
*** 10198,10203 ****
--- 11169,11175 ----
      :catch_0
      move-exception v2
  
+     .line 1145
      .local v2, e:Ljava/io/IOException;
      const-string v9, "BackupManagerService"
  
***************
*** 10205,10214 ****
--- 11177,11188 ----
  
      invoke-static {v9, v10}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1147
      const/4 v9, 0x0
  
      goto :goto_0
  
+     .line 1140
      .end local v2           #e:Ljava/io/IOException;
      .restart local v0       #buffer:Ljava/io/OutputStream;
      .restart local v3       #newPwHash:Ljava/lang/String;
***************
*** 10224,10239 ****
--- 11198,11216 ----
      :try_start_6
      invoke-virtual {v4}, Ljava/io/DataOutputStream;->close()V
  
+     .line 1141
      :cond_7
      if-eqz v0, :cond_8
  
      invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
  
+     .line 1142
      :cond_8
      if-eqz v6, :cond_9
  
      invoke-virtual {v6}, Ljava/io/OutputStream;->close()V
  
+     .line 1140
      :cond_9
      throw v9
      :try_end_6
***************
*** 10296,10301 ****
--- 11273,11279 ----
      .parameter "available"
  
      .prologue
+     .line 5146
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.BACKUP"
***************
*** 10304,10314 ****
--- 11282,11295 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 5149
      iget-boolean v0, p0, Lcom/android/server/BackupManagerService;->mProvisioned:Z
  
+     .line 5150
      .local v0, wasProvisioned:Z
      monitor-enter p0
  
+     .line 5151
      :try_start_0
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
***************
*** 10325,10340 ****
--- 11306,11325 ----
      :goto_0
      invoke-static {v2, v3, v1}, Landroid/provider/Settings$Secure;->putInt(Landroid/content/ContentResolver;Ljava/lang/String;I)Z
  
+     .line 5153
      iput-boolean p1, p0, Lcom/android/server/BackupManagerService;->mProvisioned:Z
  
+     .line 5154
      monitor-exit p0
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 5156
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v2
  
+     .line 5157
      if-eqz p1, :cond_2
  
      if-nez v0, :cond_2
***************
*** 10344,10366 ****
--- 11329,11356 ----
  
      if-eqz v1, :cond_2
  
+     .line 5159
      const-wide/32 v3, 0x2932e00
  
      invoke-direct {p0, v3, v4}, Lcom/android/server/BackupManagerService;->startBackupAlarmsLocked(J)V
  
+     .line 5165
      :cond_0
      :goto_1
      monitor-exit v2
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
  
+     .line 5166
      return-void
  
+     .line 5151
      :cond_1
      const/4 v1, 0x0
  
      goto :goto_0
  
+     .line 5154
      :catchall_0
      move-exception v1
  
***************
*** 10371,10379 ****
--- 11361,11371 ----
  
      throw v1
  
+     .line 5160
      :cond_2
      if-nez p1, :cond_0
  
+     .line 5162
      :try_start_3
      const-string v1, "BackupManagerService"
  
***************
*** 10381,10386 ****
--- 11373,11379 ----
  
      invoke-static {v1, v3}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 5163
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mAlarmManager:Landroid/app/AlarmManager;
  
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mRunBackupIntent:Landroid/app/PendingIntent;
***************
*** 10389,10394 ****
--- 11382,11388 ----
  
      goto :goto_1
  
+     .line 5165
      :catchall_1
      move-exception v1
  
***************
*** 10404,10413 ****
--- 11398,11409 ----
      .parameter "params"
  
      .prologue
+     .line 5020
      iget-object v1, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
  
      monitor-enter v1
  
+     .line 5021
      :try_start_0
      iget-object v0, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
  
***************
*** 10415,10428 ****
--- 11411,11428 ----
  
      invoke-virtual {v0, v2}, Ljava/util/concurrent/atomic/AtomicBoolean;->set(Z)V
  
+     .line 5022
      iget-object v0, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
  
      invoke-virtual {v0}, Ljava/lang/Object;->notifyAll()V
  
+     .line 5023
      monitor-exit v1
  
+     .line 5024
      return-void
  
+     .line 5023
      :catchall_0
      move-exception v0
  
***************
*** 10439,10444 ****
--- 11439,11445 ----
      .parameter "params"
  
      .prologue
+     .line 5004
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/16 v2, 0x9
***************
*** 10449,10454 ****
--- 11450,11456 ----
  
      move-result-object v0
  
+     .line 5006
      .local v0, msg:Landroid/os/Message;
      iget-object v1, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
***************
*** 10456,10461 ****
--- 11458,11464 ----
  
      invoke-virtual {v1, v0, v2, v3}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessageDelayed(Landroid/os/Message;J)Z
  
+     .line 5007
      return-void
  .end method
  
***************
*** 10465,10475 ****
--- 11468,11480 ----
      .parameter "action"
  
      .prologue
+     .line 4989
      :try_start_0
      new-instance v0, Landroid/content/Intent;
  
      invoke-direct {v0, p2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 4990
      .local v0, confIntent:Landroid/content/Intent;
      const-string v2, "com.android.backupconfirm"
  
***************
*** 10477,10505 ****
--- 11482,11516 ----
  
      invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->setClassName(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
  
+     .line 4992
      const-string v2, "conftoken"
  
      invoke-virtual {v0, v2, p1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;
  
+     .line 4993
      const/high16 v2, 0x1000
  
      invoke-virtual {v0, v2}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
  
+     .line 4994
      iget-object v2, p0, Lcom/android/server/BackupManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v2, v0}, Landroid/content/Context;->startActivity(Landroid/content/Intent;)V
      :try_end_0
      .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 4998
      const/4 v2, 0x1
  
      .end local v0           #confIntent:Landroid/content/Intent;
      :goto_0
      return v2
  
+     .line 4995
      :catch_0
      move-exception v1
  
+     .line 4996
      .local v1, e:Landroid/content/ActivityNotFoundException;
      const/4 v2, 0x0
  
***************
*** 10511,10527 ****
--- 11522,11542 ----
      .parameter "packageName"
  
      .prologue
+     .line 1481
      if-nez p1, :cond_0
  
+     .line 1482
      const-string v4, "BackupManagerService"
  
      const-string v5, "updatePackageParticipants called with null package name"
  
      invoke-static {v4, v5}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1495
      :goto_0
      return-void
  
+     .line 1485
      :cond_0
      const-string v4, "BackupManagerService"
  
***************
*** 10545,10559 ****
--- 11560,11577 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1488
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService;->allAgentPackages()Ljava/util/List;
  
      move-result-object v1
  
+     .line 1489
      .local v1, allApps:Ljava/util/List;,"Ljava/util/List<Landroid/content/pm/PackageInfo;>;"
      new-instance v0, Ljava/util/ArrayList;
  
      invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
  
+     .line 1490
      .local v0, allAppNames:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
      invoke-interface {v1}, Ljava/util/List;->iterator()Ljava/util/Iterator;
  
***************
*** 10573,10578 ****
--- 11591,11597 ----
  
      check-cast v3, Landroid/content/pm/PackageInfo;
  
+     .line 1491
      .local v3, pkg:Landroid/content/pm/PackageInfo;
      iget-object v4, v3, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
  
***************
*** 10580,10589 ****
--- 11599,11610 ----
  
      goto :goto_1
  
+     .line 1493
      .end local v3           #pkg:Landroid/content/pm/PackageInfo;
      :cond_1
      invoke-direct {p0, p1, v0}, Lcom/android/server/BackupManagerService;->removePackageParticipantsLockedInner(Ljava/lang/String;Ljava/util/List;)V
  
+     .line 1494
      invoke-direct {p0, p1, v1}, Lcom/android/server/BackupManagerService;->addPackageParticipantsLockedInner(Ljava/lang/String;Ljava/util/List;)V
  
      goto :goto_0
***************
*** 10594,10603 ****
--- 11615,11626 ----
      .parameter "params"
  
      .prologue
+     .line 5010
      iget-object v1, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
  
      monitor-enter v1
  
+     .line 5011
      :goto_0
      :try_start_0
      iget-object v0, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
***************
*** 10610,10615 ****
--- 11633,11639 ----
  
      if-nez v0, :cond_0
  
+     .line 5013
      :try_start_1
      iget-object v0, p1, Lcom/android/server/BackupManagerService$FullParams;->latch:Ljava/util/concurrent/atomic/AtomicBoolean;
  
***************
*** 10620,10636 ****
--- 11644,11664 ----
  
      goto :goto_0
  
+     .line 5014
      :catch_0
      move-exception v0
  
      goto :goto_0
  
+     .line 5016
      :cond_0
      :try_start_2
      monitor-exit v1
  
+     .line 5017
      return-void
  
+     .line 5016
      :catchall_0
      move-exception v0
  
***************
*** 10648,10663 ****
--- 11676,11695 ----
      .prologue
      const/4 v4, 0x1
  
+     .line 1723
      const/4 v1, 0x0
  
+     .line 1724
      .local v1, finalState:I
      const/4 v2, 0x0
  
+     .line 1725
      .local v2, op:Lcom/android/server/BackupManagerService$Operation;
      iget-object v5, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      monitor-enter v5
  
+     .line 1727
      :goto_0
      :try_start_0
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOperations:Landroid/util/SparseArray;
***************
*** 10672,10690 ****
--- 11704,11726 ----
  
      move-object v2, v0
  
+     .line 1728
      if-nez v2, :cond_0
  
+     .line 1744
      :goto_1
      monitor-exit v5
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 1746
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
  
      const/4 v5, 0x7
  
      invoke-virtual {v3, v5}, Lcom/android/server/BackupManagerService$BackupHandler;->removeMessages(I)V
  
+     .line 1749
      if-ne v1, v4, :cond_2
  
      move v3, v4
***************
*** 10692,10697 ****
--- 11728,11734 ----
      :goto_2
      return v3
  
+     .line 1732
      :cond_0
      :try_start_1
      iget v3, v2, Lcom/android/server/BackupManagerService$Operation;->state:I
***************
*** 10700,10705 ****
--- 11737,11743 ----
  
      if-nez v3, :cond_1
  
+     .line 1734
      :try_start_2
      iget-object v3, p0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
***************
*** 10710,10726 ****
--- 11748,11768 ----
  
      goto :goto_0
  
+     .line 1735
      :catch_0
      move-exception v3
  
      goto :goto_0
  
+     .line 1739
      :cond_1
      :try_start_3
      iget v1, v2, Lcom/android/server/BackupManagerService$Operation;->state:I
  
+     .line 1740
      goto :goto_1
  
+     .line 1744
      :catchall_0
      move-exception v3
  
***************
*** 10730,10735 ****
--- 11772,11778 ----
  
      throw v3
  
+     .line 1749
      :cond_2
      const/4 v3, 0x0
  
***************
*** 10740,10745 ****
--- 11783,11789 ----
      .locals 7
  
      .prologue
+     .line 1561
      :try_start_0
      new-instance v0, Ljava/io/RandomAccessFile;
  
***************
*** 10749,10782 ****
--- 11793,11834 ----
  
      invoke-direct {v0, v4, v5}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1564
      .local v0, af:Ljava/io/RandomAccessFile;
      const/4 v4, 0x1
  
      invoke-virtual {v0, v4}, Ljava/io/RandomAccessFile;->writeInt(I)V
  
+     .line 1567
      iget-wide v4, p0, Lcom/android/server/BackupManagerService;->mAncestralToken:J
  
      invoke-virtual {v0, v4, v5}, Ljava/io/RandomAccessFile;->writeLong(J)V
  
+     .line 1568
      iget-wide v4, p0, Lcom/android/server/BackupManagerService;->mCurrentToken:J
  
      invoke-virtual {v0, v4, v5}, Ljava/io/RandomAccessFile;->writeLong(J)V
  
+     .line 1571
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
  
      if-nez v4, :cond_1
  
+     .line 1572
      const/4 v4, -0x1
  
      invoke-virtual {v0, v4}, Ljava/io/RandomAccessFile;->writeInt(I)V
  
+     .line 1581
      :cond_0
      invoke-virtual {v0}, Ljava/io/RandomAccessFile;->close()V
  
+     .line 1585
      .end local v0           #af:Ljava/io/RandomAccessFile;
      :goto_0
      return-void
  
+     .line 1574
      .restart local v0       #af:Ljava/io/RandomAccessFile;
      :cond_1
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
***************
*** 10787,10792 ****
--- 11839,11845 ----
  
      invoke-virtual {v0, v4}, Ljava/io/RandomAccessFile;->writeInt(I)V
  
+     .line 1575
      const-string v4, "BackupManagerService"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 10815,10820 ****
--- 11868,11874 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1576
      iget-object v4, p0, Lcom/android/server/BackupManagerService;->mAncestralPackages:Ljava/util/Set;
  
      invoke-interface {v4}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
***************
*** 10835,10840 ****
--- 11889,11895 ----
  
      check-cast v3, Ljava/lang/String;
  
+     .line 1577
      .local v3, pkgName:Ljava/lang/String;
      invoke-virtual {v0, v3}, Ljava/io/RandomAccessFile;->writeUTF(Ljava/lang/String;)V
      :try_end_0
***************
*** 10842,10853 ****
--- 11897,11910 ----
  
      goto :goto_1
  
+     .line 1582
      .end local v0           #af:Ljava/io/RandomAccessFile;
      .end local v2           #i$:Ljava/util/Iterator;
      .end local v3           #pkgName:Ljava/lang/String;
      :catch_0
      move-exception v1
  
+     .line 1583
      .local v1, e:Ljava/io/IOException;
      const-string v4, "BackupManagerService"
  
