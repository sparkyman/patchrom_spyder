*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/BackupManagerService$PerformBackupTask.smali	2012-03-23 19:34:59.934585692 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/BackupManagerService$PerformBackupTask.smali.original	2012-03-23 19:34:46.951348943 -0500
***************
*** 94,110 ****
--- 94,115 ----
      .end annotation
  
      .prologue
+     .line 1806
      .local p3, queue:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/server/BackupManagerService$BackupRequest;>;"
      iput-object p1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      invoke-direct {p0}, Ljava/lang/Object;-><init>()V
  
+     .line 1807
      iput-object p2, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
  
+     .line 1808
      iput-object p3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mOriginalQueue:Ljava/util/ArrayList;
  
+     .line 1809
      iput-object p4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mJournal:Ljava/io/File;
  
+     .line 1812
      :try_start_0
      new-instance v0, Ljava/io/File;
  
***************
*** 120,136 ****
--- 125,145 ----
      :try_end_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 1817
      :goto_0
      sget-object v0, Lcom/android/server/BackupManagerService$BackupState;->INITIAL:Lcom/android/server/BackupManagerService$BackupState;
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentState:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1818
      const/4 v0, 0x0
  
      iput-boolean v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mFinished:Z
  
+     .line 1819
      return-void
  
+     .line 1813
      :catch_0
      move-exception v0
  
***************
*** 143,158 ****
--- 152,171 ----
      .locals 1
  
      .prologue
+     .line 2185
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
      invoke-virtual {v0}, Ljava/io/File;->delete()Z
  
+     .line 2186
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewStateName:Ljava/io/File;
  
      invoke-virtual {v0}, Ljava/io/File;->delete()Z
  
+     .line 2187
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->clearAgentState()V
  
+     .line 2189
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 166,173 ****
--- 179,188 ----
      :goto_0
      invoke-virtual {p0, v0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
+     .line 2190
      return-void
  
+     .line 2189
      :cond_0
      sget-object v0, Lcom/android/server/BackupManagerService$BackupState;->RUNNING_QUEUE:Lcom/android/server/BackupManagerService$BackupState;
  
***************
*** 180,187 ****
--- 195,204 ----
      .prologue
      const/4 v3, 0x0
  
+     .line 1847
      iput v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1850
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mOriginalQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 190,205 ****
--- 207,225 ----
  
      if-eqz v3, :cond_1
  
+     .line 1851
      const-string v3, "PerformBackupTask"
  
      const-string v4, "Backup begun with an empty queue - nothing to do."
  
      invoke-static {v3, v4}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1911
      :cond_0
      :goto_0
      return-void
  
+     .line 1858
      :cond_1
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mOriginalQueue:Ljava/util/ArrayList;
  
***************
*** 211,216 ****
--- 231,237 ----
  
      iput-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
+     .line 1860
      const-string v3, "PerformBackupTask"
  
      new-instance v4, Ljava/lang/StringBuilder;
***************
*** 245,250 ****
--- 266,272 ----
  
      invoke-static {v3, v4}, Landroid/util/Slog;->v(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1862
      new-instance v2, Ljava/io/File;
  
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
***************
*** 253,258 ****
--- 275,281 ----
  
      invoke-direct {v2, v3, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 1864
      .local v2, pmState:Ljava/io/File;
      const/16 v3, 0xb05
  
***************
*** 265,270 ****
--- 288,294 ----
  
      invoke-static {v3, v4}, Landroid/util/EventLog;->writeEvent(ILjava/lang/String;)I
  
+     .line 1867
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v3, :cond_2
***************
*** 279,296 ****
--- 303,323 ----
  
      if-gtz v3, :cond_2
  
+     .line 1868
      const-string v3, "PerformBackupTask"
  
      const-string v4, "Initializing (wiping) backup state and transport storage"
  
      invoke-static {v3, v4}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1869
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
  
      invoke-virtual {v3, v4}, Lcom/android/server/BackupManagerService;->resetBackupState(Ljava/io/File;)V
  
+     .line 1870
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
  
      invoke-interface {v3}, Lcom/android/internal/backup/IBackupTransport;->initializeDevice()I
***************
*** 299,308 ****
--- 326,337 ----
  
      iput v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1871
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v3, :cond_5
  
+     .line 1872
      const/16 v3, 0xb0b
  
      const/4 v4, 0x0
***************
*** 311,322 ****
--- 340,353 ----
  
      invoke-static {v3, v4}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1884
      :cond_2
      :goto_1
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v3, :cond_3
  
+     .line 1885
      new-instance v1, Lcom/android/server/PackageManagerBackupAgent;
  
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
***************
*** 334,339 ****
--- 365,371 ----
  
      invoke-direct {v1, v3, v4}, Lcom/android/server/PackageManagerBackupAgent;-><init>(Landroid/content/pm/PackageManager;Ljava/util/List;)V
  
+     .line 1887
      .local v1, pmAgent:Lcom/android/server/PackageManagerBackupAgent;
      const-string v3, "@pm@"
  
***************
*** 353,358 ****
--- 385,391 ----
  
      iput v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1891
      .end local v1           #pmAgent:Lcom/android/server/PackageManagerBackupAgent;
      :cond_3
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
***************
*** 361,366 ****
--- 394,400 ----
  
      if-ne v3, v4, :cond_4
  
+     .line 1895
      const/16 v3, 0xb0a
  
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 374,396 ****
--- 408,434 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 1904
      :cond_4
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v3, :cond_0
  
+     .line 1907
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
  
      invoke-virtual {v3, v4}, Lcom/android/server/BackupManagerService;->resetBackupState(Ljava/io/File;)V
  
+     .line 1908
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      invoke-virtual {p0, v3}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
      goto/16 :goto_0
  
+     .line 1874
      :cond_5
      const/16 v3, 0xb06
  
***************
*** 399,404 ****
--- 437,443 ----
  
      invoke-static {v3, v4}, Landroid/util/EventLog;->writeEvent(ILjava/lang/String;)I
  
+     .line 1875
      const-string v3, "PerformBackupTask"
  
      const-string v4, "Transport error in initializeDevice()"
***************
*** 410,418 ****
--- 449,459 ----
  
      goto :goto_1
  
+     .line 1897
      :catch_0
      move-exception v0
  
+     .line 1898
      .local v0, e:Ljava/lang/Exception;
      :try_start_2
      const-string v3, "PerformBackupTask"
***************
*** 421,448 ****
--- 462,494 ----
  
      invoke-static {v3, v4, v0}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1899
      const/4 v3, 0x1
  
      iput v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
  
+     .line 1904
      iget v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v3, :cond_0
  
+     .line 1907
      iget-object v3, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
  
      invoke-virtual {v3, v4}, Lcom/android/server/BackupManagerService;->resetBackupState(Ljava/io/File;)V
  
+     .line 1908
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      invoke-virtual {p0, v3}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
      goto/16 :goto_0
  
+     .line 1904
      .end local v0           #e:Ljava/lang/Exception;
      :catchall_0
      move-exception v3
***************
*** 451,462 ****
--- 497,510 ----
  
      if-eqz v4, :cond_6
  
+     .line 1907
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
  
      invoke-virtual {v4, v5}, Lcom/android/server/BackupManagerService;->resetBackupState(Ljava/io/File;)V
  
+     .line 1908
      sget-object v4, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      invoke-virtual {p0, v4}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
***************
*** 469,474 ****
--- 517,523 ----
      .locals 2
  
      .prologue
+     .line 2194
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedState:Landroid/os/ParcelFileDescriptor;
  
***************
*** 480,485 ****
--- 529,535 ----
      :try_end_0
      .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3
  
+     .line 2195
      :cond_0
      :goto_0
      :try_start_1
***************
*** 493,498 ****
--- 543,549 ----
      :try_end_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_2
  
+     .line 2196
      :cond_1
      :goto_1
      :try_start_2
***************
*** 506,511 ****
--- 557,563 ----
      :try_end_2
      .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_1
  
+     .line 2197
      :cond_2
      :goto_2
      const/4 v0, 0x0
***************
*** 516,527 ****
--- 568,581 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedState:Landroid/os/ParcelFileDescriptor;
  
+     .line 2198
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v1, v0, Lcom/android/server/BackupManagerService;->mCurrentOpLock:Ljava/lang/Object;
  
      monitor-enter v1
  
+     .line 2199
      :try_start_3
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 529,544 ****
--- 583,601 ----
  
      invoke-virtual {v0}, Landroid/util/SparseArray;->clear()V
  
+     .line 2200
      monitor-exit v1
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 2203
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
  
      iget-object v0, v0, Landroid/content/pm/PackageInfo;->applicationInfo:Landroid/content/pm/ApplicationInfo;
  
      if-eqz v0, :cond_3
  
+     .line 2205
      :try_start_4
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 555,564 ****
--- 612,623 ----
      :try_end_4
      .catch Landroid/os/RemoteException; {:try_start_4 .. :try_end_4} :catch_0
  
+     .line 2208
      :cond_3
      :goto_3
      return-void
  
+     .line 2200
      :catchall_0
      move-exception v0
  
***************
*** 569,589 ****
--- 628,652 ----
  
      throw v0
  
+     .line 2206
      :catch_0
      move-exception v0
  
      goto :goto_3
  
+     .line 2196
      :catch_1
      move-exception v0
  
      goto :goto_2
  
+     .line 2195
      :catch_2
      move-exception v0
  
      goto :goto_1
  
+     .line 2194
      :catch_3
      move-exception v0
  
***************
*** 594,599 ****
--- 657,663 ----
      .locals 3
  
      .prologue
+     .line 2028
      new-instance v0, Ljava/io/File;
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
***************
*** 602,607 ****
--- 666,672 ----
  
      invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
  
+     .line 2029
      .local v0, pmState:Ljava/io/File;
      invoke-virtual {v0}, Ljava/io/File;->exists()Z
  
***************
*** 611,616 ****
--- 676,682 ----
  
      invoke-virtual {v0}, Ljava/io/File;->delete()Z
  
+     .line 2030
      :cond_0
      return-void
  .end method
***************
*** 619,624 ****
--- 685,691 ----
      .locals 2
  
      .prologue
+     .line 1825
      sget-object v0, Lcom/android/server/BackupManagerService$4;->$SwitchMap$com$android$server$BackupManagerService$BackupState:[I
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentState:Lcom/android/server/BackupManagerService$BackupState;
***************
*** 631,649 ****
--- 698,720 ----
  
      packed-switch v0, :pswitch_data_0
  
+     .line 1842
      :goto_0
      return-void
  
+     .line 1827
      :pswitch_0
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->beginBackup()V
  
      goto :goto_0
  
+     .line 1831
      :pswitch_1
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->invokeNextAgent()V
  
      goto :goto_0
  
+     .line 1835
      :pswitch_2
      iget-boolean v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mFinished:Z
  
***************
*** 651,656 ****
--- 722,728 ----
  
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->finalizeBackup()V
  
+     .line 1839
      :goto_1
      const/4 v0, 0x1
  
***************
*** 658,663 ****
--- 730,736 ----
  
      goto :goto_0
  
+     .line 1837
      :cond_0
      const-string v0, "PerformBackupTask"
  
***************
*** 667,672 ****
--- 740,746 ----
  
      goto :goto_1
  
+     .line 1825
      nop
  
      :pswitch_data_0
***************
*** 682,689 ****
--- 756,765 ----
      .parameter "nextState"
  
      .prologue
+     .line 2221
      iput-object p1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentState:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 2222
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v1, v1, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
***************
*** 694,699 ****
--- 770,776 ----
  
      move-result-object v0
  
+     .line 2223
      .local v0, msg:Landroid/os/Message;
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 701,706 ****
--- 778,784 ----
  
      invoke-virtual {v1, v0}, Lcom/android/server/BackupManagerService$BackupHandler;->sendMessage(Landroid/os/Message;)Z
  
+     .line 2224
      return-void
  .end method
  
***************
*** 708,713 ****
--- 786,792 ----
      .locals 4
  
      .prologue
+     .line 1994
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mJournal:Ljava/io/File;
  
      if-eqz v0, :cond_0
***************
*** 720,725 ****
--- 799,805 ----
  
      if-nez v0, :cond_0
  
+     .line 1995
      const-string v0, "PerformBackupTask"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 744,749 ****
--- 824,830 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2001
      :cond_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 759,764 ****
--- 840,846 ----
  
      if-nez v0, :cond_1
  
+     .line 2003
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 772,782 ****
--- 854,866 ----
      :try_end_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2005
      :goto_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      invoke-virtual {v0}, Lcom/android/server/BackupManagerService;->writeRestoreTokens()V
  
+     .line 2011
      :cond_1
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 784,789 ****
--- 868,874 ----
  
      monitor-enter v1
  
+     .line 2012
      :try_start_1
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 791,833 ****
--- 876,927 ----
  
      iput-boolean v2, v0, Lcom/android/server/BackupManagerService;->mBackupRunning:Z
  
+     .line 2013
      iget v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      const/4 v2, 0x2
  
      if-ne v0, v2, :cond_2
  
+     .line 2015
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->clearMetadata()V
  
+     .line 2016
      const-string v0, "PerformBackupTask"
  
      const-string v2, "Server requires init; rerunning"
  
      invoke-static {v0, v2}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2017
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      invoke-virtual {v0}, Lcom/android/server/BackupManagerService;->backupNow()V
  
+     .line 2019
      :cond_2
      monitor-exit v1
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 2022
      const-string v0, "PerformBackupTask"
  
      const-string v1, "Backup pass finished."
  
      invoke-static {v0, v1}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2023
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v0, v0, Lcom/android/server/BackupManagerService;->mWakelock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v0}, Landroid/os/PowerManager$WakeLock;->release()V
  
+     .line 2024
      return-void
  
+     .line 2019
      :catchall_0
      move-exception v0
  
***************
*** 838,843 ****
--- 932,938 ----
  
      throw v0
  
+     .line 2004
      :catch_0
      move-exception v0
  
***************
*** 848,853 ****
--- 943,949 ----
      .locals 4
  
      .prologue
+     .line 2167
      const-string v0, "PerformBackupTask"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 874,879 ****
--- 970,976 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2168
      const/16 v0, 0xb07
  
      const/4 v1, 0x2
***************
*** 896,903 ****
--- 993,1002 ----
  
      invoke-static {v0, v1}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 2170
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->agentErrorCleanup()V
  
+     .line 2171
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
***************
*** 907,912 ****
--- 1006,1012 ----
      #calls: Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
      invoke-static {v0, v1}, Lcom/android/server/BackupManagerService;->access$600(Lcom/android/server/BackupManagerService;Ljava/lang/String;)V
  
+     .line 2172
      return-void
  .end method
  
***************
*** 921,926 ****
--- 1021,1027 ----
  
      const/4 v5, 0x0
  
+     .line 2036
      const-string v0, "PerformBackupTask"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 943,948 ****
--- 1044,1050 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2038
      new-instance v0, Ljava/io/File;
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
***************
*** 951,956 ****
--- 1053,1059 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedStateName:Ljava/io/File;
  
+     .line 2039
      new-instance v0, Ljava/io/File;
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
***************
*** 979,984 ****
--- 1082,1088 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
+     .line 2040
      new-instance v0, Ljava/io/File;
  
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStateDir:Ljava/io/File;
***************
*** 1005,1022 ****
--- 1109,1131 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewStateName:Ljava/io/File;
  
+     .line 2042
      iput-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedState:Landroid/os/ParcelFileDescriptor;
  
+     .line 2043
      iput-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupData:Landroid/os/ParcelFileDescriptor;
  
+     .line 2044
      iput-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewState:Landroid/os/ParcelFileDescriptor;
  
+     .line 2046
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      invoke-virtual {v0}, Lcom/android/server/BackupManagerService;->generateToken()I
  
      move-result v4
  
+     .line 2051
      .local v4, token:I
      :try_start_0
      const-string v0, "@pm@"
***************
*** 1027,1042 ****
--- 1136,1154 ----
  
      if-eqz v0, :cond_0
  
+     .line 2054
      new-instance v0, Landroid/content/pm/PackageInfo;
  
      invoke-direct {v0}, Landroid/content/pm/PackageInfo;-><init>()V
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
  
+     .line 2055
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
  
      iput-object p1, v0, Landroid/content/pm/PackageInfo;->packageName:Ljava/lang/String;
  
+     .line 2061
      :cond_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedStateName:Ljava/io/File;
  
***************
*** 1048,1053 ****
--- 1160,1166 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedState:Landroid/os/ParcelFileDescriptor;
  
+     .line 2065
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
      const/high16 v1, 0x3c00
***************
*** 1058,1063 ****
--- 1171,1177 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupData:Landroid/os/ParcelFileDescriptor;
  
+     .line 2070
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewStateName:Ljava/io/File;
  
      const/high16 v1, 0x3c00
***************
*** 1068,1079 ****
--- 1182,1195 ----
  
      iput-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewState:Landroid/os/ParcelFileDescriptor;
  
+     .line 2076
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      const-wide/16 v1, 0x7530
  
      invoke-virtual {v0, v4, v1, v2, p0}, Lcom/android/server/BackupManagerService;->prepareOperationTimeout(IJLcom/android/server/BackupManagerService$BackupRestoreTask;)V
  
+     .line 2077
      iget-object v1, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedState:Landroid/os/ParcelFileDescriptor;
  
      iget-object v2, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupData:Landroid/os/ParcelFileDescriptor;
***************
*** 1092,1103 ****
--- 1208,1222 ----
  
      move v0, v7
  
+     .line 2090
      :goto_0
      return v0
  
+     .line 2078
      :catch_0
      move-exception v6
  
+     .line 2079
      .local v6, e:Ljava/lang/Exception;
      const-string v0, "PerformBackupTask"
  
***************
*** 1121,1126 ****
--- 1240,1246 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2080
      const/16 v0, 0xb07
  
      const/4 v1, 0x2
***************
*** 1139,1146 ****
--- 1259,1268 ----
  
      invoke-static {v0, v1}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 2082
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->agentErrorCleanup()V
  
+     .line 2083
      const/4 v0, 0x3
  
      goto :goto_0
***************
*** 1156,1163 ****
--- 1278,1287 ----
  
      const/4 v8, 0x0
  
+     .line 1916
      iput v8, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1920
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 1166,1185 ****
--- 1290,1313 ----
  
      if-eqz v5, :cond_1
  
+     .line 1921
      const-string v5, "PerformBackupTask"
  
      const-string v6, "Running queue but it\'s empty!"
  
      invoke-static {v5, v6}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1922
      sget-object v5, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      invoke-virtual {p0, v5}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
+     .line 1987
      :cond_0
      :goto_0
      return-void
  
+     .line 1927
      :cond_1
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
***************
*** 1189,1199 ****
--- 1317,1329 ----
  
      check-cast v4, Lcom/android/server/BackupManagerService$BackupRequest;
  
+     .line 1928
      .local v4, request:Lcom/android/server/BackupManagerService$BackupRequest;
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v5, v8}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;
  
+     .line 1930
      const-string v5, "PerformBackupTask"
  
      new-instance v6, Ljava/lang/StringBuilder;
***************
*** 1216,1221 ****
--- 1346,1352 ----
  
      invoke-static {v5, v6}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1938
      :try_start_0
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 1237,1244 ****
--- 1368,1377 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_0 .. :try_end_0} :catch_1
  
+     .line 1941
      const/4 v0, 0x0
  
+     .line 1943
      .local v0, agent:Landroid/app/IBackupAgent;
      :try_start_1
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
***************
*** 1257,1262 ****
--- 1390,1396 ----
  
      invoke-virtual {v5, v6}, Landroid/os/PowerManager$WakeLock;->setWorkSource(Landroid/os/WorkSource;)V
  
+     .line 1944
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
***************
*** 1269,1276 ****
--- 1403,1412 ----
  
      move-result-object v0
  
+     .line 1946
      if-eqz v0, :cond_3
  
+     .line 1947
      iget-object v5, v4, Lcom/android/server/BackupManagerService$BackupRequest;->packageName:Ljava/lang/String;
  
      iget-object v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
***************
*** 1285,1290 ****
--- 1421,1427 ----
      .catch Ljava/lang/SecurityException; {:try_start_1 .. :try_end_1} :catch_0
      .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 1963
      :goto_1
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 1292,1308 ****
--- 1429,1449 ----
  
      invoke-virtual {v5, v10}, Landroid/os/PowerManager$WakeLock;->setWorkSource(Landroid/os/WorkSource;)V
  
+     .line 1967
      iget v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v5, :cond_0
  
+     .line 1968
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->RUNNING_QUEUE:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1972
      .local v3, nextState:Lcom/android/server/BackupManagerService$BackupState;
      iget v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-ne v5, v9, :cond_8
  
+     .line 1975
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v6, v4, Lcom/android/server/BackupManagerService$BackupRequest;->packageName:Ljava/lang/String;
***************
*** 1310,1317 ****
--- 1451,1460 ----
      #calls: Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
      invoke-static {v5, v6}, Lcom/android/server/BackupManagerService;->access$600(Lcom/android/server/BackupManagerService;Ljava/lang/String;)V
  
+     .line 1976
      iput v8, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1977
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 1322,1327 ****
--- 1465,1471 ----
  
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1984
      .end local v0           #agent:Landroid/app/IBackupAgent;
      :cond_2
      :goto_2
***************
*** 1329,1334 ****
--- 1473,1479 ----
  
      goto/16 :goto_0
  
+     .line 1953
      .end local v3           #nextState:Lcom/android/server/BackupManagerService$BackupState;
      .restart local v0       #agent:Landroid/app/IBackupAgent;
      :cond_3
***************
*** 1343,1351 ****
--- 1488,1498 ----
  
      goto :goto_1
  
+     .line 1955
      :catch_0
      move-exception v2
  
+     .line 1957
      .local v2, ex:Ljava/lang/SecurityException;
      :try_start_3
      const-string v5, "PerformBackupTask"
***************
*** 1354,1359 ****
--- 1501,1507 ----
  
      invoke-static {v5, v6, v2}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 1958
      const/4 v5, 0x3
  
      iput v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
***************
*** 1363,1373 ****
--- 1511,1523 ----
  
      goto :goto_1
  
+     .line 1960
      .end local v0           #agent:Landroid/app/IBackupAgent;
      .end local v2           #ex:Ljava/lang/SecurityException;
      :catch_1
      move-exception v1
  
+     .line 1961
      .local v1, e:Landroid/content/pm/PackageManager$NameNotFoundException;
      :try_start_4
      const-string v5, "PerformBackupTask"
***************
*** 1378,1400 ****
--- 1528,1555 ----
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_0
  
+     .line 1963
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v5, v5, Lcom/android/server/BackupManagerService;->mWakelock:Landroid/os/PowerManager$WakeLock;
  
      invoke-virtual {v5, v10}, Landroid/os/PowerManager$WakeLock;->setWorkSource(Landroid/os/WorkSource;)V
  
+     .line 1967
      iget v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v5, :cond_0
  
+     .line 1968
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->RUNNING_QUEUE:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1972
      .restart local v3       #nextState:Lcom/android/server/BackupManagerService$BackupState;
      iget v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-ne v5, v9, :cond_7
  
+     .line 1975
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v6, v4, Lcom/android/server/BackupManagerService$BackupRequest;->packageName:Ljava/lang/String;
***************
*** 1402,1409 ****
--- 1557,1566 ----
      #calls: Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
      invoke-static {v5, v6}, Lcom/android/server/BackupManagerService;->access$600(Lcom/android/server/BackupManagerService;Ljava/lang/String;)V
  
+     .line 1976
      iput v8, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1977
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 1416,1421 ****
--- 1573,1579 ----
  
      goto :goto_2
  
+     .line 1963
      .end local v1           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .end local v3           #nextState:Lcom/android/server/BackupManagerService$BackupState;
      :catchall_0
***************
*** 1427,1443 ****
--- 1585,1605 ----
  
      invoke-virtual {v6, v10}, Landroid/os/PowerManager$WakeLock;->setWorkSource(Landroid/os/WorkSource;)V
  
+     .line 1967
      iget v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v6, :cond_5
  
+     .line 1968
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->RUNNING_QUEUE:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1972
      .restart local v3       #nextState:Lcom/android/server/BackupManagerService$BackupState;
      iget v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-ne v6, v9, :cond_6
  
+     .line 1975
      iget-object v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v7, v4, Lcom/android/server/BackupManagerService$BackupRequest;->packageName:Ljava/lang/String;
***************
*** 1445,1452 ****
--- 1607,1616 ----
      #calls: Lcom/android/server/BackupManagerService;->dataChangedImpl(Ljava/lang/String;)V
      invoke-static {v6, v7}, Lcom/android/server/BackupManagerService;->access$600(Lcom/android/server/BackupManagerService;Ljava/lang/String;)V
  
+     .line 1976
      iput v8, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 1977
      iget-object v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v6}, Ljava/util/ArrayList;->isEmpty()Z
***************
*** 1457,1494 ****
--- 1621,1667 ----
  
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 1984
      :cond_4
      :goto_3
      invoke-virtual {p0, v3}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
+     .line 1963
      .end local v3           #nextState:Lcom/android/server/BackupManagerService$BackupState;
      :cond_5
      throw v5
  
+     .line 1978
      .restart local v3       #nextState:Lcom/android/server/BackupManagerService$BackupState;
      :cond_6
      iget v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v6, :cond_4
  
+     .line 1980
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->revertAndEndBackup()V
  
+     .line 1981
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      goto :goto_3
  
+     .line 1978
      .restart local v1       #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      :cond_7
      iget v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-eqz v5, :cond_2
  
+     .line 1980
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->revertAndEndBackup()V
  
+     .line 1981
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      goto :goto_2
  
+     .line 1978
      .end local v1           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
      .restart local v0       #agent:Landroid/app/IBackupAgent;
      :cond_8
***************
*** 1496,1503 ****
--- 1669,1678 ----
  
      if-eqz v5, :cond_2
  
+     .line 1980
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->revertAndEndBackup()V
  
+     .line 1981
      sget-object v3, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
      goto/16 :goto_2
***************
*** 1509,1514 ****
--- 1684,1690 ----
      .prologue
      const/4 v6, 0x0
  
+     .line 2099
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v4, v4, Lcom/android/server/BackupManagerService;->mBackupHandler:Lcom/android/server/BackupManagerService$BackupHandler;
***************
*** 1517,1529 ****
--- 1693,1709 ----
  
      invoke-virtual {v4, v5}, Lcom/android/server/BackupManagerService$BackupHandler;->removeMessages(I)V
  
+     .line 2100
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->clearAgentState()V
  
+     .line 2102
      const/4 v0, 0x0
  
+     .line 2103
      .local v0, backupData:Landroid/os/ParcelFileDescriptor;
      iput v6, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 2105
      :try_start_0
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
***************
*** 1533,1545 ****
--- 1713,1728 ----
  
      long-to-int v3, v4
  
+     .line 2106
      .local v3, size:I
      if-lez v3, :cond_3
  
+     .line 2107
      iget v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v4, :cond_0
  
+     .line 2108
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
      const/high16 v5, 0x1000
***************
*** 1548,1553 ****
--- 1731,1737 ----
  
      move-result-object v0
  
+     .line 2110
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
  
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
***************
*** 1558,1568 ****
--- 1742,1754 ----
  
      iput v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 2118
      :cond_0
      iget v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v4, :cond_1
  
+     .line 2119
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mTransport:Lcom/android/internal/backup/IBackupTransport;
  
      invoke-interface {v4}, Lcom/android/internal/backup/IBackupTransport;->finishBackup()I
***************
*** 1571,1592 ****
--- 1757,1782 ----
  
      iput v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
+     .line 2128
      :cond_1
      :goto_0
      iget v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
  
      if-nez v4, :cond_4
  
+     .line 2129
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mBackupDataName:Ljava/io/File;
  
      invoke-virtual {v4}, Ljava/io/File;->delete()Z
  
+     .line 2130
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mNewStateName:Ljava/io/File;
  
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mSavedStateName:Ljava/io/File;
  
      invoke-virtual {v4, v5}, Ljava/io/File;->renameTo(Ljava/io/File;)Z
  
+     .line 2131
      const/16 v4, 0xb08
  
      const/4 v5, 0x2
***************
*** 1611,1616 ****
--- 1801,1807 ----
  
      invoke-static {v4, v5}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 2133
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
***************
*** 1622,1627 ****
--- 1813,1819 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2144
      :goto_1
      if-eqz v0, :cond_2
  
***************
*** 1630,1635 ****
--- 1822,1828 ----
      :try_end_1
      .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1
  
+     .line 2150
      .end local v3           #size:I
      :cond_2
      :goto_2
***************
*** 1637,1652 ****
--- 1830,1850 ----
  
      if-eqz v4, :cond_6
  
+     .line 2151
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->revertAndEndBackup()V
  
+     .line 2152
      sget-object v2, Lcom/android/server/BackupManagerService$BackupState;->FINAL:Lcom/android/server/BackupManagerService$BackupState;
  
+     .line 2158
      .local v2, nextState:Lcom/android/server/BackupManagerService$BackupState;
      :goto_3
      invoke-virtual {p0, v2}, Lcom/android/server/BackupManagerService$PerformBackupTask;->executeNextState(Lcom/android/server/BackupManagerService$BackupState;)V
  
+     .line 2159
      return-void
  
+     .line 2122
      .end local v2           #nextState:Lcom/android/server/BackupManagerService$BackupState;
      .restart local v3       #size:I
      :cond_3
***************
*** 1662,1671 ****
--- 1860,1871 ----
  
      goto :goto_0
  
+     .line 2138
      .end local v3           #size:I
      :catch_0
      move-exception v1
  
+     .line 2139
      .local v1, e:Ljava/lang/Exception;
      :try_start_3
      const-string v4, "PerformBackupTask"
***************
*** 1694,1699 ****
--- 1894,1900 ----
  
      invoke-static {v4, v5, v1}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 2140
      const/16 v4, 0xb06
  
      iget-object v5, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mCurrentPackage:Landroid/content/pm/PackageInfo;
***************
*** 1702,1713 ****
--- 1903,1916 ----
  
      invoke-static {v4, v5}, Landroid/util/EventLog;->writeEvent(ILjava/lang/String;)I
  
+     .line 2142
      const/4 v4, 0x1
  
      iput v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mStatus:I
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 2144
      if-eqz v0, :cond_2
  
      :try_start_4
***************
*** 1723,1728 ****
--- 1926,1932 ----
  
      goto :goto_2
  
+     .line 2135
      .restart local v3       #size:I
      :cond_4
      const/16 v4, 0xb06
***************
*** 1739,1744 ****
--- 1943,1949 ----
  
      goto :goto_1
  
+     .line 2144
      .end local v3           #size:I
      :catchall_0
      move-exception v4
***************
*** 1754,1759 ****
--- 1959,1965 ----
      :goto_4
      throw v4
  
+     .line 2155
      :cond_6
      iget-object v4, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mQueue:Ljava/util/ArrayList;
  
***************
*** 1775,1780 ****
--- 1981,1987 ----
  
      goto :goto_5
  
+     .line 2144
      :catch_2
      move-exception v5
  
***************
*** 1785,1796 ****
--- 1992,2005 ----
      .locals 4
  
      .prologue
+     .line 2211
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
      iget-object v1, v0, Lcom/android/server/BackupManagerService;->mQueueLock:Ljava/lang/Object;
  
      monitor-enter v1
  
+     .line 2213
      :try_start_0
      iget-object v0, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 1806,1817 ****
--- 2015,2029 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2215
      :goto_0
      :try_start_1
      monitor-exit v1
  
+     .line 2216
      return-void
  
+     .line 2215
      :catchall_0
      move-exception v0
  
***************
*** 1821,1826 ****
--- 2033,2039 ----
  
      throw v0
  
+     .line 2214
      :catch_0
      move-exception v0
  
***************
*** 1831,1836 ****
--- 2044,2050 ----
      .locals 4
  
      .prologue
+     .line 2176
      iget-object v2, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->mOriginalQueue:Ljava/util/ArrayList;
  
      invoke-virtual {v2}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
***************
*** 1851,1856 ****
--- 2065,2071 ----
  
      check-cast v1, Lcom/android/server/BackupManagerService$BackupRequest;
  
+     .line 2177
      .local v1, request:Lcom/android/server/BackupManagerService$BackupRequest;
      iget-object v2, p0, Lcom/android/server/BackupManagerService$PerformBackupTask;->this$0:Lcom/android/server/BackupManagerService;
  
***************
*** 1861,1869 ****
--- 2076,2086 ----
  
      goto :goto_0
  
+     .line 2181
      .end local v1           #request:Lcom/android/server/BackupManagerService$BackupRequest;
      :cond_0
      invoke-virtual {p0}, Lcom/android/server/BackupManagerService$PerformBackupTask;->restartBackupAlarm()V
  
+     .line 2182
      return-void
  .end method
