*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/PowerManagerService.smali	2012-03-23 19:34:55.961513243 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/PowerManagerService.smali.original	2012-03-23 19:34:46.887347776 -0500
***************
*** 341,398 ****
--- 341,419 ----
  
      const/4 v4, 0x0
  
+     .line 484
      invoke-direct {p0}, Landroid/os/IPowerManager$Stub;-><init>()V
  
+     .line 116
      const/16 v2, 0x1770
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mShortKeylightDelay:I
  
+     .line 148
      iput-boolean v6, p0, Lcom/android/server/PowerManagerService;->mAnimateScreenLights:Z
  
+     .line 164
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mDoneBooting:Z
  
+     .line 165
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mBootCompleted:Z
  
+     .line 166
      iput v4, p0, Lcom/android/server/PowerManagerService;->mStayOnConditions:I
  
+     .line 167
      new-array v2, v3, [I
  
      fill-array-data v2, :array_0
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
+     .line 168
      new-array v2, v3, [I
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mBroadcastWhy:[I
  
+     .line 169
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mPreparingForScreenOn:Z
  
+     .line 170
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mSkippedScreenOn:Z
  
+     .line 171
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mInitialized:Z
  
+     .line 172
      iput v4, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
+     .line 178
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
+     .line 179
      iput-boolean v6, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
+     .line 180
      iput v4, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
+     .line 181
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mProximitySensorEnabled:Z
  
+     .line 182
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
+     .line 183
      iput v5, p0, Lcom/android/server/PowerManagerService;->mProximityPendingValue:I
  
+     .line 186
      const v2, 0x7fffffff
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mMaximumScreenOffTimeout:I
  
+     .line 191
      const-wide/16 v2, 0x0
  
      iput-wide v2, p0, Lcom/android/server/PowerManagerService;->mLastEventTime:J
  
+     .line 194
      new-instance v2, Lcom/android/server/PowerManagerService$LockList;
  
      const/4 v3, 0x0
***************
*** 401,406 ****
--- 422,428 ----
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
+     .line 212
      new-instance v2, Lcom/android/server/PowerManagerService$TimeoutTask;
  
      const/4 v3, 0x0
***************
*** 409,414 ****
--- 431,437 ----
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
+     .line 213
      new-instance v2, Lcom/android/server/PowerManagerService$BrightnessState;
  
      const/4 v3, 0x2
***************
*** 417,524 ****
--- 440,577 ----
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
+     .line 216
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mIsPowered:Z
  
+     .line 224
      iput v7, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 225
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
+     .line 226
      iput v5, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
+     .line 227
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingDecrease:Z
  
+     .line 228
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingIncrease:Z
  
+     .line 229
      iput v7, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingValue:F
  
+     .line 230
      iput v5, p0, Lcom/android/server/PowerManagerService;->mLightSensorScreenBrightness:I
  
+     .line 231
      iput v5, p0, Lcom/android/server/PowerManagerService;->mLightSensorButtonBrightness:I
  
+     .line 232
      iput v5, p0, Lcom/android/server/PowerManagerService;->mLightSensorKeyboardBrightness:I
  
+     .line 233
      iput-boolean v6, p0, Lcom/android/server/PowerManagerService;->mDimScreen:Z
  
+     .line 234
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mIsDocked:Z
  
+     .line 236
      iput v4, p0, Lcom/android/server/PowerManagerService;->mPokey:I
  
+     .line 237
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mPokeAwakeOnSet:Z
  
+     .line 238
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
  
+     .line 239
      new-instance v2, Ljava/util/HashMap;
  
      invoke-direct {v2}, Ljava/util/HashMap;-><init>()V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mPokeLocks:Ljava/util/HashMap;
  
+     .line 243
      iput v5, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessOverride:I
  
+     .line 244
      iput v5, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
+     .line 256
      const/16 v2, 0x10
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mAnimationSetting:I
  
+     .line 1406
      new-instance v2, Lcom/android/server/PowerManagerService$4;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$4;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mScreenOnListener:Landroid/view/WindowManagerPolicy$ScreenOnListener;
  
+     .line 1421
      new-instance v2, Lcom/android/server/PowerManagerService$5;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$5;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mNotificationTask:Ljava/lang/Runnable;
  
+     .line 1500
      new-instance v2, Lcom/android/server/PowerManagerService$6;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$6;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mScreenOnBroadcastDone:Landroid/content/BroadcastReceiver;
  
+     .line 1511
      new-instance v2, Lcom/android/server/PowerManagerService$7;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$7;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mScreenOffBroadcastDone:Landroid/content/BroadcastReceiver;
  
+     .line 1671
      new-instance v2, Lcom/android/server/PowerManagerService$8;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$8;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mForceReenableScreenTask:Ljava/lang/Runnable;
  
+     .line 2455
      new-instance v2, Lcom/android/server/PowerManagerService$9;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$9;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mProximityTask:Ljava/lang/Runnable;
  
+     .line 2469
      new-instance v2, Lcom/android/server/PowerManagerService$10;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$10;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mAutoBrightnessTask:Ljava/lang/Runnable;
  
+     .line 3080
      new-instance v2, Lcom/android/server/PowerManagerService$13;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$13;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mProximityListener:Landroid/hardware/SensorEventListener;
  
+     .line 3124
      new-instance v2, Lcom/android/server/PowerManagerService$14;
  
      invoke-direct {v2, p0}, Lcom/android/server/PowerManagerService$14;-><init>(Lcom/android/server/PowerManagerService;)V
  
      iput-object v2, p0, Lcom/android/server/PowerManagerService;->mLightListener:Landroid/hardware/SensorEventListener;
  
+     .line 486
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 487
      .local v0, token:J
      invoke-static {}, Landroid/os/Process;->myUid()I
  
***************
*** 526,555 ****
--- 579,615 ----
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->MY_UID:I
  
+     .line 488
      invoke-static {}, Landroid/os/Process;->myPid()I
  
      move-result v2
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->MY_PID:I
  
+     .line 489
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 492
      const-wide/32 v2, 0x240c8400
  
      invoke-static {v2, v3}, Landroid/os/Power;->setLastUserActivityTimeout(J)I
  
+     .line 495
      iput v4, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      iput v4, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
+     .line 498
      invoke-static {}, Lcom/android/server/Watchdog;->getInstance()Lcom/android/server/Watchdog;
  
      move-result-object v2
  
      invoke-virtual {v2, p0}, Lcom/android/server/Watchdog;->addMonitor(Lcom/android/server/Watchdog$Monitor;)V
  
+     .line 499
      return-void
  
+     .line 167
      :array_0
      .array-data 0x4
          0xfft 0xfft 0xfft 0xfft
***************
*** 563,568 ****
--- 623,629 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->forceUserActivityLocked()V
  
      return-void
***************
*** 574,579 ****
--- 635,641 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->dockStateChanged(I)V
  
      return-void
***************
*** 584,589 ****
--- 646,652 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mSettings:Landroid/content/ContentQueryMap;
  
      return-object v0
***************
*** 595,600 ****
--- 658,664 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mStayOnConditions:I
  
      return p1
***************
*** 606,611 ****
--- 670,676 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mScreenOffTimeoutSetting:I
  
      return p1
***************
*** 617,622 ****
--- 682,688 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->setScreenBrightnessMode(I)V
  
      return-void
***************
*** 627,632 ****
--- 693,699 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->setScreenOffTimeoutsLocked()V
  
      return-void
***************
*** 637,642 ****
--- 704,710 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mAnimationSetting:I
  
      return v0
***************
*** 648,653 ****
--- 716,722 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mAnimationSetting:I
  
      return p1
***************
*** 659,664 ****
--- 728,734 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mAnimationSetting:I
  
      or-int/2addr v0, p1
***************
*** 673,678 ****
--- 743,749 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffHandler:Landroid/os/Handler;
  
      return-object v0
***************
*** 684,689 ****
--- 755,761 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-object p1, p0, Lcom/android/server/PowerManagerService;->mScreenOffHandler:Landroid/os/Handler;
  
      return-object p1
***************
*** 694,699 ****
--- 766,772 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffThread:Landroid/os/HandlerThread;
  
      return-object v0
***************
*** 704,709 ****
--- 777,783 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->MY_UID:I
  
      return v0
***************
*** 715,720 ****
--- 789,795 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
  
      return p1
***************
*** 725,730 ****
--- 800,806 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateSettingsValues()V
  
      return-void
***************
*** 736,741 ****
--- 812,818 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
      return p1
***************
*** 746,751 ****
--- 823,829 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
      return v0
***************
*** 757,762 ****
--- 835,841 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->setPowerState(I)V
  
      return-void
***************
*** 767,772 ****
--- 846,852 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
      return v0
***************
*** 777,782 ****
--- 857,863 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->MY_PID:I
  
      return v0
***************
*** 790,795 ****
--- 871,877 ----
      .parameter "x3"
  
      .prologue
+     .line 76
      invoke-direct/range {p0 .. p5}, Lcom/android/server/PowerManagerService;->setTimeoutLocked(JJI)V
  
      return-void
***************
*** 800,805 ****
--- 882,888 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mPreparingForScreenOn:Z
  
      return v0
***************
*** 811,816 ****
--- 894,900 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mPreparingForScreenOn:Z
  
      return p1
***************
*** 823,828 ****
--- 907,913 ----
      .parameter "x2"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1, p2}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
      return-void
***************
*** 833,838 ****
--- 918,924 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      return-object v0
***************
*** 843,848 ****
--- 929,935 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      return-object v0
***************
*** 853,858 ****
--- 940,946 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mBroadcastWhy:[I
  
      return-object v0
***************
*** 863,868 ****
--- 951,957 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOnListener:Landroid/view/WindowManagerPolicy$ScreenOnListener;
  
      return-object v0
***************
*** 873,878 ****
--- 962,968 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      return-object v0
***************
*** 883,888 ****
--- 973,979 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOnIntent:Landroid/content/Intent;
  
      return-object v0
***************
*** 893,898 ****
--- 984,990 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOnBroadcastDone:Landroid/content/BroadcastReceiver;
  
      return-object v0
***************
*** 906,911 ****
--- 998,1004 ----
      .parameter "x3"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1, p2, p3}, Lcom/android/server/PowerManagerService;->releaseWakeLockLocked(Landroid/os/IBinder;IZ)V
  
      return-void
***************
*** 916,921 ****
--- 1009,1015 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      return-object v0
***************
*** 926,931 ****
--- 1020,1026 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffIntent:Landroid/content/Intent;
  
      return-object v0
***************
*** 936,941 ****
--- 1031,1037 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffBroadcastDone:Landroid/content/BroadcastReceiver;
  
      return-object v0
***************
*** 946,951 ****
--- 1042,1048 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->forceReenableScreen()V
  
      return-void
***************
*** 958,963 ****
--- 1055,1061 ----
      .parameter "x2"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1, p2}, Lcom/android/server/PowerManagerService;->setLightBrightness(II)V
  
      return-void
***************
*** 968,973 ****
--- 1066,1072 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffReason:I
  
      return v0
***************
*** 979,984 ****
--- 1078,1084 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->screenOffFinishedAnimatingLocked(I)I
  
      move-result v0
***************
*** 991,996 ****
--- 1091,1097 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      return-object v0
***************
*** 1002,1007 ****
--- 1103,1109 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->nativeStartSurfaceFlingerAnimation(I)V
  
      return-void
***************
*** 1012,1017 ****
--- 1114,1120 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mProximityPendingValue:I
  
      return v0
***************
*** 1023,1028 ****
--- 1126,1132 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mProximityPendingValue:I
  
      return p1
***************
*** 1033,1038 ****
--- 1137,1143 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      return-object v0
***************
*** 1044,1049 ****
--- 1149,1155 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->proximityChangedLocked(Z)V
  
      return-void
***************
*** 1054,1059 ****
--- 1160,1166 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mProximityPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      return-object v0
***************
*** 1064,1069 ****
--- 1171,1177 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingDecrease:Z
  
      return v0
***************
*** 1075,1080 ****
--- 1183,1189 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingDecrease:Z
  
      return p1
***************
*** 1085,1090 ****
--- 1194,1200 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingIncrease:Z
  
      return v0
***************
*** 1096,1101 ****
--- 1206,1212 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingIncrease:Z
  
      return p1
***************
*** 1106,1111 ****
--- 1217,1223 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingValue:F
  
      return v0
***************
*** 1117,1122 ****
--- 1229,1235 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput p1, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingValue:F
  
      return p1
***************
*** 1128,1133 ****
--- 1241,1247 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->lightSensorChangedLocked(I)V
  
      return-void
***************
*** 1139,1144 ****
--- 1253,1259 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->isScreenLock(I)Z
  
      move-result v0
***************
*** 1152,1157 ****
--- 1267,1273 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
      return p1
***************
*** 1162,1167 ****
--- 1278,1284 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-wide v0, p0, Lcom/android/server/PowerManagerService;->mLastProximityEventTime:J
  
      return-wide v0
***************
*** 1173,1178 ****
--- 1290,1296 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-wide p1, p0, Lcom/android/server/PowerManagerService;->mLastProximityEventTime:J
  
      return-wide p1
***************
*** 1183,1188 ****
--- 1301,1307 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mProximityTask:Ljava/lang/Runnable;
  
      return-object v0
***************
*** 1193,1198 ****
--- 1312,1318 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mIsPowered:Z
  
      return v0
***************
*** 1203,1208 ****
--- 1323,1329 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mProximitySensor:Landroid/hardware/Sensor;
  
      return-object v0
***************
*** 1214,1219 ****
--- 1335,1341 ----
      .parameter "x1"
  
      .prologue
+     .line 76
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mIsPowered:Z
  
      return p1
***************
*** 1224,1229 ****
--- 1346,1352 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->isScreenTurningOffLocked()Z
  
      move-result v0
***************
*** 1236,1241 ****
--- 1359,1365 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
      return v0
***************
*** 1246,1251 ****
--- 1370,1376 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-wide v0, p0, Lcom/android/server/PowerManagerService;->mLastScreenOnTime:J
  
      return-wide v0
***************
*** 1256,1261 ****
--- 1381,1387 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorWarmupTime:I
  
      return v0
***************
*** 1266,1271 ****
--- 1392,1398 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mAutoBrightnessTask:Ljava/lang/Runnable;
  
      return-object v0
***************
*** 1276,1281 ****
--- 1403,1409 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mBatteryService:Lcom/android/server/BatteryService;
  
      return-object v0
***************
*** 1286,1291 ****
--- 1414,1420 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateWakeLockLocked()V
  
      return-void
***************
*** 1296,1301 ****
--- 1425,1431 ----
      .parameter "x0"
  
      .prologue
+     .line 76
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      return v0
***************
*** 1306,1339 ****
--- 1436,1477 ----
      .parameter "state"
  
      .prologue
+     .line 2255
      const/4 v0, -0x1
  
+     .line 2256
      .local v0, brightness:I
      and-int/lit8 v1, p1, 0x10
  
      if-eqz v1, :cond_1
  
+     .line 2270
      .end local p1
      :cond_0
      :goto_0
      return p1
  
+     .line 2260
      .restart local p1
      :cond_1
      iget v1, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
      if-ltz v1, :cond_3
  
+     .line 2261
      iget v0, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
+     .line 2265
      :cond_2
      :goto_1
      if-lez v0, :cond_4
  
+     .line 2266
      or-int/lit8 p1, p1, 0x4
  
      goto :goto_0
  
+     .line 2262
      :cond_3
      iget v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorButtonBrightness:I
  
***************
*** 1343,1355 ****
--- 1481,1496 ----
  
      if-eqz v1, :cond_2
  
+     .line 2263
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorButtonBrightness:I
  
      goto :goto_1
  
+     .line 2267
      :cond_4
      if-nez v0, :cond_0
  
+     .line 2268
      and-int/lit8 p1, p1, -0x5
  
      goto :goto_0
***************
*** 1360,1402 ****
--- 1501,1553 ----
      .parameter "state"
  
      .prologue
+     .line 2275
      const/4 v0, -0x1
  
+     .line 2276
      .local v0, brightness:I
      and-int/lit8 v1, p1, 0x10
  
      if-eqz v1, :cond_1
  
+     .line 2292
      .end local p1
      :cond_0
      :goto_0
      return p1
  
+     .line 2280
      .restart local p1
      :cond_1
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
      if-nez v1, :cond_3
  
+     .line 2281
      const/4 v0, 0x0
  
+     .line 2287
      :cond_2
      :goto_1
      if-lez v0, :cond_5
  
+     .line 2288
      or-int/lit8 p1, p1, 0x8
  
      goto :goto_0
  
+     .line 2282
      :cond_3
      iget v1, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
      if-ltz v1, :cond_4
  
+     .line 2283
      iget v0, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
      goto :goto_1
  
+     .line 2284
      :cond_4
      iget v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorKeyboardBrightness:I
  
***************
*** 1406,1418 ****
--- 1557,1572 ----
  
      if-eqz v1, :cond_2
  
+     .line 2285
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorKeyboardBrightness:I
  
      goto :goto_1
  
+     .line 2289
      :cond_5
      if-nez v0, :cond_0
  
+     .line 2290
      and-int/lit8 p1, p1, -0x9
  
      goto :goto_0
***************
*** 1422,1427 ****
--- 1576,1582 ----
      .locals 2
  
      .prologue
+     .line 1901
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mIsPowered:Z
  
      if-nez v0, :cond_0
***************
*** 1451,1468 ****
--- 1606,1626 ----
      .locals 2
  
      .prologue
+     .line 1288
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
      invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 1289
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
      const/4 v1, -0x1
  
      iput v1, v0, Lcom/android/server/PowerManagerService$TimeoutTask;->nextState:I
  
+     .line 1290
      return-void
  .end method
  
***************
*** 1472,1485 ****
--- 1630,1646 ----
      .prologue
      const/4 v4, 0x0
  
+     .line 2985
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProximitySensorEnabled:Z
  
      if-eqz v2, :cond_1
  
+     .line 2987
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 2989
      .local v0, identity:J
      :try_start_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
***************
*** 1488,1499 ****
--- 1649,1662 ----
  
      invoke-virtual {v2, v3}, Landroid/hardware/SensorManager;->unregisterListener(Landroid/hardware/SensorEventListener;)V
  
+     .line 2990
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mProximityTask:Ljava/lang/Runnable;
  
      invoke-virtual {v2, v3}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 2991
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mProximityPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v2}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->isHeld()Z
***************
*** 1502,1511 ****
--- 1665,1676 ----
  
      if-eqz v2, :cond_0
  
+     .line 2992
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mProximityPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v2}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
  
+     .line 2994
      :cond_0
      const/4 v2, 0x0
  
***************
*** 1513,1536 ****
--- 1678,1708 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 2996
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2998
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
      if-eqz v2, :cond_1
  
+     .line 2999
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
+     .line 3004
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
      if-nez v2, :cond_1
  
+     .line 3005
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->forceUserActivityLocked()V
  
+     .line 3009
      .end local v0           #identity:J
      :cond_1
      return-void
  
+     .line 2996
      .restart local v0       #identity:J
      :catchall_0
      move-exception v2
***************
*** 1545,1554 ****
--- 1717,1728 ----
      .parameter "state"
  
      .prologue
+     .line 2483
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v2
  
+     .line 2484
      if-eqz p1, :cond_2
  
      const/4 v1, 0x1
***************
*** 1557,1570 ****
--- 1731,1747 ----
      :try_start_0
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mIsDocked:Z
  
+     .line 2485
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mIsDocked:Z
  
      if-eqz v1, :cond_0
  
+     .line 2486
      const/4 v1, -0x1
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
+     .line 2488
      :cond_0
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 1572,1599 ****
--- 1749,1783 ----
  
      if-eqz v1, :cond_1
  
+     .line 2490
      iget v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
      float-to-int v0, v1
  
+     .line 2491
      .local v0, value:I
      const/high16 v1, -0x4080
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 2492
      invoke-direct {p0, v0}, Lcom/android/server/PowerManagerService;->lightSensorChangedLocked(I)V
  
+     .line 2494
      .end local v0           #value:I
      :cond_1
      monitor-exit v2
  
+     .line 2495
      return-void
  
+     .line 2484
      :cond_2
      const/4 v1, 0x0
  
      goto :goto_0
  
+     .line 2494
      :catchall_0
      move-exception v1
  
***************
*** 1609,1614 ****
--- 1793,1799 ----
      .parameter "state"
  
      .prologue
+     .line 1100
      new-instance v1, Ljava/lang/StringBuilder;
  
      invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 1689,1700 ****
--- 1874,1888 ----
      .parameter "enable"
  
      .prologue
+     .line 3054
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mAutoBrightessEnabled:Z
  
      if-nez v2, :cond_0
  
+     .line 3055
      const/4 p1, 0x0
  
+     .line 3057
      :cond_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
  
***************
*** 1704,1726 ****
--- 1892,1920 ----
  
      if-eq v2, p1, :cond_1
  
+     .line 3058
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mLightSensorEnabled:Z
  
+     .line 3061
      const/4 v2, -0x1
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
+     .line 3062
      const/high16 v2, -0x4080
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 3065
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 3067
      .local v0, identity:J
      if-eqz p1, :cond_2
  
+     .line 3068
      :try_start_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
  
***************
*** 1734,1746 ****
--- 1928,1943 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 3075
      :goto_0
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 3078
      .end local v0           #identity:J
      :cond_1
      return-void
  
+     .line 3071
      .restart local v0       #identity:J
      :cond_2
      :try_start_1
***************
*** 1750,1755 ****
--- 1947,1953 ----
  
      invoke-virtual {v2, v3}, Landroid/hardware/SensorManager;->unregisterListener(Landroid/hardware/SensorEventListener;)V
  
+     .line 3072
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mAutoBrightnessTask:Ljava/lang/Runnable;
***************
*** 1760,1765 ****
--- 1958,1964 ----
  
      goto :goto_0
  
+     .line 3075
      :catchall_0
      move-exception v2
  
***************
*** 1772,1785 ****
--- 1971,1987 ----
      .locals 6
  
      .prologue
+     .line 2968
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProximitySensorEnabled:Z
  
      if-nez v2, :cond_0
  
+     .line 2970
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 2972
      .local v0, identity:J
      :try_start_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
***************
*** 1792,1809 ****
--- 1994,2015 ----
  
      invoke-virtual {v2, v3, v4, v5}, Landroid/hardware/SensorManager;->registerListener(Landroid/hardware/SensorEventListener;Landroid/hardware/Sensor;I)Z
  
+     .line 2974
      const/4 v2, 0x1
  
      iput-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProximitySensorEnabled:Z
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 2976
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2979
      .end local v0           #identity:J
      :cond_0
      return-void
  
+     .line 2976
      .restart local v0       #identity:J
      :catchall_0
      move-exception v2
***************
*** 1817,1835 ****
--- 2023,2045 ----
      .locals 2
  
      .prologue
+     .line 1653
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOn:Z
  
      if-nez v0, :cond_0
  
+     .line 1654
      const-string v0, "PowerManagerService"
  
      const-string v1, "forceReenableScreen: mPreventScreenOn is false, nothing to do"
  
      invoke-static {v0, v1}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1669
      :goto_0
      return-void
  
+     .line 1666
      :cond_0
      const-string v0, "PowerManagerService"
  
***************
*** 1837,1842 ****
--- 2047,2053 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1668
      const/4 v0, 0x0
  
      invoke-virtual {p0, v0}, Lcom/android/server/PowerManagerService;->preventScreenOn(Z)V
***************
*** 1850,1881 ****
--- 2061,2099 ----
      .prologue
      const/4 v3, 0x0
  
+     .line 2328
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->isScreenTurningOffLocked()Z
  
      move-result v1
  
      if-eqz v1, :cond_0
  
+     .line 2330
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      iput-boolean v3, v1, Lcom/android/server/PowerManagerService$BrightnessState;->animating:Z
  
+     .line 2332
      :cond_0
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
+     .line 2333
      .local v0, savedActivityAllowed:Z
      const/4 v1, 0x1
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
+     .line 2334
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v1
  
      invoke-virtual {p0, v1, v2, v3}, Lcom/android/server/PowerManagerService;->userActivity(JZ)V
  
+     .line 2335
      iput-boolean v0, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
+     .line 2336
      return-void
  .end method
  
***************
*** 1885,1890 ****
--- 2103,2109 ----
      .parameter "values"
  
      .prologue
+     .line 2442
      const/4 v1, 0x0
  
      .local v1, i:I
***************
*** 1896,1923 ****
--- 2115,2148 ----
  
      if-ge v1, v2, :cond_0
  
+     .line 2443
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mAutoBrightnessLevels:[I
  
      aget v2, v2, v1
  
      if-ge p1, v2, :cond_1
  
+     .line 2447
      :cond_0
      aget v2, p2, v1
      :try_end_0
      .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2451
      :goto_1
      return v2
  
+     .line 2442
      :cond_1
      add-int/lit8 v1, v1, 0x1
  
      goto :goto_0
  
+     .line 2448
      :catch_0
      move-exception v0
  
+     .line 2450
      .local v0, e:Ljava/lang/Exception;
      const-string v2, "PowerManagerService"
  
***************
*** 1925,1930 ****
--- 2150,2156 ----
  
      invoke-static {v2, v3, v0}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
  
+     .line 2451
      const/16 v2, 0xff
  
      goto :goto_1
***************
*** 1934,1949 ****
--- 2160,2179 ----
      .locals 4
  
      .prologue
+     .line 2239
      :try_start_0
      iget v2, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessOverride:I
  
      if-ltz v2, :cond_0
  
+     .line 2240
      iget v2, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessOverride:I
  
+     .line 2250
      :goto_0
      return v2
  
+     .line 2241
      :cond_0
      iget v2, p0, Lcom/android/server/PowerManagerService;->mLightSensorScreenBrightness:I
  
***************
*** 1957,1966 ****
--- 2187,2198 ----
  
      if-eqz v2, :cond_1
  
+     .line 2243
      iget v2, p0, Lcom/android/server/PowerManagerService;->mLightSensorScreenBrightness:I
  
      goto :goto_0
  
+     .line 2245
      :cond_1
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
***************
*** 1974,1979 ****
--- 2206,2212 ----
  
      move-result v0
  
+     .line 2248
      .local v0, brightness:I
      iget v2, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessDim:I
  
***************
*** 1985,1994 ****
--- 2218,2229 ----
  
      goto :goto_0
  
+     .line 2249
      .end local v0           #brightness:I
      :catch_0
      move-exception v1
  
+     .line 2250
      .local v1, snfe:Landroid/provider/Settings$SettingNotFoundException;
      const/16 v2, 0xff
  
***************
*** 2005,2032 ****
--- 2240,2274 ----
  
      const/4 v7, 0x0
  
+     .line 2633
      iget-wide v5, p0, Lcom/android/server/PowerManagerService;->mLastEventTime:J
  
      cmp-long v5, v5, p1
  
      if-gtz v5, :cond_4
  
+     .line 2634
      iput-wide p1, p0, Lcom/android/server/PowerManagerService;->mLastEventTime:J
  
+     .line 2636
      iput v7, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
+     .line 2637
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v5}, Lcom/android/server/PowerManagerService$LockList;->size()I
  
      move-result v0
  
+     .line 2638
      .local v0, N:I
      const/4 v2, 0x0
  
+     .line 2639
      .local v2, numCleared:I
      const/4 v3, 0x0
  
+     .line 2640
      .local v3, proxLock:Z
      const/4 v1, 0x0
  
***************
*** 2034,2039 ****
--- 2276,2282 ----
      :goto_0
      if-ge v1, v0, :cond_2
  
+     .line 2641
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v5, v1}, Lcom/android/server/PowerManagerService$LockList;->get(I)Ljava/lang/Object;
***************
*** 2042,2047 ****
--- 2285,2291 ----
  
      check-cast v4, Lcom/android/server/PowerManagerService$WakeLock;
  
+     .line 2642
      .local v4, wl:Lcom/android/server/PowerManagerService$WakeLock;
      iget v5, v4, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 2051,2056 ****
--- 2295,2301 ----
  
      if-eqz v5, :cond_0
  
+     .line 2643
      iget v5, v4, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
      and-int/lit8 v5, v5, 0x3f
***************
*** 2063,2076 ****
--- 2308,2324 ----
  
      if-ne p3, v5, :cond_1
  
+     .line 2645
      const/4 v3, 0x1
  
+     .line 2640
      :cond_0
      :goto_1
      add-int/lit8 v1, v1, 0x1
  
      goto :goto_0
  
+     .line 2647
      :cond_1
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 2082,2110 ****
--- 2330,2367 ----
  
      iput-boolean v7, v5, Lcom/android/server/PowerManagerService$WakeLock;->activated:Z
  
+     .line 2648
      add-int/lit8 v2, v2, 0x1
  
      goto :goto_1
  
+     .line 2652
      .end local v4           #wl:Lcom/android/server/PowerManagerService$WakeLock;
      :cond_2
      if-nez v3, :cond_3
  
+     .line 2653
      iput-boolean v8, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
+     .line 2658
      :cond_3
      const/16 v5, 0xaa4
  
      invoke-static {v5, v2}, Landroid/util/EventLog;->writeEvent(II)I
  
+     .line 2659
      iput-boolean v8, p0, Lcom/android/server/PowerManagerService;->mStillNeedSleepNotification:Z
  
+     .line 2660
      iput v7, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
+     .line 2661
      invoke-direct {p0, v7, v7, p3}, Lcom/android/server/PowerManagerService;->setPowerState(IZI)V
  
+     .line 2662
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->cancelTimerLocked()V
  
+     .line 2664
      .end local v0           #N:I
      .end local v1           #i:I
      .end local v2           #numCleared:I
***************
*** 2118,2125 ****
--- 2375,2384 ----
      .parameter "flags"
  
      .prologue
+     .line 718
      and-int/lit8 v0, p1, 0x3f
  
+     .line 719
      .local v0, n:I
      const/16 v1, 0x1a
  
***************
*** 2153,2158 ****
--- 2412,2418 ----
      .locals 1
  
      .prologue
+     .line 2309
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      iget-boolean v0, v0, Lcom/android/server/PowerManagerService$BrightnessState;->animating:Z
***************
*** 2181,2203 ****
--- 2441,2468 ----
      .parameter "value"
  
      .prologue
+     .line 2503
      iget v3, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      and-int/lit8 v3, v3, 0x1
  
      if-nez v3, :cond_1
  
+     .line 2555
      :cond_0
      :goto_0
      return-void
  
+     .line 2511
      :cond_1
      iget v3, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
      if-ge v3, p1, :cond_2
  
+     .line 2512
      iput p1, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
+     .line 2515
      :cond_2
      iget v3, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
***************
*** 2207,2222 ****
--- 2472,2490 ----
  
      if-eqz v3, :cond_0
  
+     .line 2516
      int-to-float v3, p1
  
      iput v3, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 2517
      iget v3, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      and-int/lit8 v3, v3, 0x10
  
      if-nez v3, :cond_0
  
+     .line 2521
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mIsDocked:Z
  
      if-eqz v3, :cond_6
***************
*** 2230,2235 ****
--- 2498,2504 ----
  
      move-result v2
  
+     .line 2524
      .local v2, lcdValue:I
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mButtonBacklightValues:[I
  
***************
*** 2237,2261 ****
--- 2506,2536 ----
  
      move-result v0
  
+     .line 2526
      .local v0, buttonValue:I
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
      if-eqz v3, :cond_7
  
+     .line 2527
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mKeyboardBacklightValues:[I
  
      invoke-direct {p0, p1, v3}, Lcom/android/server/PowerManagerService;->getAutoBrightnessValue(I[I)I
  
      move-result v1
  
+     .line 2531
      .local v1, keyboardValue:I
      :goto_2
      iput v2, p0, Lcom/android/server/PowerManagerService;->mLightSensorScreenBrightness:I
  
+     .line 2532
      iput v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorButtonBrightness:I
  
+     .line 2533
      iput v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorKeyboardBrightness:I
  
+     .line 2541
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mAutoBrightessEnabled:Z
  
      if-eqz v3, :cond_3
***************
*** 2264,2273 ****
--- 2539,2550 ----
  
      if-gez v3, :cond_3
  
+     .line 2542
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mSkippedScreenOn:Z
  
      if-nez v3, :cond_3
  
+     .line 2543
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      const/16 v4, 0x3c
***************
*** 2282,2296 ****
--- 2559,2576 ----
  
      invoke-virtual {v3, v2, v4, v5, v6}, Lcom/android/server/PowerManagerService$BrightnessState;->setTargetLocked(IIII)V
  
+     .line 2547
      :cond_3
      iget v3, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
      if-gez v3, :cond_4
  
+     .line 2548
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mButtonLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v3, v0}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2550
      :cond_4
      iget v3, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
***************
*** 2300,2305 ****
--- 2580,2586 ----
  
      if-nez v3, :cond_0
  
+     .line 2551
      :cond_5
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mKeyboardLight:Lcom/android/server/LightsService$Light;
  
***************
*** 2307,2312 ****
--- 2588,2594 ----
  
      goto :goto_0
  
+     .line 2521
      .end local v0           #buttonValue:I
      .end local v1           #keyboardValue:I
      .end local v2           #lcdValue:I
***************
*** 2315,2320 ****
--- 2597,2603 ----
  
      goto :goto_1
  
+     .line 2529
      .restart local v0       #buttonValue:I
      .restart local v2       #lcdValue:I
      :cond_7
***************
*** 2329,2366 ****
--- 2612,2657 ----
      .parameter "type"
  
      .prologue
+     .line 1082
      sparse-switch p0, :sswitch_data_0
  
+     .line 1095
      const-string v0, "???                           "
  
      :goto_0
      return-object v0
  
+     .line 1085
      :sswitch_0
      const-string v0, "FULL_WAKE_LOCK                "
  
      goto :goto_0
  
+     .line 1087
      :sswitch_1
      const-string v0, "SCREEN_BRIGHT_WAKE_LOCK       "
  
      goto :goto_0
  
+     .line 1089
      :sswitch_2
      const-string v0, "SCREEN_DIM_WAKE_LOCK          "
  
      goto :goto_0
  
+     .line 1091
      :sswitch_3
      const-string v0, "PARTIAL_WAKE_LOCK             "
  
      goto :goto_0
  
+     .line 1093
      :sswitch_4
      const-string v0, "PROXIMITY_SCREEN_OFF_WAKE_LOCK"
  
      goto :goto_0
  
+     .line 1082
      nop
  
      :sswitch_data_0
***************
*** 2387,2413 ****
--- 2678,2710 ----
      .parameter "active"
  
      .prologue
+     .line 3015
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mProximitySensorEnabled:Z
  
      if-nez v0, :cond_1
  
+     .line 3016
      const-string v0, "PowerManagerService"
  
      const-string v1, "Ignoring proximity change after sensor is disabled"
  
      invoke-static {v0, v1}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 3047
      :cond_0
      :goto_0
      return-void
  
+     .line 3019
      :cond_1
      if-eqz p1, :cond_3
  
+     .line 3024
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
      if-nez v0, :cond_2
  
+     .line 3025
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v0
***************
*** 2416,2421 ****
--- 2713,2719 ----
  
      invoke-direct {p0, v0, v1, v2}, Lcom/android/server/PowerManagerService;->goToSleepLocked(JI)V
  
+     .line 3028
      :cond_2
      const/4 v0, 0x1
  
***************
*** 2423,2444 ****
--- 2721,2747 ----
  
      goto :goto_0
  
+     .line 3033
      :cond_3
      const/4 v0, 0x0
  
      iput-boolean v0, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
+     .line 3038
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mProxIgnoredBecauseScreenTurnedOff:Z
  
      if-nez v0, :cond_4
  
+     .line 3039
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->forceUserActivityLocked()V
  
+     .line 3042
      :cond_4
      iget v0, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
      if-nez v0, :cond_0
  
+     .line 3044
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->disableProximityLockLocked()V
  
      goto :goto_0
***************
*** 2453,2470 ****
--- 2756,2777 ----
      .prologue
      const/4 v5, 0x0
  
+     .line 952
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v0, p1}, Lcom/android/server/PowerManagerService$LockList;->removeLock(Landroid/os/IBinder;)Lcom/android/server/PowerManagerService$WakeLock;
  
      move-result-object v8
  
+     .line 953
      .local v8, wl:Lcom/android/server/PowerManagerService$WakeLock;
      if-nez v8, :cond_0
  
+     .line 996
      :goto_0
      return-void
  
+     .line 962
      :cond_0
      iget v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 2474,2479 ****
--- 2781,2787 ----
  
      if-eqz v0, :cond_5
  
+     .line 963
      iget v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
      and-int/lit8 v0, v0, 0x3f
***************
*** 2482,2497 ****
--- 2790,2808 ----
  
      if-ne v0, v1, :cond_3
  
+     .line 964
      iget v0, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
      add-int/lit8 v0, v0, -0x1
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
+     .line 965
      iget v0, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
      if-nez v0, :cond_1
  
+     .line 966
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
      if-eqz v0, :cond_2
***************
*** 2500,2522 ****
--- 2811,2837 ----
  
      if-eqz v0, :cond_2
  
+     .line 993
      :cond_1
      :goto_1
      iget-object v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->binder:Landroid/os/IBinder;
  
      invoke-interface {v0, v8, v5}, Landroid/os/IBinder;->unlinkToDeath(Landroid/os/IBinder$DeathRecipient;I)Z
  
+     .line 995
      iget-object v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
      invoke-virtual {p0, v8, v0}, Lcom/android/server/PowerManagerService;->noteStopWakeLocked(Lcom/android/server/PowerManagerService$WakeLock;Landroid/os/WorkSource;)V
  
      goto :goto_0
  
+     .line 973
      :cond_2
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->disableProximityLockLocked()V
  
      goto :goto_1
  
+     .line 977
      :cond_3
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 2526,2531 ****
--- 2841,2847 ----
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
+     .line 979
      iget v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
      const/high16 v1, 0x2000
***************
*** 2534,2539 ****
--- 2850,2856 ----
  
      if-eqz v0, :cond_4
  
+     .line 980
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v1
***************
*** 2548,2553 ****
--- 2865,2871 ----
  
      invoke-direct/range {v0 .. v7}, Lcom/android/server/PowerManagerService;->userActivity(JJZIZ)V
  
+     .line 982
      :cond_4
      iget v0, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
***************
*** 2559,2564 ****
--- 2877,2883 ----
  
      goto :goto_1
  
+     .line 985
      :cond_5
      iget v0, v8, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 2568,2583 ****
--- 2887,2905 ----
  
      if-ne v0, v1, :cond_1
  
+     .line 986
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
      add-int/lit8 v0, v0, -0x1
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
+     .line 987
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
      if-nez v0, :cond_1
  
+     .line 989
      const-string v0, "PowerManagerService"
  
      invoke-static {v0}, Landroid/os/Power;->releaseWakeLock(Ljava/lang/String;)V
***************
*** 2592,2597 ****
--- 2914,2920 ----
      .prologue
      const/4 v6, 0x0
  
+     .line 1889
      const/16 v1, 0xaa8
  
      const/4 v2, 0x4
***************
*** 2634,2654 ****
--- 2957,2983 ----
  
      invoke-static {v1, v2}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1891
      const-wide/16 v1, 0x0
  
      iput-wide v1, p0, Lcom/android/server/PowerManagerService;->mLastTouchDown:J
  
+     .line 1892
      invoke-direct {p0, v6}, Lcom/android/server/PowerManagerService;->setScreenStateLocked(Z)I
  
      move-result v0
  
+     .line 1893
      .local v0, err:I
      if-nez v0, :cond_0
  
+     .line 1894
      iput p1, p0, Lcom/android/server/PowerManagerService;->mScreenOffReason:I
  
+     .line 1895
      invoke-direct {p0, v6, p1}, Lcom/android/server/PowerManagerService;->sendNotificationLocked(ZI)V
  
+     .line 1897
      :cond_0
      return v0
  .end method
***************
*** 2669,2690 ****
--- 2998,3025 ----
  
      const/4 v2, 0x1
  
+     .line 1328
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mInitialized:Z
  
      if-nez v1, :cond_1
  
+     .line 1404
      :cond_0
      :goto_0
      return-void
  
+     .line 1344
      :cond_1
      if-nez p1, :cond_2
  
+     .line 1345
      iput-boolean v3, p0, Lcom/android/server/PowerManagerService;->mStillNeedSleepNotification:Z
  
+     .line 1349
      :cond_2
      const/4 v0, 0x0
  
+     .line 1350
      .local v0, index:I
      :goto_1
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
***************
*** 2693,2702 ****
--- 3028,3039 ----
  
      if-eq v1, v5, :cond_3
  
+     .line 1351
      add-int/lit8 v0, v0, 0x1
  
      goto :goto_1
  
+     .line 1353
      :cond_3
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
***************
*** 2707,2718 ****
--- 3044,3058 ----
      :goto_2
      aput v1, v4, v0
  
+     .line 1354
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWhy:[I
  
      aput p2, v1, v0
  
+     .line 1363
      if-ne v0, v6, :cond_5
  
+     .line 1366
      if-nez p1, :cond_4
  
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWhy:[I
***************
*** 2721,2730 ****
--- 3061,3072 ----
  
      if-le v1, p2, :cond_4
  
+     .line 1367
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWhy:[I
  
      aput p2, v1, v3
  
+     .line 1369
      :cond_4
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
***************
*** 2735,2748 ****
--- 3077,3093 ----
      :goto_3
      aput v1, v4, v3
  
+     .line 1370
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      aput v5, v1, v2
  
+     .line 1371
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      aput v5, v1, v6
  
+     .line 1372
      new-array v1, v6, [Ljava/lang/Object;
  
      invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
***************
*** 2763,2772 ****
--- 3108,3119 ----
  
      invoke-static {v7, v1}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1373
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v1}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
  
+     .line 1374
      new-array v1, v6, [Ljava/lang/Object;
  
      invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
***************
*** 2787,2813 ****
--- 3134,3167 ----
  
      invoke-static {v7, v1}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1375
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v1}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
  
+     .line 1376
      const/4 v0, 0x0
  
+     .line 1378
      :cond_5
      if-ne v0, v2, :cond_6
  
      if-nez p1, :cond_6
  
+     .line 1379
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      aput v5, v1, v3
  
+     .line 1380
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      aput v5, v1, v2
  
+     .line 1381
      const/4 v0, -0x1
  
+     .line 1384
      new-array v1, v6, [Ljava/lang/Object;
  
      invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
***************
*** 2828,2853 ****
--- 3182,3213 ----
  
      invoke-static {v7, v1}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1385
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v1}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
  
+     .line 1390
      :cond_6
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mSkippedScreenOn:Z
  
      if-eqz v1, :cond_7
  
+     .line 1391
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      invoke-direct {p0, v1, v2}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
+     .line 1395
      :cond_7
      if-ltz v0, :cond_0
  
+     .line 1400
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v1}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->acquire()V
  
+     .line 1401
      const/16 v1, 0xaa5
  
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
***************
*** 2856,2861 ****
--- 3216,3222 ----
  
      invoke-static {v1, v2}, Landroid/util/EventLog;->writeEvent(II)I
  
+     .line 1402
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mNotificationTask:Ljava/lang/Runnable;
***************
*** 2867,2877 ****
--- 3228,3240 ----
      :cond_8
      move v1, v3
  
+     .line 1353
      goto/16 :goto_2
  
      :cond_9
      move v1, v3
  
+     .line 1369
      goto/16 :goto_3
  .end method
  
***************
*** 2881,2923 ****
--- 3244,3295 ----
      .parameter "value"
  
      .prologue
+     .line 2092
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mAutoBrightessEnabled:Z
  
      if-eqz v1, :cond_3
  
      const/4 v0, 0x1
  
+     .line 2095
      .local v0, brightnessMode:I
      :goto_0
      and-int/lit8 v1, p1, 0x2
  
      if-eqz v1, :cond_0
  
+     .line 2101
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLcdLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v1, p2, v0}, Lcom/android/server/LightsService$Light;->setBrightness(II)V
  
+     .line 2103
      :cond_0
      and-int/lit8 v1, p1, 0x4
  
      if-eqz v1, :cond_1
  
+     .line 2104
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mButtonLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v1, p2}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2106
      :cond_1
      and-int/lit8 v1, p1, 0x8
  
      if-eqz v1, :cond_2
  
+     .line 2107
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mKeyboardLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v1, p2}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2109
      :cond_2
      return-void
  
+     .line 2092
      .end local v0           #brightnessMode:I
      :cond_3
      const/4 v0, 0x0
***************
*** 2930,2941 ****
--- 3302,3315 ----
      .parameter "state"
  
      .prologue
+     .line 1722
      const/4 v0, 0x0
  
      const/4 v1, 0x3
  
      invoke-direct {p0, p1, v0, v1}, Lcom/android/server/PowerManagerService;->setPowerState(IZI)V
  
+     .line 1723
      return-void
  .end method
  
***************
*** 2946,2957 ****
--- 3320,3334 ----
      .parameter "reason"
  
      .prologue
+     .line 1727
      iget-object v10, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v10
  
+     .line 1737
      if-eqz p2, :cond_0
  
+     .line 1738
      and-int/lit8 v9, p1, -0xf
  
      :try_start_0
***************
*** 2961,2973 ****
--- 3338,3353 ----
  
      or-int p1, v9, v11
  
+     .line 1740
      :cond_0
      iget-boolean v9, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
      if-eqz v9, :cond_1
  
+     .line 1742
      and-int/lit8 p1, p1, -0x4
  
+     .line 1745
      :cond_1
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->batteryIsLow()Z
  
***************
*** 2975,2982 ****
--- 3355,3364 ----
  
      if-eqz v9, :cond_2
  
+     .line 1746
      or-int/lit8 p1, p1, 0x10
  
+     .line 1750
      :goto_0
      iget v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 2988,3003 ****
--- 3370,3389 ----
  
      if-eqz v9, :cond_3
  
+     .line 1751
      monitor-exit v10
  
+     .line 1877
      :goto_1
      return-void
  
+     .line 1748
      :cond_2
      and-int/lit8 p1, p1, -0x11
  
      goto :goto_0
  
+     .line 1754
      :cond_3
      iget-boolean v9, p0, Lcom/android/server/PowerManagerService;->mBootCompleted:Z
  
***************
*** 3007,3014 ****
--- 3393,3402 ----
  
      if-nez v9, :cond_4
  
+     .line 1755
      or-int/lit8 p1, p1, 0xf
  
+     .line 1758
      :cond_4
      iget v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 3018,3023 ****
--- 3406,3412 ----
  
      const/4 v6, 0x1
  
+     .line 1759
      .local v6, oldScreenOn:Z
      :goto_2
      and-int/lit8 v9, p1, 0x1
***************
*** 3026,3031 ****
--- 3415,3421 ----
  
      const/4 v5, 0x1
  
+     .line 1776
      .local v5, newScreenOn:Z
      :goto_3
      iget v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
***************
*** 3036,3076 ****
--- 3426,3476 ----
  
      const/4 v8, 0x1
  
+     .line 1778
      .local v8, stateChanged:Z
      :goto_4
      if-eq v6, v5, :cond_10
  
+     .line 1779
      if-eqz v5, :cond_d
  
+     .line 1784
      iget-boolean v9, p0, Lcom/android/server/PowerManagerService;->mStillNeedSleepNotification:Z
  
      if-eqz v9, :cond_5
  
+     .line 1785
      const/4 v9, 0x0
  
      const/4 v11, 0x2
  
      invoke-direct {p0, v9, v11}, Lcom/android/server/PowerManagerService;->sendNotificationLocked(ZI)V
  
+     .line 1793
      :cond_5
      const/4 v7, 0x1
  
+     .line 1799
      .local v7, reallyTurnScreenOn:Z
      iget-boolean v9, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOn:Z
  
      if-eqz v9, :cond_6
  
+     .line 1803
      const/4 v7, 0x0
  
+     .line 1805
      :cond_6
      if-eqz v7, :cond_c
  
+     .line 1806
      const/4 v9, 0x1
  
      invoke-direct {p0, v9}, Lcom/android/server/PowerManagerService;->setScreenStateLocked(Z)I
  
      move-result v2
  
+     .line 1807
      .local v2, err:I
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
      :try_end_0
***************
*** 3078,3083 ****
--- 3478,3484 ----
  
      move-result-wide v3
  
+     .line 1809
      .local v3, identity:J
      :try_start_1
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
***************
*** 3088,3093 ****
--- 3489,3495 ----
  
      invoke-interface {v9, v11}, Lcom/android/internal/app/IBatteryStats;->noteScreenBrightness(I)V
  
+     .line 1810
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
  
      invoke-interface {v9}, Lcom/android/internal/app/IBatteryStats;->noteScreenOn()V
***************
*** 3095,3117 ****
--- 3497,3524 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 1814
      :try_start_2
      invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 1822
      .end local v3           #identity:J
      :goto_5
      const-wide/16 v11, 0x0
  
      iput-wide v11, p0, Lcom/android/server/PowerManagerService;->mLastTouchDown:J
  
+     .line 1823
      const-wide/16 v11, 0x0
  
      iput-wide v11, p0, Lcom/android/server/PowerManagerService;->mTotalTouchDownTime:J
  
+     .line 1824
      const/4 v9, 0x0
  
      iput v9, p0, Lcom/android/server/PowerManagerService;->mTouchCycles:I
  
+     .line 1825
      const/16 v9, 0xaa8
  
      const/4 v11, 0x4
***************
*** 3158,3179 ****
--- 3565,3591 ----
  
      invoke-static {v9, v11}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
  
+     .line 1827
      if-nez v2, :cond_8
  
+     .line 1828
      const/4 v9, 0x1
  
      const/4 v11, -0x1
  
      invoke-direct {p0, v9, v11}, Lcom/android/server/PowerManagerService;->sendNotificationLocked(ZI)V
  
+     .line 1833
      if-eqz v8, :cond_7
  
+     .line 1834
      const/4 v9, 0x0
  
      move/from16 v0, p1
  
      invoke-direct {p0, v0, v9}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
+     .line 1836
      :cond_7
      iget v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 3181,3186 ****
--- 3593,3599 ----
  
      iput v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
+     .line 1873
      .end local v2           #err:I
      .end local v7           #reallyTurnScreenOn:Z
      :cond_8
***************
*** 3195,3202 ****
--- 3608,3617 ----
  
      iput v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
+     .line 1875
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateNativePowerStateLocked()V
  
+     .line 1876
      monitor-exit v10
  
      goto/16 :goto_1
***************
*** 3213,3235 ****
--- 3628,3654 ----
  
      throw v9
  
+     .line 1758
      :cond_9
      const/4 v6, 0x0
  
      goto/16 :goto_2
  
+     .line 1759
      .restart local v6       #oldScreenOn:Z
      :cond_a
      const/4 v5, 0x0
  
      goto/16 :goto_3
  
+     .line 1776
      .restart local v5       #newScreenOn:Z
      :cond_b
      const/4 v8, 0x0
  
      goto/16 :goto_4
  
+     .line 1811
      .restart local v2       #err:I
      .restart local v3       #identity:J
      .restart local v7       #reallyTurnScreenOn:Z
***************
*** 3237,3242 ****
--- 3656,3662 ----
      :catch_0
      move-exception v1
  
+     .line 1812
      .local v1, e:Landroid/os/RemoteException;
      :try_start_3
      const-string v9, "PowerManagerService"
***************
*** 3247,3252 ****
--- 3667,3673 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_1
  
+     .line 1814
      :try_start_4
      invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
***************
*** 3260,3265 ****
--- 3681,3687 ----
  
      throw v9
  
+     .line 1817
      .end local v2           #err:I
      .end local v3           #identity:J
      :cond_c
***************
*** 3267,3288 ****
--- 3689,3714 ----
  
      invoke-direct {p0, v9}, Lcom/android/server/PowerManagerService;->setScreenStateLocked(Z)I
  
+     .line 1819
      const/4 v2, 0x0
  
      .restart local v2       #err:I
      goto :goto_5
  
+     .line 1842
      .end local v2           #err:I
      .end local v7           #reallyTurnScreenOn:Z
      :cond_d
      if-eqz v8, :cond_e
  
+     .line 1843
      const/4 v9, 0x0
  
      move/from16 v0, p1
  
      invoke-direct {p0, v0, v9}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
+     .line 1847
      :cond_e
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
***************
*** 3290,3315 ****
--- 3716,3746 ----
  
      invoke-virtual {v9, v11}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 1848
      const/4 v9, 0x0
  
      iput-boolean v9, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingDecrease:Z
  
+     .line 1849
      const/4 v9, 0x0
  
      iput-boolean v9, p0, Lcom/android/server/PowerManagerService;->mLightSensorPendingIncrease:Z
  
+     .line 1850
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
  
      move-result-wide v11
  
      iput-wide v11, p0, Lcom/android/server/PowerManagerService;->mScreenOffTime:J
  
+     .line 1851
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_0
  
      move-result-wide v3
  
+     .line 1853
      .restart local v3       #identity:J
      :try_start_5
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
***************
*** 3319,3327 ****
--- 3750,3760 ----
      .catchall {:try_start_5 .. :try_end_5} :catchall_2
      .catch Landroid/os/RemoteException; {:try_start_5 .. :try_end_5} :catch_1
  
+     .line 1857
      :try_start_6
      invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 1859
      :goto_7
      iget v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 3329,3344 ****
--- 3762,3780 ----
  
      iput v9, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
+     .line 1860
      move/from16 v0, p3
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffReason:I
  
+     .line 1861
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      iget-boolean v9, v9, Lcom/android/server/PowerManagerService$BrightnessState;->animating:Z
  
      if-nez v9, :cond_f
  
+     .line 1862
      move/from16 v0, p3
  
      invoke-direct {p0, v0}, Lcom/android/server/PowerManagerService;->screenOffFinishedAnimatingLocked(I)I
***************
*** 3350,3359 ****
--- 3786,3797 ----
      .restart local v2       #err:I
      goto :goto_6
  
+     .line 1854
      .end local v2           #err:I
      :catch_1
      move-exception v1
  
+     .line 1855
      .restart local v1       #e:Landroid/os/RemoteException;
      :try_start_7
      const-string v9, "PowerManagerService"
***************
*** 3364,3369 ****
--- 3802,3808 ----
      :try_end_7
      .catchall {:try_start_7 .. :try_end_7} :catchall_2
  
+     .line 1857
      :try_start_8
      invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
***************
*** 3377,3385 ****
--- 3816,3826 ----
  
      throw v9
  
+     .line 1864
      :cond_f
      const/4 v2, 0x0
  
+     .line 1865
      .restart local v2       #err:I
      const-wide/16 v11, 0x0
  
***************
*** 3387,3397 ****
--- 3828,3840 ----
  
      goto/16 :goto_6
  
+     .line 1868
      .end local v2           #err:I
      .end local v3           #identity:J
      :cond_10
      if-eqz v8, :cond_8
  
+     .line 1870
      const/4 v9, 0x0
  
      move/from16 v0, p1
***************
*** 3412,3425 ****
--- 3855,3871 ----
  
      const/4 v1, 0x1
  
+     .line 2719
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v3
  
+     .line 2720
      if-ne p1, v1, :cond_1
  
      move v0, v1
  
+     .line 2721
      .local v0, enabled:Z
      :goto_0
      :try_start_0
***************
*** 3431,3438 ****
--- 3877,3886 ----
  
      if-eq v4, v0, :cond_0
  
+     .line 2722
      iput-boolean v0, p0, Lcom/android/server/PowerManagerService;->mAutoBrightessEnabled:Z
  
+     .line 2724
      iget-boolean v4, p0, Lcom/android/server/PowerManagerService;->mAutoBrightessEnabled:Z
  
      if-eqz v4, :cond_2
***************
*** 3446,3468 ****
--- 3894,3921 ----
      :goto_1
      invoke-direct {p0, v1}, Lcom/android/server/PowerManagerService;->enableLightSensorLocked(Z)V
  
+     .line 2726
      :cond_0
      monitor-exit v3
  
+     .line 2727
      return-void
  
      .end local v0           #enabled:Z
      :cond_1
      move v0, v2
  
+     .line 2720
      goto :goto_0
  
      .restart local v0       #enabled:Z
      :cond_2
      move v1, v2
  
+     .line 2724
      goto :goto_1
  
+     .line 2726
      :catchall_0
      move-exception v1
  
***************
*** 3481,3503 ****
--- 3934,3962 ----
  
      const/4 v2, -0x1
  
+     .line 2735
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPokey:I
  
      and-int/lit8 v1, v1, 0x2
  
      if-eqz v1, :cond_0
  
+     .line 2736
      iget v1, p0, Lcom/android/server/PowerManagerService;->mShortKeylightDelay:I
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
  
+     .line 2737
      iput v2, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
+     .line 2738
      iput v3, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
+     .line 2772
      :goto_0
      return-void
  
+     .line 2739
      :cond_0
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPokey:I
  
***************
*** 3505,3541 ****
--- 3964,4010 ----
  
      if-eqz v1, :cond_1
  
+     .line 2740
      const/16 v1, 0x3a98
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
  
+     .line 2741
      iput v2, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
+     .line 2742
      iput v3, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
      goto :goto_0
  
+     .line 2744
      :cond_1
      iget v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffTimeoutSetting:I
  
+     .line 2745
      .local v0, totalDelay:I
      iget v1, p0, Lcom/android/server/PowerManagerService;->mMaximumScreenOffTimeout:I
  
      if-le v0, v1, :cond_2
  
+     .line 2746
      iget v0, p0, Lcom/android/server/PowerManagerService;->mMaximumScreenOffTimeout:I
  
+     .line 2748
      :cond_2
      const/16 v1, 0x1770
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
  
+     .line 2749
      if-gez v0, :cond_3
  
+     .line 2751
      iget v1, p0, Lcom/android/server/PowerManagerService;->mMaximumScreenOffTimeout:I
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
+     .line 2760
      :goto_1
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mDimScreen:Z
  
***************
*** 3545,3567 ****
--- 4014,4040 ----
  
      if-lt v0, v1, :cond_5
  
+     .line 2761
      iget v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
      add-int/lit16 v1, v1, -0x1b58
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
+     .line 2762
      const/16 v1, 0x1b58
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
      goto :goto_0
  
+     .line 2752
      :cond_3
      iget v1, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
  
      if-ge v1, v0, :cond_4
  
+     .line 2756
      iget v1, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
  
      sub-int v1, v0, v1
***************
*** 3570,3580 ****
--- 4043,4055 ----
  
      goto :goto_1
  
+     .line 2758
      :cond_4
      iput v3, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
      goto :goto_1
  
+     .line 2764
      :cond_5
      iput v2, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
***************
*** 3586,3593 ****
--- 4061,4070 ----
      .parameter "on"
  
      .prologue
+     .line 1683
      if-eqz p1, :cond_1
  
+     .line 1684
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      and-int/lit8 v1, v1, 0x1
***************
*** 3598,3603 ****
--- 4075,4081 ----
  
      if-eqz v1, :cond_1
  
+     .line 1697
      :cond_0
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
***************
*** 3605,3618 ****
--- 4083,4099 ----
  
      invoke-virtual {v1, v2}, Lcom/android/server/PowerManagerService$BrightnessState;->forceValueLocked(I)V
  
+     .line 1700
      :cond_1
      invoke-static {p1}, Landroid/os/Power;->setScreenState(Z)I
  
      move-result v0
  
+     .line 1701
      .local v0, err:I
      if-nez v0, :cond_2
  
+     .line 1702
      if-eqz p1, :cond_3
  
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
***************
*** 3622,3654 ****
--- 4103,4144 ----
      :goto_0
      iput-wide v1, p0, Lcom/android/server/PowerManagerService;->mLastScreenOnTime:J
  
+     .line 1703
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v1, :cond_2
  
+     .line 1704
      invoke-direct {p0, p1}, Lcom/android/server/PowerManagerService;->enableLightSensorLocked(Z)V
  
+     .line 1705
      if-nez p1, :cond_2
  
+     .line 1707
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mButtonLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v1}, Lcom/android/server/LightsService$Light;->turnOff()V
  
+     .line 1708
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mKeyboardLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v1}, Lcom/android/server/LightsService$Light;->turnOff()V
  
+     .line 1711
      const/high16 v1, -0x4080
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 1713
      const/4 v1, -0x1
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mHighestLightSensorValue:I
  
+     .line 1717
      :cond_2
      return v0
  
+     .line 1702
      :cond_3
      const-wide/16 v1, 0x0
  
***************
*** 3661,3666 ****
--- 4151,4157 ----
      .parameter "nextState"
  
      .prologue
+     .line 1214
      const-wide/16 v3, -0x1
  
      move-object v0, p0
***************
*** 3671,3676 ****
--- 4162,4168 ----
  
      invoke-direct/range {v0 .. v5}, Lcom/android/server/PowerManagerService;->setTimeoutLocked(JJI)V
  
+     .line 1215
      return-void
  .end method
  
***************
*** 3681,3699 ****
--- 4173,4196 ----
      .parameter "nextState"
  
      .prologue
+     .line 1221
      move-wide v0, p3
  
+     .line 1222
      .local v0, timeoutOverride:J
      iget-boolean v4, p0, Lcom/android/server/PowerManagerService;->mBootCompleted:Z
  
      if-eqz v4, :cond_0
  
+     .line 1223
      iget-object v6, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v6
  
+     .line 1224
      const-wide/16 v2, 0x0
  
+     .line 1225
      .local v2, when:J
      const-wide/16 v4, 0x0
  
***************
*** 3701,3711 ****
--- 4198,4211 ----
  
      if-gtz v4, :cond_2
  
+     .line 1226
      packed-switch p5, :pswitch_data_0
  
+     .line 1244
      :pswitch_0
      move-wide v2, p1
  
+     .line 1275
      :goto_0
      :try_start_0
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
***************
*** 3714,3723 ****
--- 4214,4225 ----
  
      invoke-virtual {v4, v5}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 1276
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
      iput p5, v4, Lcom/android/server/PowerManagerService$TimeoutTask;->nextState:I
  
+     .line 1277
      iget-object v7, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
      const-wide/16 v4, 0x0
***************
*** 3731,3750 ****
--- 4233,4257 ----
      :goto_1
      iput-wide v4, v7, Lcom/android/server/PowerManagerService$TimeoutTask;->remainingTimeoutOverride:J
  
+     .line 1280
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mTimeoutTask:Lcom/android/server/PowerManagerService$TimeoutTask;
  
      invoke-virtual {v4, v5, v2, v3}, Landroid/os/Handler;->postAtTime(Ljava/lang/Runnable;J)Z
  
+     .line 1281
      iput-wide v2, p0, Lcom/android/server/PowerManagerService;->mNextTimeout:J
  
+     .line 1282
      monitor-exit v6
  
+     .line 1284
      .end local v2           #when:J
      :cond_0
      return-void
  
+     .line 1229
      .restart local v2       #when:J
      :pswitch_1
      iget v4, p0, Lcom/android/server/PowerManagerService;->mKeylightDelay:I
***************
*** 3753,3773 ****
--- 4260,4285 ----
  
      add-long v2, p1, v4
  
+     .line 1230
      goto :goto_0
  
+     .line 1232
      :pswitch_2
      iget v4, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
      if-ltz v4, :cond_1
  
+     .line 1233
      iget v4, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
      int-to-long v4, v4
  
      add-long v2, p1, v4
  
+     .line 1234
      goto :goto_0
  
+     .line 1236
      :cond_1
      const-string v4, "PowerManagerService"
  
***************
*** 3799,3804 ****
--- 4311,4317 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1239
      :pswitch_3
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 3806,3811 ****
--- 4319,4325 ----
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_1
  
+     .line 1240
      :try_start_1
      iget v4, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
***************
*** 3813,3818 ****
--- 4327,4333 ----
  
      add-long v2, p1, v7
  
+     .line 1241
      monitor-exit v5
  
      goto :goto_0
***************
*** 3827,3832 ****
--- 4342,4348 ----
      :try_start_2
      throw v4
  
+     .line 1282
      :catchall_1
      move-exception v4
  
***************
*** 3836,3841 ****
--- 4352,4358 ----
  
      throw v4
  
+     .line 1249
      :cond_2
      :try_start_3
      iget v4, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
***************
*** 3846,3857 ****
--- 4363,4378 ----
  
      if-gtz v4, :cond_3
  
+     .line 1250
      add-long v2, p1, v0
  
+     .line 1251
      const/4 p5, 0x0
  
+     .line 1252
      goto :goto_0
  
+     .line 1254
      :cond_3
      iget v4, p0, Lcom/android/server/PowerManagerService;->mScreenOffDelay:I
  
***************
*** 3859,3868 ****
--- 4380,4391 ----
  
      sub-long/2addr v0, v4
  
+     .line 1256
      iget v4, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
      if-ltz v4, :cond_5
  
+     .line 1257
      iget v4, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
  
      int-to-long v4, v4
***************
*** 3871,3882 ****
--- 4394,4409 ----
  
      if-gtz v4, :cond_4
  
+     .line 1258
      add-long v2, p1, v0
  
+     .line 1259
      const/4 p5, 0x1
  
+     .line 1260
      goto :goto_0
  
+     .line 1262
      :cond_4
      iget v4, p0, Lcom/android/server/PowerManagerService;->mDimDelay:I
      :try_end_3
***************
*** 3886,3903 ****
--- 4413,4434 ----
  
      sub-long/2addr v0, v4
  
+     .line 1265
      :cond_5
      add-long v2, p1, v0
  
+     .line 1266
      const/4 p5, 0x3
  
      goto/16 :goto_0
  
+     .line 1277
      :cond_6
      const-wide/16 v4, -0x1
  
      goto :goto_1
  
+     .line 1226
      :pswitch_data_0
      .packed-switch 0x0
          :pswitch_3
***************
*** 3913,3926 ****
--- 4444,4460 ----
      .prologue
      const/4 v1, 0x1
  
+     .line 1906
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mPreparingForScreenOn:Z
  
      if-eqz v2, :cond_1
  
+     .line 1925
      :cond_0
      :goto_0
      return v1
  
+     .line 1917
      :cond_1
      const/4 v0, 0x0
  
***************
*** 3932,3947 ****
--- 4466,4484 ----
  
      if-ge v0, v2, :cond_2
  
+     .line 1918
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBroadcastQueue:[I
  
      aget v2, v2, v0
  
      if-eq v2, v1, :cond_0
  
+     .line 1917
      add-int/lit8 v0, v0, 0x1
  
      goto :goto_1
  
+     .line 1925
      :cond_2
      const/4 v1, 0x0
  
***************
*** 3957,3966 ****
--- 4494,4505 ----
  
      const/4 v1, 0x0
  
+     .line 2313
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v2
  
+     .line 2314
      :try_start_0
      iget-wide v3, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleTime:J
  
***************
*** 3972,3988 ****
--- 4511,4532 ----
  
      if-lez v3, :cond_0
  
+     .line 2315
      iput-wide p1, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleTime:J
  
+     .line 2316
      const/4 v1, 0x0
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleCount:I
  
+     .line 2317
      monitor-exit v2
  
+     .line 2322
      :goto_0
      return v0
  
+     .line 2318
      :cond_0
      iget v3, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleCount:I
  
***************
*** 3990,4005 ****
--- 4534,4552 ----
  
      if-ge v3, v4, :cond_1
  
+     .line 2319
      iget v1, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleCount:I
  
      add-int/lit8 v1, v1, 0x1
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mWarningSpewThrottleCount:I
  
+     .line 2320
      monitor-exit v2
  
      goto :goto_0
  
+     .line 2324
      :catchall_0
      move-exception v0
  
***************
*** 4009,4014 ****
--- 4556,4562 ----
  
      throw v0
  
+     .line 2322
      :cond_1
      :try_start_1
      monitor-exit v2
***************
*** 4026,4035 ****
--- 4574,4585 ----
      .parameter "forceState"
  
      .prologue
+     .line 1929
      move-object/from16 v0, p0
  
      iget v8, v0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
+     .line 1933
      .local v8, oldState:I
      and-int/lit8 v15, v8, 0x1
  
***************
*** 4041,4046 ****
--- 4591,4597 ----
  
      if-eqz v15, :cond_1
  
+     .line 1937
      :cond_0
      invoke-direct/range {p0 .. p0}, Lcom/android/server/PowerManagerService;->shouldDeferScreenOnLocked()Z
  
***************
*** 4052,4139 ****
--- 4603,4713 ----
  
      if-eqz v15, :cond_1
  
+     .line 1938
      and-int/lit8 p1, p1, -0x4
  
+     .line 1942
      :cond_1
      and-int/lit8 v15, p1, 0x1
  
      if-eqz v15, :cond_2
  
+     .line 1945
      invoke-direct/range {p0 .. p1}, Lcom/android/server/PowerManagerService;->applyButtonState(I)I
  
      move-result p1
  
+     .line 1946
      invoke-direct/range {p0 .. p1}, Lcom/android/server/PowerManagerService;->applyKeyboardState(I)I
  
      move-result p1
  
+     .line 1948
      :cond_2
      xor-int v12, p1, v8
  
+     .line 1949
      .local v12, realDifference:I
      or-int v2, v12, p2
  
+     .line 1950
      .local v2, difference:I
      if-nez v2, :cond_4
  
+     .line 2089
      :cond_3
      :goto_0
      return-void
  
+     .line 1954
      :cond_4
      const/4 v7, 0x0
  
+     .line 1955
      .local v7, offMask:I
      const/4 v3, 0x0
  
+     .line 1956
      .local v3, dimMask:I
      const/4 v9, 0x0
  
+     .line 1958
      .local v9, onMask:I
      invoke-direct/range {p0 .. p0}, Lcom/android/server/PowerManagerService;->getPreferredBrightness()I
  
      move-result v10
  
+     .line 1960
      .local v10, preferredBrightness:I
      and-int/lit8 v15, v2, 0x8
  
      if-eqz v15, :cond_5
  
+     .line 1961
      and-int/lit8 v15, p1, 0x8
  
      if-nez v15, :cond_f
  
+     .line 1962
      or-int/lit8 v7, v7, 0x8
  
+     .line 1968
      :cond_5
      :goto_1
      and-int/lit8 v15, v2, 0x4
  
      if-eqz v15, :cond_6
  
+     .line 1969
      and-int/lit8 v15, p1, 0x4
  
      if-nez v15, :cond_10
  
+     .line 1970
      or-int/lit8 v7, v7, 0x4
  
+     .line 1976
      :cond_6
      :goto_2
      and-int/lit8 v15, v2, 0x3
  
      if-eqz v15, :cond_a
  
+     .line 1977
      const/4 v6, -0x1
  
+     .line 1983
      .local v6, nominalCurrentValue:I
      and-int/lit8 v15, v12, 0x3
  
      if-eqz v15, :cond_7
  
+     .line 1984
      and-int/lit8 v15, v8, 0x3
  
      packed-switch v15, :pswitch_data_0
  
+     .line 1997
      :pswitch_0
      move-object/from16 v0, p0
  
***************
*** 4143,4162 ****
--- 4717,4741 ----
  
      float-to-int v6, v15
  
+     .line 2001
      :cond_7
      :goto_3
      move v1, v10
  
+     .line 2002
      .local v1, brightness:I
      const/16 v14, 0xf
  
+     .line 2003
      .local v14, steps:I
      and-int/lit8 v15, p1, 0x2
  
      if-nez v15, :cond_9
  
+     .line 2007
      const/high16 v13, 0x3fc0
  
+     .line 2008
      .local v13, scale:F
      move-object/from16 v0, p0
  
***************
*** 4170,4175 ****
--- 4749,4755 ----
  
      div-float v11, v15, v16
  
+     .line 2009
      .local v11, ratio:F
      const/high16 v15, 0x3f80
  
***************
*** 4179,4198 ****
--- 4759,4783 ----
  
      const/high16 v11, 0x3f80
  
+     .line 2010
      :cond_8
      and-int/lit8 v15, p1, 0x1
  
      if-nez v15, :cond_12
  
+     .line 2011
      and-int/lit8 v15, v8, 0x2
  
      if-eqz v15, :cond_11
  
+     .line 2013
      const/16 v14, 0xf
  
+     .line 2018
      :goto_4
      const/4 v1, 0x0
  
+     .line 2038
      .end local v11           #ratio:F
      .end local v13           #scale:F
      :cond_9
***************
*** 4201,4206 ****
--- 4786,4792 ----
  
      move-result-wide v4
  
+     .line 2040
      .local v4, identity:J
      :try_start_0
      move-object/from16 v0, p0
***************
*** 4212,4219 ****
--- 4798,4807 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2044
      invoke-static {v4, v5}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2046
      :goto_6
      move-object/from16 v0, p0
  
***************
*** 4221,4226 ****
--- 4809,4815 ----
  
      if-nez v15, :cond_a
  
+     .line 2047
      move-object/from16 v0, p0
  
      iget-object v15, v0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
***************
*** 4231,4236 ****
--- 4820,4826 ----
  
      invoke-virtual {v15, v1, v14, v0, v6}, Lcom/android/server/PowerManagerService$BrightnessState;->setTargetLocked(IIII)V
  
+     .line 2067
      .end local v1           #brightness:I
      .end local v4           #identity:J
      .end local v6           #nominalCurrentValue:I
***************
*** 4238,4256 ****
--- 4828,4850 ----
      :cond_a
      if-eqz v7, :cond_b
  
+     .line 2069
      const/4 v15, 0x0
  
      move-object/from16 v0, p0
  
      invoke-direct {v0, v7, v15}, Lcom/android/server/PowerManagerService;->setLightBrightness(II)V
  
+     .line 2071
      :cond_b
      if-eqz v3, :cond_d
  
+     .line 2072
      move-object/from16 v0, p0
  
      iget v1, v0, Lcom/android/server/PowerManagerService;->mScreenBrightnessDim:I
  
+     .line 2073
      .restart local v1       #brightness:I
      and-int/lit8 v15, p1, 0x10
  
***************
*** 4260,4280 ****
--- 4854,4879 ----
  
      if-le v1, v15, :cond_c
  
+     .line 2075
      const/16 v1, 0xa
  
+     .line 2078
      :cond_c
      move-object/from16 v0, p0
  
      invoke-direct {v0, v3, v1}, Lcom/android/server/PowerManagerService;->setLightBrightness(II)V
  
+     .line 2080
      .end local v1           #brightness:I
      :cond_d
      if-eqz v9, :cond_3
  
+     .line 2081
      invoke-direct/range {p0 .. p0}, Lcom/android/server/PowerManagerService;->getPreferredBrightness()I
  
      move-result v1
  
+     .line 2082
      .restart local v1       #brightness:I
      and-int/lit8 v15, p1, 0x10
  
***************
*** 4284,4291 ****
--- 4883,4892 ----
  
      if-le v1, v15, :cond_e
  
+     .line 2084
      const/16 v1, 0xa
  
+     .line 2087
      :cond_e
      move-object/from16 v0, p0
  
***************
*** 4293,4327 ****
--- 4894,4937 ----
  
      goto/16 :goto_0
  
+     .line 1964
      .end local v1           #brightness:I
      :cond_f
      or-int/lit8 v9, v9, 0x8
  
      goto/16 :goto_1
  
+     .line 1972
      :cond_10
      or-int/lit8 v9, v9, 0x4
  
      goto/16 :goto_2
  
+     .line 1986
      .restart local v6       #nominalCurrentValue:I
      :pswitch_1
      move v6, v10
  
+     .line 1987
      goto/16 :goto_3
  
+     .line 1989
      :pswitch_2
      move-object/from16 v0, p0
  
      iget v6, v0, Lcom/android/server/PowerManagerService;->mScreenBrightnessDim:I
  
+     .line 1990
      goto/16 :goto_3
  
+     .line 1992
      :pswitch_3
      const/4 v6, 0x0
  
+     .line 1993
      goto/16 :goto_3
  
+     .line 2016
      .restart local v1       #brightness:I
      .restart local v11       #ratio:F
      .restart local v13       #scale:F
***************
*** 4339,4349 ****
--- 4949,4961 ----
  
      goto :goto_4
  
+     .line 2020
      :cond_12
      and-int/lit8 v15, v8, 0x1
  
      if-eqz v15, :cond_14
  
+     .line 2022
      const/high16 v15, 0x4170
  
      const/high16 v16, 0x3f80
***************
*** 4358,4363 ****
--- 4970,4976 ----
  
      float-to-int v14, v15
  
+     .line 2027
      :goto_7
      move-object/from16 v0, p0
  
***************
*** 4381,4386 ****
--- 4994,5000 ----
  
      if-eqz v15, :cond_13
  
+     .line 2033
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
  
      move-result-wide v15
***************
*** 4389,4394 ****
--- 5003,5009 ----
  
      iput-wide v15, v0, Lcom/android/server/PowerManagerService;->mScreenOffTime:J
  
+     .line 2035
      :cond_13
      move-object/from16 v0, p0
  
***************
*** 4396,4401 ****
--- 5011,5017 ----
  
      goto/16 :goto_5
  
+     .line 2025
      :cond_14
      const/high16 v15, 0x4170
  
***************
*** 4405,4416 ****
--- 5021,5034 ----
  
      goto :goto_7
  
+     .line 2041
      .end local v11           #ratio:F
      .end local v13           #scale:F
      .restart local v4       #identity:J
      :catch_0
      move-exception v15
  
+     .line 2044
      invoke-static {v4, v5}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto/16 :goto_6
***************
*** 4422,4427 ****
--- 5040,5046 ----
  
      throw v15
  
+     .line 1984
      :pswitch_data_0
      .packed-switch 0x0
          :pswitch_3
***************
*** 4439,4444 ****
--- 5058,5064 ----
  
      const/4 v2, 0x0
  
+     .line 1880
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      and-int/lit8 v0, v0, 0x1
***************
*** 4459,4469 ****
--- 5079,5091 ----
      :goto_1
      invoke-direct {p0, v0, v1}, Lcom/android/server/PowerManagerService;->nativeSetPowerState(ZZ)V
  
+     .line 1883
      return-void
  
      :cond_0
      move v0, v2
  
+     .line 1880
      goto :goto_0
  
      :cond_1
***************
*** 4476,4481 ****
--- 5098,5104 ----
      .locals 3
  
      .prologue
+     .line 2779
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
***************
*** 4492,4497 ****
--- 5115,5121 ----
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mShortKeylightDelay:I
  
+     .line 2784
      return-void
  .end method
  
***************
*** 4499,4504 ****
--- 5123,5129 ----
      .locals 2
  
      .prologue
+     .line 706
      iget v0, p0, Lcom/android/server/PowerManagerService;->mStayOnConditions:I
  
      if-eqz v0, :cond_0
***************
*** 4513,4534 ****
--- 5138,5164 ----
  
      if-eqz v0, :cond_0
  
+     .line 708
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInScreenDimLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v0}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->acquire()V
  
+     .line 709
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v0}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->acquire()V
  
+     .line 714
      :goto_0
      return-void
  
+     .line 711
      :cond_0
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInScreenDimLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v0}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
  
+     .line 712
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v0}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->release()V
***************
*** 4545,4550 ****
--- 5175,5181 ----
      .parameter "force"
  
      .prologue
+     .line 2377
      iget v1, p0, Lcom/android/server/PowerManagerService;->mPokey:I
  
      and-int/lit8 v1, v1, 0x1
***************
*** 4557,4571 ****
--- 5188,5205 ----
  
      if-ne v0, v1, :cond_1
  
+     .line 2437
      :cond_0
      :goto_0
      return-void
  
+     .line 2384
      :cond_1
      iget-object v10, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v10
  
+     .line 2395
      :try_start_0
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->isScreenTurningOffLocked()Z
  
***************
*** 4573,4588 ****
--- 5207,5225 ----
  
      if-eqz v1, :cond_2
  
+     .line 2396
      const-string v1, "PowerManagerService"
  
      const-string v2, "ignoring user activity while turning off screen"
  
      invoke-static {v1, v2}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2397
      monitor-exit v10
  
      goto :goto_0
  
+     .line 2432
      :catchall_0
      move-exception v1
  
***************
*** 4592,4597 ****
--- 5229,5235 ----
  
      throw v1
  
+     .line 2401
      :cond_2
      :try_start_1
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
***************
*** 4602,4611 ****
--- 5240,5251 ----
  
      if-nez v1, :cond_3
  
+     .line 2402
      const/4 v1, 0x0
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
+     .line 2404
      :cond_3
      iget-wide v1, p0, Lcom/android/server/PowerManagerService;->mLastEventTime:J
  
***************
*** 4615,4623 ****
--- 5255,5265 ----
  
      if-eqz p7, :cond_7
  
+     .line 2405
      :cond_4
      iput-wide p1, p0, Lcom/android/server/PowerManagerService;->mLastEventTime:J
  
+     .line 2406
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
      if-eqz v1, :cond_5
***************
*** 4629,4634 ****
--- 5271,5277 ----
      :cond_5
      if-eqz p7, :cond_7
  
+     .line 2409
      :cond_6
      const/4 v1, 0x1
  
***************
*** 4640,4645 ****
--- 5283,5289 ----
  
      if-nez v1, :cond_9
  
+     .line 2410
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
      if-eqz v1, :cond_8
***************
*** 4649,4659 ****
--- 5293,5305 ----
      :goto_1
      iput v1, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
+     .line 2416
      :goto_2
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v9
  
+     .line 2417
      .local v9, uid:I
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
      :try_end_1
***************
*** 4661,4666 ****
--- 5307,5313 ----
  
      move-result-wide v7
  
+     .line 2419
      .local v7, ident:J
      :try_start_2
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
***************
*** 4672,4680 ****
--- 5319,5329 ----
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
      .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_2} :catch_0
  
+     .line 2423
      :try_start_3
      invoke-static {v7, v8}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2426
      :goto_3
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 4684,4689 ****
--- 5333,5339 ----
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
+     .line 2427
      iget v1, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
      iget v2, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
***************
*** 4696,4701 ****
--- 5346,5352 ----
  
      invoke-direct {p0, v1, v0, v2}, Lcom/android/server/PowerManagerService;->setPowerState(IZI)V
  
+     .line 2429
      const/4 v6, 0x3
  
      move-object v1, p0
***************
*** 4706,4711 ****
--- 5357,5363 ----
  
      invoke-direct/range {v1 .. v6}, Lcom/android/server/PowerManagerService;->setTimeoutLocked(JJI)V
  
+     .line 2432
      .end local v7           #ident:J
      .end local v9           #uid:I
      :cond_7
***************
*** 4713,4733 ****
--- 5365,5389 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_0
  
+     .line 2434
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mPolicy:Landroid/view/WindowManagerPolicy;
  
      if-eqz v1, :cond_0
  
+     .line 2435
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mPolicy:Landroid/view/WindowManagerPolicy;
  
      invoke-interface {v1}, Landroid/view/WindowManagerPolicy;->userActivity()V
  
      goto :goto_0
  
+     .line 2410
      :cond_8
      const/4 v1, 0x7
  
      goto :goto_1
  
+     .line 2413
      :cond_9
      :try_start_4
      iget v1, p0, Lcom/android/server/PowerManagerService;->mUserState:I
***************
*** 4738,4748 ****
--- 5394,5406 ----
  
      goto :goto_2
  
+     .line 2420
      .restart local v7       #ident:J
      .restart local v9       #uid:I
      :catch_0
      move-exception v1
  
+     .line 2423
      invoke-static {v7, v8}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto :goto_3
***************
*** 4767,4781 ****
--- 5425,5442 ----
      .parameter "ws"
  
      .prologue
+     .line 734
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v3
  
+     .line 735
      .local v3, uid:I
      invoke-static {}, Landroid/os/Binder;->getCallingPid()I
  
      move-result v4
  
+     .line 736
      .local v4, pid:I
      invoke-static {}, Landroid/os/Process;->myUid()I
  
***************
*** 4783,4788 ****
--- 5444,5450 ----
  
      if-eq v3, v0, :cond_0
  
+     .line 737
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.WAKE_LOCK"
***************
*** 4791,4806 ****
--- 5453,5472 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 739
      :cond_0
      if-eqz p4, :cond_1
  
+     .line 740
      invoke-virtual {p0, v3, v4}, Lcom/android/server/PowerManagerService;->enforceWakeSourcePermission(II)V
  
+     .line 742
      :cond_1
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v7
  
+     .line 744
      .local v7, ident:J
      :try_start_0
      iget-object v9, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
***************
*** 4819,4835 ****
--- 5485,5506 ----
  
      move-object v6, p4
  
+     .line 745
      :try_start_1
      invoke-virtual/range {v0 .. v6}, Lcom/android/server/PowerManagerService;->acquireWakeLockLocked(ILandroid/os/IBinder;IILjava/lang/String;Landroid/os/WorkSource;)V
  
+     .line 746
      monitor-exit v9
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 748
      invoke-static {v7, v8}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 750
      return-void
  
+     .line 746
      :catchall_0
      move-exception v0
  
***************
*** 4843,4848 ****
--- 5514,5520 ----
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_1
  
+     .line 748
      :catchall_1
      move-exception v0
  
***************
*** 4861,4866 ****
--- 5533,5539 ----
      .parameter "ws"
  
      .prologue
+     .line 794
      if-eqz p6, :cond_0
  
      invoke-virtual/range {p6 .. p6}, Landroid/os/WorkSource;->size()I
***************
*** 4869,4876 ****
--- 5542,5551 ----
  
      if-nez v2, :cond_0
  
+     .line 795
      const/16 p6, 0x0
  
+     .line 798
      :cond_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 4878,4886 ****
--- 5553,5563 ----
  
      move-result v9
  
+     .line 803
      .local v9, index:I
      if-gez v9, :cond_9
  
+     .line 804
      new-instance v1, Lcom/android/server/PowerManagerService$WakeLock;
  
      move-object v2, p0
***************
*** 4897,4902 ****
--- 5574,5580 ----
  
      invoke-direct/range {v1 .. v7}, Lcom/android/server/PowerManagerService$WakeLock;-><init>(Lcom/android/server/PowerManagerService;ILandroid/os/IBinder;Ljava/lang/String;II)V
  
+     .line 805
      .local v1, wl:Lcom/android/server/PowerManagerService$WakeLock;
      iget v2, v1, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 4904,4909 ****
--- 5582,5588 ----
  
      sparse-switch v2, :sswitch_data_0
  
+     .line 826
      const-string v2, "PowerManagerService"
  
      new-instance v3, Ljava/lang/StringBuilder;
***************
*** 4944,4970 ****
--- 5623,5655 ----
  
      invoke-static {v2, v3}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 916
      :cond_1
      :goto_0
      return-void
  
+     .line 808
      :sswitch_0
      iget-boolean v2, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v2, :cond_7
  
+     .line 809
      const/4 v2, 0x3
  
      iput v2, v1, Lcom/android/server/PowerManagerService$WakeLock;->minState:I
  
+     .line 830
      :goto_1
      :sswitch_1
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v2, v1}, Lcom/android/server/PowerManagerService$LockList;->addLock(Lcom/android/server/PowerManagerService$WakeLock;)V
  
+     .line 831
      if-eqz p6, :cond_2
  
+     .line 832
      new-instance v2, Landroid/os/WorkSource;
  
      move-object/from16 v0, p6
***************
*** 4973,4987 ****
--- 5658,5676 ----
  
      iput-object v2, v1, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
+     .line 834
      :cond_2
      const/4 v10, 0x1
  
+     .line 835
      .local v10, newlock:Z
      const/4 v8, 0x0
  
+     .line 836
      .local v8, diffsource:Z
      const/4 v12, 0x0
  
+     .line 857
      .local v12, oldsource:Landroid/os/WorkSource;
      :cond_3
      :goto_2
***************
*** 4991,5027 ****
--- 5680,5724 ----
  
      if-eqz v2, :cond_10
  
+     .line 862
      and-int/lit8 v2, p1, 0x3f
  
      const/16 v3, 0x20
  
      if-ne v2, v3, :cond_d
  
+     .line 863
      iget v2, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
      add-int/lit8 v2, v2, 0x1
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
+     .line 864
      iget v2, p0, Lcom/android/server/PowerManagerService;->mProximityWakeLockCount:I
  
      const/4 v3, 0x1
  
      if-ne v2, v3, :cond_4
  
+     .line 865
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->enableProximityLockLocked()V
  
+     .line 908
      :cond_4
      :goto_3
      if-eqz v8, :cond_5
  
+     .line 911
      invoke-virtual {p0, v1, v12}, Lcom/android/server/PowerManagerService;->noteStopWakeLocked(Lcom/android/server/PowerManagerService$WakeLock;Landroid/os/WorkSource;)V
  
+     .line 913
      :cond_5
      if-nez v10, :cond_6
  
      if-eqz v8, :cond_1
  
+     .line 914
      :cond_6
      move-object/from16 v0, p6
  
***************
*** 5029,5034 ****
--- 5726,5732 ----
  
      goto :goto_0
  
+     .line 811
      .end local v8           #diffsource:Z
      .end local v10           #newlock:Z
      .end local v12           #oldsource:Landroid/os/WorkSource;
***************
*** 5049,5054 ****
--- 5747,5753 ----
  
      goto :goto_4
  
+     .line 815
      :sswitch_2
      const/4 v2, 0x3
  
***************
*** 5056,5061 ****
--- 5755,5761 ----
  
      goto :goto_1
  
+     .line 818
      :sswitch_3
      const/4 v2, 0x1
  
***************
*** 5063,5068 ****
--- 5763,5769 ----
  
      goto :goto_1
  
+     .line 838
      .end local v1           #wl:Lcom/android/server/PowerManagerService$WakeLock;
      :cond_9
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
***************
*** 5073,5099 ****
--- 5774,5808 ----
  
      check-cast v1, Lcom/android/server/PowerManagerService$WakeLock;
  
+     .line 839
      .restart local v1       #wl:Lcom/android/server/PowerManagerService$WakeLock;
      const/4 v10, 0x0
  
+     .line 840
      .restart local v10       #newlock:Z
      iget-object v12, v1, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
+     .line 841
      .restart local v12       #oldsource:Landroid/os/WorkSource;
      if-eqz v12, :cond_b
  
+     .line 842
      if-nez p6, :cond_a
  
+     .line 843
      const/4 v2, 0x0
  
      iput-object v2, v1, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
+     .line 844
      const/4 v8, 0x1
  
+     .line 853
      .restart local v8       #diffsource:Z
      :goto_5
      if-eqz v8, :cond_3
  
+     .line 854
      new-instance v2, Landroid/os/WorkSource;
  
      move-object/from16 v0, p6
***************
*** 5104,5109 ****
--- 5813,5819 ----
  
      goto :goto_2
  
+     .line 846
      .end local v8           #diffsource:Z
      :cond_a
      move-object/from16 v0, p6
***************
*** 5115,5129 ****
--- 5825,5842 ----
      .restart local v8       #diffsource:Z
      goto :goto_5
  
+     .line 848
      .end local v8           #diffsource:Z
      :cond_b
      if-eqz p6, :cond_c
  
+     .line 849
      const/4 v8, 0x1
  
      .restart local v8       #diffsource:Z
      goto :goto_5
  
+     .line 851
      .end local v8           #diffsource:Z
      :cond_c
      const/4 v8, 0x0
***************
*** 5131,5136 ****
--- 5844,5850 ----
      .restart local v8       #diffsource:Z
      goto :goto_5
  
+     .line 868
      :cond_d
      iget v2, v1, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 5140,5147 ****
--- 5854,5863 ----
  
      if-eqz v2, :cond_f
  
+     .line 869
      iget v11, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
+     .line 870
      .local v11, oldWakeLockState:I
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 5151,5156 ****
--- 5867,5873 ----
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
+     .line 874
      iget v2, p0, Lcom/android/server/PowerManagerService;->mWakeLockState:I
  
      and-int/lit8 v2, v2, 0x1
***************
*** 5165,5174 ****
--- 5882,5893 ----
  
      if-nez v2, :cond_e
  
+     .line 876
      const/4 v2, 0x0
  
      iput-boolean v2, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
+     .line 895
      .end local v11           #oldWakeLockState:I
      :cond_e
      :goto_6
***************
*** 5182,5187 ****
--- 5901,5907 ----
  
      goto :goto_3
  
+     .line 893
      :cond_f
      iget v2, p0, Lcom/android/server/PowerManagerService;->mUserState:I
  
***************
*** 5201,5206 ****
--- 5921,5927 ----
  
      goto :goto_6
  
+     .line 898
      :cond_10
      and-int/lit8 v2, p1, 0x3f
  
***************
*** 5208,5227 ****
--- 5929,5952 ----
  
      if-ne v2, v3, :cond_4
  
+     .line 899
      if-eqz v10, :cond_11
  
+     .line 900
      iget v2, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
      add-int/lit8 v2, v2, 0x1
  
      iput v2, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
+     .line 901
      iget v2, p0, Lcom/android/server/PowerManagerService;->mPartialCount:I
  
      const/4 v3, 0x1
  
      if-ne v2, v3, :cond_11
  
+     .line 905
      :cond_11
      const/4 v2, 0x1
  
***************
*** 5231,5236 ****
--- 5956,5962 ----
  
      goto/16 :goto_3
  
+     .line 805
      :sswitch_data_0
      .sparse-switch
          0x1 -> :sswitch_1
***************
*** 5245,5265 ****
--- 5971,5995 ----
      .locals 7
  
      .prologue
+     .line 2908
      const-string v0, "PowerManagerService"
  
      const-string v1, "bootCompleted"
  
      invoke-static {v0, v1}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2909
      iget-object v6, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v6
  
+     .line 2910
      const/4 v0, 0x1
  
      :try_start_0
      iput-boolean v0, p0, Lcom/android/server/PowerManagerService;->mBootCompleted:Z
  
+     .line 2911
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v1
***************
*** 5274,5289 ****
--- 6004,6024 ----
  
      invoke-virtual/range {v0 .. v5}, Lcom/android/server/PowerManagerService;->userActivity(JZIZ)V
  
+     .line 2912
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateWakeLockLocked()V
  
+     .line 2913
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v0}, Ljava/lang/Object;->notifyAll()V
  
+     .line 2914
      monitor-exit v6
  
+     .line 2915
      return-void
  
+     .line 2914
      :catchall_0
      move-exception v0
  
***************
*** 5302,5307 ****
--- 6037,6043 ----
      .prologue
      const/4 v5, 0x0
  
+     .line 2369
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 5310,5315 ****
--- 6046,6052 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2370
      const-string v0, "PowerManagerService"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 5348,5355 ****
--- 6085,6094 ----
  
      move v7, v5
  
+     .line 2371
      invoke-direct/range {v0 .. v7}, Lcom/android/server/PowerManagerService;->userActivity(JJZIZ)V
  
+     .line 2372
      return-void
  .end method
  
***************
*** 5358,5363 ****
--- 6097,6103 ----
      .parameter "message"
  
      .prologue
+     .line 2619
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.REBOOT"
***************
*** 5366,5391 ****
--- 6106,6137 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2620
      new-instance v1, Lcom/android/server/PowerManagerService$12;
  
      const-string v2, "PowerManagerService.crash()"
  
      invoke-direct {v1, p0, v2, p1}, Lcom/android/server/PowerManagerService$12;-><init>(Lcom/android/server/PowerManagerService;Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2624
      .local v1, t:Ljava/lang/Thread;
      :try_start_0
      invoke-virtual {v1}, Ljava/lang/Thread;->start()V
  
+     .line 2625
      invoke-virtual {v1}, Ljava/lang/Thread;->join()V
      :try_end_0
      .catch Ljava/lang/InterruptedException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 2629
      :goto_0
      return-void
  
+     .line 2626
      :catch_0
      move-exception v0
  
+     .line 2627
      .local v0, e:Ljava/lang/InterruptedException;
      const-string v2, "PowerManagerService"
  
***************
*** 5401,5406 ****
--- 6147,6153 ----
      .parameter "args"
  
      .prologue
+     .line 1112
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
***************
*** 5413,5418 ****
--- 6160,6166 ----
  
      if-eqz v11, :cond_0
  
+     .line 1114
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5453,5466 ****
--- 6201,6217 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1211
      :goto_0
      return-void
  
+     .line 1120
      :cond_0
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v6
  
+     .line 1122
      .local v6, now:J
      move-object/from16 v0, p0
  
***************
*** 5468,5473 ****
--- 6219,6225 ----
  
      monitor-enter v12
  
+     .line 1123
      :try_start_0
      const-string v11, "Power Manager State:"
  
***************
*** 5475,5480 ****
--- 6227,6233 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1124
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5541,5546 ****
--- 6294,6300 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1128
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5567,5572 ****
--- 6321,6327 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1129
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5597,5602 ****
--- 6352,6358 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1130
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5627,5632 ****
--- 6383,6389 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1131
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5657,5662 ****
--- 6414,6420 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1132
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5691,5696 ****
--- 6449,6455 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1133
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5753,5758 ****
--- 6512,6518 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1135
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5821,5826 ****
--- 6581,6587 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1139
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5861,5866 ****
--- 6622,6628 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1141
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 5933,5938 ****
--- 6695,6701 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1143
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6005,6010 ****
--- 6768,6774 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1145
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6045,6050 ****
--- 6809,6815 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1146
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6085,6090 ****
--- 6850,6856 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1148
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6139,6144 ****
--- 6905,6911 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1150
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6193,6198 ****
--- 6960,6966 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1153
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6233,6238 ****
--- 7001,7007 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1155
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6259,6264 ****
--- 7028,7034 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1156
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6285,6290 ****
--- 7055,7061 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1157
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6311,6316 ****
--- 7082,7088 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1158
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6337,6342 ****
--- 7109,7115 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1159
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6363,6368 ****
--- 7136,7142 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1160
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6389,6394 ****
--- 7163,7169 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1161
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6415,6420 ****
--- 7190,7196 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1162
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6441,6446 ****
--- 7217,7223 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1163
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6467,6472 ****
--- 7244,7250 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1164
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6493,6498 ****
--- 7271,7277 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1165
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6519,6524 ****
--- 7298,7304 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1166
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6545,6550 ****
--- 7325,7331 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1167
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6585,6590 ****
--- 7366,7372 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1169
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6625,6630 ****
--- 7407,7413 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1171
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6679,6684 ****
--- 7462,7468 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1174
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6705,6710 ****
--- 7489,7495 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1175
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6731,6736 ****
--- 7516,7522 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1176
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
***************
*** 6741,6746 ****
--- 7527,7533 ----
  
      invoke-virtual {v11, v0, v13}, Lcom/android/server/PowerManagerService$BrightnessState;->dump(Ljava/io/PrintWriter;Ljava/lang/String;)V
  
+     .line 1178
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
***************
*** 6749,6757 ****
--- 7536,7546 ----
  
      move-result v1
  
+     .line 1179
      .local v1, N:I
      invoke-virtual/range {p2 .. p2}, Ljava/io/PrintWriter;->println()V
  
+     .line 1180
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6780,6791 ****
--- 7569,7582 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1181
      const/4 v4, 0x0
  
      .local v4, i:I
      :goto_1
      if-ge v4, v1, :cond_3
  
+     .line 1182
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
***************
*** 6796,6801 ****
--- 7587,7593 ----
  
      check-cast v10, Lcom/android/server/PowerManagerService$WakeLock;
  
+     .line 1183
      .local v10, wl:Lcom/android/server/PowerManagerService$WakeLock;
      iget v11, v10, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 6805,6813 ****
--- 7597,7607 ----
  
      move-result-object v9
  
+     .line 1184
      .local v9, type:Ljava/lang/String;
      const-string v2, ""
  
+     .line 1185
      .local v2, acquireCausesWakeup:Ljava/lang/String;
      iget v11, v10, Lcom/android/server/PowerManagerService$WakeLock;->flags:I
  
***************
*** 6817,6834 ****
--- 7611,7633 ----
  
      if-eqz v11, :cond_1
  
+     .line 1186
      const-string v2, "ACQUIRE_CAUSES_WAKEUP "
  
+     .line 1188
      :cond_1
      const-string v3, ""
  
+     .line 1189
      .local v3, activated:Ljava/lang/String;
      iget-boolean v11, v10, Lcom/android/server/PowerManagerService$WakeLock;->activated:Z
  
      if-eqz v11, :cond_2
  
+     .line 1190
      const-string v3, " activated"
  
+     .line 1192
      :cond_2
      new-instance v11, Ljava/lang/StringBuilder;
  
***************
*** 6920,6929 ****
--- 7719,7730 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1181
      add-int/lit8 v4, v4, 0x1
  
      goto/16 :goto_1
  
+     .line 1197
      .end local v2           #acquireCausesWakeup:Ljava/lang/String;
      .end local v3           #activated:Ljava/lang/String;
      .end local v9           #type:Ljava/lang/String;
***************
*** 6931,6936 ****
--- 7732,7738 ----
      :cond_3
      invoke-virtual/range {p2 .. p2}, Ljava/io/PrintWriter;->println()V
  
+     .line 1198
      new-instance v11, Ljava/lang/StringBuilder;
  
      invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 6967,6972 ****
--- 7769,7775 ----
  
      invoke-virtual {v0, v11}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
  
+     .line 1199
      move-object/from16 v0, p0
  
      iget-object v11, v0, Lcom/android/server/PowerManagerService;->mPokeLocks:Ljava/util/HashMap;
***************
*** 6993,6998 ****
--- 7796,7802 ----
  
      check-cast v8, Lcom/android/server/PowerManagerService$PokeLock;
  
+     .line 1200
      .local v8, p:Lcom/android/server/PowerManagerService$PokeLock;
      new-instance v11, Ljava/lang/StringBuilder;
  
***************
*** 7065,7070 ****
--- 7869,7875 ----
  
      goto :goto_2
  
+     .line 1210
      .end local v1           #N:I
      .end local v4           #i:I
      .end local v5           #i$:Ljava/util/Iterator;
***************
*** 7078,7083 ****
--- 7883,7889 ----
  
      throw v11
  
+     .line 1200
      .restart local v1       #N:I
      .restart local v4       #i:I
      .restart local v5       #i$:Ljava/util/Iterator;
***************
*** 7098,7107 ****
--- 7904,7915 ----
  
      goto :goto_5
  
+     .line 1209
      .end local v8           #p:Lcom/android/server/PowerManagerService$PokeLock;
      :cond_7
      invoke-virtual/range {p2 .. p2}, Ljava/io/PrintWriter;->println()V
  
+     .line 1210
      monitor-exit v12
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
***************
*** 7114,7128 ****
--- 7922,7940 ----
      .parameter "enabled"
  
      .prologue
+     .line 2709
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 2710
      :try_start_0
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mUserActivityAllowed:Z
  
+     .line 2711
      if-nez p1, :cond_0
  
+     .line 2713
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v2
***************
*** 7131,7141 ****
--- 7943,7956 ----
  
      invoke-direct {p0, v2, v3, v0}, Lcom/android/server/PowerManagerService;->setTimeoutLocked(JI)V
  
+     .line 2715
      :cond_0
      monitor-exit v1
  
+     .line 2716
      return-void
  
+     .line 2715
      :catchall_0
      move-exception v0
  
***************
*** 7152,7166 ****
--- 7967,7984 ----
      .parameter "pid"
  
      .prologue
+     .line 726
      invoke-static {}, Landroid/os/Process;->myUid()I
  
      move-result v0
  
      if-ne p1, v0, :cond_0
  
+     .line 731
      :goto_0
      return-void
  
+     .line 729
      :cond_0
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
***************
*** 7177,7182 ****
--- 7995,8001 ----
      .locals 1
  
      .prologue
+     .line 2860
      :goto_0
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mPolicy:Landroid/view/WindowManagerPolicy;
  
***************
*** 7186,7191 ****
--- 8005,8011 ----
  
      if-nez v0, :cond_1
  
+     .line 2862
      :cond_0
      :try_start_0
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
***************
*** 7196,7206 ****
--- 8016,8028 ----
  
      goto :goto_0
  
+     .line 2863
      :catch_0
      move-exception v0
  
      goto :goto_0
  
+     .line 2867
      :cond_1
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mPolicy:Landroid/view/WindowManagerPolicy;
  
***************
*** 7211,7225 ****
--- 8033,8051 ----
      .locals 2
  
      .prologue
+     .line 2923
      const/16 v0, 0x1f
  
+     .line 2927
      .local v0, result:I
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mProximitySensor:Landroid/hardware/Sensor;
  
      if-eqz v1, :cond_0
  
+     .line 2928
      or-int/lit8 v0, v0, 0x20
  
+     .line 2931
      :cond_0
      return v0
  .end method
***************
*** 7229,7238 ****
--- 8055,8066 ----
      .parameter "time"
  
      .prologue
+     .line 2563
      const/4 v0, 0x2
  
      invoke-virtual {p0, p1, p2, v0}, Lcom/android/server/PowerManagerService;->goToSleepWithReason(JI)V
  
+     .line 2564
      return-void
  .end method
  
***************
*** 7242,7247 ****
--- 8070,8076 ----
      .parameter "reason"
  
      .prologue
+     .line 2572
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 7250,7266 ****
--- 8079,8100 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2573
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 2574
      :try_start_0
      invoke-direct {p0, p1, p2, p3}, Lcom/android/server/PowerManagerService;->goToSleepLocked(JI)V
  
+     .line 2575
      monitor-exit v1
  
+     .line 2576
      return-void
  
+     .line 2575
      :catchall_0
      move-exception v0
  
***************
*** 7283,7308 ****
--- 8117,8149 ----
  
      const/4 v2, 0x0
  
+     .line 505
      iput-object p2, p0, Lcom/android/server/PowerManagerService;->mLightsService:Lcom/android/server/LightsService;
  
+     .line 506
      iput-object p1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
+     .line 507
      iput-object p3, p0, Lcom/android/server/PowerManagerService;->mActivityService:Landroid/app/IActivityManager;
  
+     .line 508
      invoke-static {}, Lcom/android/server/am/BatteryStatsService;->getService()Lcom/android/internal/app/IBatteryStats;
  
      move-result-object v0
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
  
+     .line 509
      iput-object p4, p0, Lcom/android/server/PowerManagerService;->mBatteryService:Lcom/android/server/BatteryService;
  
+     .line 511
      invoke-virtual {p2, v2}, Lcom/android/server/LightsService;->getLight(I)Lcom/android/server/LightsService$Light;
  
      move-result-object v0
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mLcdLight:Lcom/android/server/LightsService$Light;
  
+     .line 512
      const/4 v0, 0x2
  
      invoke-virtual {p2, v0}, Lcom/android/server/LightsService;->getLight(I)Lcom/android/server/LightsService$Light;
***************
*** 7311,7322 ****
--- 8152,8165 ----
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mButtonLight:Lcom/android/server/LightsService$Light;
  
+     .line 513
      invoke-virtual {p2, v1}, Lcom/android/server/LightsService;->getLight(I)Lcom/android/server/LightsService$Light;
  
      move-result-object v0
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mKeyboardLight:Lcom/android/server/LightsService$Light;
  
+     .line 514
      const/4 v0, 0x5
  
      invoke-virtual {p2, v0}, Lcom/android/server/LightsService;->getLight(I)Lcom/android/server/LightsService$Light;
***************
*** 7325,7345 ****
--- 8168,8194 ----
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mAttentionLight:Lcom/android/server/LightsService$Light;
  
+     .line 516
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->nativeInit()V
  
+     .line 517
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 518
      :try_start_0
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateNativePowerStateLocked()V
  
+     .line 519
      monitor-exit v1
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 521
      iput-boolean v2, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
  
+     .line 522
      new-instance v0, Lcom/android/server/PowerManagerService$1;
  
      const-string v1, "PowerManagerService.mScreenOffThread"
***************
*** 7348,7361 ****
--- 8197,8213 ----
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffThread:Landroid/os/HandlerThread;
  
+     .line 532
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffThread:Landroid/os/HandlerThread;
  
      invoke-virtual {v0}, Landroid/os/HandlerThread;->start()V
  
+     .line 534
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffThread:Landroid/os/HandlerThread;
  
      monitor-enter v1
  
+     .line 535
      :goto_0
      :try_start_1
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
***************
*** 7364,7369 ****
--- 8216,8222 ----
  
      if-nez v0, :cond_0
  
+     .line 537
      :try_start_2
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mScreenOffThread:Landroid/os/HandlerThread;
  
***************
*** 7374,7384 ****
--- 8227,8239 ----
  
      goto :goto_0
  
+     .line 538
      :catch_0
      move-exception v0
  
      goto :goto_0
  
+     .line 519
      :catchall_0
      move-exception v0
  
***************
*** 7389,7402 ****
--- 8244,8260 ----
  
      throw v0
  
+     .line 542
      :cond_0
      :try_start_4
      monitor-exit v1
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_1
  
+     .line 544
      iput-boolean v2, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
  
+     .line 545
      new-instance v0, Lcom/android/server/PowerManagerService$2;
  
      const-string v1, "PowerManagerService"
***************
*** 7405,7418 ****
--- 8263,8279 ----
  
      iput-object v0, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
+     .line 552
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
      invoke-virtual {v0}, Landroid/os/HandlerThread;->start()V
  
+     .line 554
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
      monitor-enter v1
  
+     .line 555
      :goto_1
      :try_start_5
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
***************
*** 7421,7426 ****
--- 8282,8288 ----
  
      if-nez v0, :cond_1
  
+     .line 557
      :try_start_6
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
***************
*** 7431,7441 ****
--- 8293,8305 ----
  
      goto :goto_1
  
+     .line 558
      :catch_1
      move-exception v0
  
      goto :goto_1
  
+     .line 542
      :catchall_1
      move-exception v0
  
***************
*** 7446,7478 ****
--- 8310,8351 ----
  
      throw v0
  
+     .line 562
      :cond_1
      :try_start_8
      monitor-exit v1
      :try_end_8
      .catchall {:try_start_8 .. :try_end_8} :catchall_2
  
+     .line 564
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->nativeInit()V
  
+     .line 565
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 566
      :try_start_9
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateNativePowerStateLocked()V
  
+     .line 569
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->forceUserActivityLocked()V
  
+     .line 570
      const/4 v0, 0x1
  
      iput-boolean v0, p0, Lcom/android/server/PowerManagerService;->mInitialized:Z
  
+     .line 571
      monitor-exit v1
      :try_end_9
      .catchall {:try_start_9 .. :try_end_9} :catchall_3
  
+     .line 572
      return-void
  
+     .line 562
      :catchall_2
      move-exception v0
  
***************
*** 7483,7488 ****
--- 8356,8362 ----
  
      throw v0
  
+     .line 571
      :catchall_3
      move-exception v0
  
***************
*** 7508,7519 ****
--- 8382,8395 ----
  
      const/4 v11, 0x1
  
+     .line 575
      new-instance v1, Landroid/os/Handler;
  
      invoke-direct {v1}, Landroid/os/Handler;-><init>()V
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
+     .line 577
      new-instance v1, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      const-string v3, "sleep_broadcast"
***************
*** 7522,7527 ****
--- 8398,8404 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mBroadcastWakeLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
+     .line 579
      new-instance v1, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      const-string v3, "StayOnWhilePluggedIn Screen Dim"
***************
*** 7530,7535 ****
--- 8407,8413 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInScreenDimLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
+     .line 581
      new-instance v1, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      const-string v3, "StayOnWhilePluggedIn Partial"
***************
*** 7538,7543 ****
--- 8416,8422 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mStayOnWhilePluggedInPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
+     .line 583
      new-instance v1, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      const-string v3, "PreventScreenOn Partial"
***************
*** 7546,7551 ****
--- 8425,8431 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOnPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
+     .line 585
      new-instance v1, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      const-string v3, "Proximity Partial"
***************
*** 7554,7559 ****
--- 8434,8440 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mProximityPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
+     .line 588
      new-instance v1, Landroid/content/Intent;
  
      const-string v3, "android.intent.action.SCREEN_ON"
***************
*** 7562,7571 ****
--- 8443,8454 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenOnIntent:Landroid/content/Intent;
  
+     .line 589
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenOnIntent:Landroid/content/Intent;
  
      invoke-virtual {v1, v5}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
  
+     .line 590
      new-instance v1, Landroid/content/Intent;
  
      const-string v3, "android.intent.action.SCREEN_OFF"
***************
*** 7574,7589 ****
--- 8457,8475 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffIntent:Landroid/content/Intent;
  
+     .line 591
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mScreenOffIntent:Landroid/content/Intent;
  
      invoke-virtual {v1, v5}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
  
+     .line 593
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
  
      move-result-object v7
  
+     .line 595
      .local v7, resources:Landroid/content/res/Resources;
      const v1, 0x1110012
  
***************
*** 7593,7598 ****
--- 8479,8485 ----
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mAnimateScreenLights:Z
  
+     .line 598
      const v1, 0x1110011
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getBoolean(I)Z
***************
*** 7601,7606 ****
--- 8488,8494 ----
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUnplugTurnsOnScreen:Z
  
+     .line 601
      const v1, 0x10e001e
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getInteger(I)I
***************
*** 7609,7614 ****
--- 8497,8503 ----
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessDim:I
  
+     .line 605
      const v1, 0x111000f
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getBoolean(I)Z
***************
*** 7617,7626 ****
--- 8506,8517 ----
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
+     .line 607
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v1, :cond_0
  
+     .line 608
      const v1, 0x1070025
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getIntArray(I)[I
***************
*** 7629,7634 ****
--- 8520,8526 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mAutoBrightnessLevels:[I
  
+     .line 610
      const v1, 0x1070026
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getIntArray(I)[I
***************
*** 7637,7642 ****
--- 8529,8535 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mLcdBacklightValues:[I
  
+     .line 612
      const v1, 0x1070027
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getIntArray(I)[I
***************
*** 7645,7650 ****
--- 8538,8544 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mButtonBacklightValues:[I
  
+     .line 614
      const v1, 0x1070028
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getIntArray(I)[I
***************
*** 7653,7658 ****
--- 8547,8553 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mKeyboardBacklightValues:[I
  
+     .line 616
      const v1, 0x10e001f
  
      invoke-virtual {v7, v1}, Landroid/content/res/Resources;->getInteger(I)I
***************
*** 7661,7666 ****
--- 8556,8562 ----
  
      iput v1, p0, Lcom/android/server/PowerManagerService;->mLightSensorWarmupTime:I
  
+     .line 620
      :cond_0
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
***************
*** 7668,7673 ****
--- 8564,8570 ----
  
      move-result-object v0
  
+     .line 621
      .local v0, resolver:Landroid/content/ContentResolver;
      sget-object v1, Landroid/provider/Settings$System;->CONTENT_URI:Landroid/net/Uri;
  
***************
*** 7713,7718 ****
--- 8610,8616 ----
  
      move-result-object v8
  
+     .line 631
      .local v8, settingsCursor:Landroid/database/Cursor;
      new-instance v1, Landroid/content/ContentQueryMap;
  
***************
*** 7724,7751 ****
--- 8622,8655 ----
  
      iput-object v1, p0, Lcom/android/server/PowerManagerService;->mSettings:Landroid/content/ContentQueryMap;
  
+     .line 632
      new-instance v9, Lcom/android/server/PowerManagerService$SettingsObserver;
  
      invoke-direct {v9, p0, v2}, Lcom/android/server/PowerManagerService$SettingsObserver;-><init>(Lcom/android/server/PowerManagerService;Lcom/android/server/PowerManagerService$1;)V
  
+     .line 633
      .local v9, settingsObserver:Lcom/android/server/PowerManagerService$SettingsObserver;
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mSettings:Landroid/content/ContentQueryMap;
  
      invoke-virtual {v1, v9}, Landroid/content/ContentQueryMap;->addObserver(Ljava/util/Observer;)V
  
+     .line 636
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mSettings:Landroid/content/ContentQueryMap;
  
      invoke-virtual {v9, v1, v2}, Lcom/android/server/PowerManagerService$SettingsObserver;->update(Ljava/util/Observable;Ljava/lang/Object;)V
  
+     .line 639
      new-instance v6, Landroid/content/IntentFilter;
  
      invoke-direct {v6}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 640
      .local v6, filter:Landroid/content/IntentFilter;
      const-string v1, "android.intent.action.BATTERY_CHANGED"
  
      invoke-virtual {v6, v1}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 641
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      new-instance v3, Lcom/android/server/PowerManagerService$BatteryReceiver;
***************
*** 7754,7769 ****
--- 8658,8676 ----
  
      invoke-virtual {v1, v3, v6}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 642
      new-instance v6, Landroid/content/IntentFilter;
  
      .end local v6           #filter:Landroid/content/IntentFilter;
      invoke-direct {v6}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 643
      .restart local v6       #filter:Landroid/content/IntentFilter;
      const-string v1, "android.intent.action.BOOT_COMPLETED"
  
      invoke-virtual {v6, v1}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 644
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      new-instance v3, Lcom/android/server/PowerManagerService$BootCompletedReceiver;
***************
*** 7772,7787 ****
--- 8679,8697 ----
  
      invoke-virtual {v1, v3, v6}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 645
      new-instance v6, Landroid/content/IntentFilter;
  
      .end local v6           #filter:Landroid/content/IntentFilter;
      invoke-direct {v6}, Landroid/content/IntentFilter;-><init>()V
  
+     .line 646
      .restart local v6       #filter:Landroid/content/IntentFilter;
      const-string v1, "android.intent.action.DOCK_EVENT"
  
      invoke-virtual {v6, v1}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V
  
+     .line 647
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      new-instance v3, Lcom/android/server/PowerManagerService$DockReceiver;
***************
*** 7790,7795 ****
--- 8700,8706 ----
  
      invoke-virtual {v1, v3, v6}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
  
+     .line 650
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
***************
*** 7808,7832 ****
--- 8719,8750 ----
  
      invoke-virtual {v1, v2, v11, v3}, Landroid/content/ContentResolver;->registerContentObserver(Landroid/net/Uri;ZLandroid/database/ContentObserver;)V
  
+     .line 657
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->updateSettingsValues()V
  
+     .line 659
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
      monitor-enter v2
  
+     .line 660
      const/4 v1, 0x1
  
      :try_start_0
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mInitComplete:Z
  
+     .line 661
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
  
      invoke-virtual {v1}, Ljava/lang/Object;->notifyAll()V
  
+     .line 662
      monitor-exit v2
  
+     .line 663
      return-void
  
+     .line 662
      :catchall_0
      move-exception v1
  
***************
*** 7841,7850 ****
--- 8759,8770 ----
      .locals 3
  
      .prologue
+     .line 2303
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 2304
      :try_start_0
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 7866,7871 ****
--- 8786,8792 ----
  
      goto :goto_0
  
+     .line 2305
      :catchall_0
      move-exception v0
  
***************
*** 7880,7889 ****
--- 8801,8812 ----
      .locals 2
  
      .prologue
+     .line 2297
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 2298
      :try_start_0
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 7903,7908 ****
--- 8826,8832 ----
  
      goto :goto_0
  
+     .line 2299
      :catchall_0
      move-exception v0
  
***************
*** 7917,7922 ****
--- 8841,8847 ----
      .locals 4
  
      .prologue
+     .line 1531
      iget-wide v0, p0, Lcom/android/server/PowerManagerService;->mLastTouchDown:J
  
      const-wide/16 v2, 0x0
***************
*** 7925,7942 ****
--- 8850,8870 ----
  
      if-nez v0, :cond_0
  
+     .line 1532
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
  
      move-result-wide v0
  
      iput-wide v0, p0, Lcom/android/server/PowerManagerService;->mLastTouchDown:J
  
+     .line 1533
      iget v0, p0, Lcom/android/server/PowerManagerService;->mTouchCycles:I
  
      add-int/lit8 v0, v0, 0x1
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mTouchCycles:I
  
+     .line 1536
      :cond_0
      return-void
  .end method
***************
*** 7945,7950 ****
--- 8873,8879 ----
      .locals 6
  
      .prologue
+     .line 1523
      iget-wide v0, p0, Lcom/android/server/PowerManagerService;->mTotalTouchDownTime:J
  
      invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
***************
*** 7959,7968 ****
--- 8888,8899 ----
  
      iput-wide v0, p0, Lcom/android/server/PowerManagerService;->mTotalTouchDownTime:J
  
+     .line 1524
      const-wide/16 v0, 0x0
  
      iput-wide v0, p0, Lcom/android/server/PowerManagerService;->mLastTouchDown:J
  
+     .line 1526
      return-void
  .end method
  
***************
*** 7970,7975 ****
--- 8901,8907 ----
      .locals 2
  
      .prologue
+     .line 2919
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
***************
*** 7977,7984 ****
--- 8909,8918 ----
      :try_start_0
      monitor-exit v1
  
+     .line 2920
      return-void
  
+     .line 2919
      :catchall_0
      move-exception v0
  
***************
*** 7995,8011 ****
--- 8929,8949 ----
      .parameter "ws"
  
      .prologue
+     .line 753
      iget v2, p1, Lcom/android/server/PowerManagerService$WakeLock;->monitorType:I
  
      if-ltz v2, :cond_0
  
+     .line 754
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 756
      .local v0, origId:J
      if-eqz p2, :cond_1
  
+     .line 757
      :try_start_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
  
***************
*** 8020,8033 ****
--- 8958,8974 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 765
      :goto_0
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 768
      .end local v0           #origId:J
      :cond_0
      :goto_1
      return-void
  
+     .line 760
      .restart local v0       #origId:J
      :cond_1
      :try_start_1
***************
*** 8048,8056 ****
--- 8989,8999 ----
  
      goto :goto_0
  
+     .line 762
      :catch_0
      move-exception v2
  
+     .line 765
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto :goto_1
***************
*** 8069,8085 ****
--- 9012,9032 ----
      .parameter "ws"
  
      .prologue
+     .line 771
      iget v2, p1, Lcom/android/server/PowerManagerService$WakeLock;->monitorType:I
  
      if-ltz v2, :cond_0
  
+     .line 772
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
  
      move-result-wide v0
  
+     .line 774
      .local v0, origId:J
      if-eqz p2, :cond_1
  
+     .line 775
      :try_start_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
  
***************
*** 8094,8107 ****
--- 9041,9057 ----
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
      .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 783
      :goto_0
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 786
      .end local v0           #origId:J
      :cond_0
      :goto_1
      return-void
  
+     .line 778
      .restart local v0       #origId:J
      :cond_1
      :try_start_1
***************
*** 8122,8130 ****
--- 9072,9082 ----
  
      goto :goto_0
  
+     .line 780
      :catch_0
      move-exception v2
  
+     .line 783
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto :goto_1
***************
*** 8142,8147 ****
--- 9094,9100 ----
      .parameter "prevent"
  
      .prologue
+     .line 1568
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.DEVICE_POWER"
***************
*** 8150,8172 ****
--- 9103,9130 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1570
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v2
  
+     .line 1571
      if-eqz p1, :cond_0
  
+     .line 1575
      :try_start_0
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOnPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
  
      invoke-virtual {v1}, Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;->acquire()V
  
+     .line 1580
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mForceReenableScreenTask:Ljava/lang/Runnable;
  
      invoke-virtual {v1, v3}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 1581
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mForceReenableScreenTask:Ljava/lang/Runnable;
***************
*** 8175,8200 ****
--- 9133,9164 ----
  
      invoke-virtual {v1, v3, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
  
+     .line 1586
      const/4 v1, 0x1
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOn:Z
  
+     .line 1613
      :goto_0
      monitor-exit v2
  
+     .line 1614
      return-void
  
+     .line 1589
      :cond_0
      const/4 v1, 0x0
  
      iput-boolean v1, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOn:Z
  
+     .line 1593
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mForceReenableScreenTask:Ljava/lang/Runnable;
  
      invoke-virtual {v1, v3}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
  
+     .line 1598
      iget-boolean v1, p0, Lcom/android/server/PowerManagerService;->mProximitySensorActive:Z
  
      if-nez v1, :cond_1
***************
*** 8205,8219 ****
--- 9169,9186 ----
  
      if-eqz v1, :cond_1
  
+     .line 1603
      const/4 v1, 0x1
  
      invoke-direct {p0, v1}, Lcom/android/server/PowerManagerService;->setScreenStateLocked(Z)I
  
      move-result v0
  
+     .line 1604
      .local v0, err:I
      if-eqz v0, :cond_1
  
+     .line 1605
      const-string v1, "PowerManagerService"
  
      new-instance v3, Ljava/lang/StringBuilder;
***************
*** 8236,8241 ****
--- 9203,9209 ----
  
      invoke-static {v1, v3}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1611
      .end local v0           #err:I
      :cond_1
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mPreventScreenOnPartialLock:Lcom/android/server/PowerManagerService$UnsynchronizedWakeLock;
***************
*** 8244,8249 ****
--- 9212,9218 ----
  
      goto :goto_0
  
+     .line 1613
      :catchall_0
      move-exception v1
  
***************
*** 8259,8264 ****
--- 9228,9234 ----
      .parameter "reason"
  
      .prologue
+     .line 2584
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v3, "android.permission.REBOOT"
***************
*** 8267,8272 ****
--- 9237,9243 ----
  
      invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2586
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      if-eqz v2, :cond_0
***************
*** 8277,8282 ****
--- 9248,9254 ----
  
      if-nez v2, :cond_1
  
+     .line 2587
      :cond_0
      new-instance v2, Ljava/lang/IllegalStateException;
  
***************
*** 8286,8306 ****
--- 9258,9283 ----
  
      throw v2
  
+     .line 2590
      :cond_1
      move-object v0, p1
  
+     .line 2591
      .local v0, finalReason:Ljava/lang/String;
      new-instance v1, Lcom/android/server/PowerManagerService$11;
  
      invoke-direct {v1, p0, v0}, Lcom/android/server/PowerManagerService$11;-><init>(Lcom/android/server/PowerManagerService;Ljava/lang/String;)V
  
+     .line 2600
      .local v1, runnable:Ljava/lang/Runnable;
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mHandler:Landroid/os/Handler;
  
      invoke-virtual {v2, v1}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z
  
+     .line 2603
      monitor-enter v1
  
+     .line 2606
      :goto_0
      :try_start_0
      invoke-virtual {v1}, Ljava/lang/Object;->wait()V
***************
*** 8310,8320 ****
--- 9287,9299 ----
  
      goto :goto_0
  
+     .line 2607
      :catch_0
      move-exception v2
  
      goto :goto_0
  
+     .line 2610
      :catchall_0
      move-exception v2
  
***************
*** 8332,8341 ****
--- 9311,9322 ----
      .parameter "flags"
  
      .prologue
+     .line 941
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v0
  
+     .line 942
      .local v0, uid:I
      invoke-static {}, Landroid/os/Process;->myUid()I
  
***************
*** 8343,8348 ****
--- 9324,9330 ----
  
      if-eq v0, v1, :cond_0
  
+     .line 943
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.WAKE_LOCK"
***************
*** 8351,8370 ****
--- 9333,9357 ----
  
      invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 946
      :cond_0
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v2
  
+     .line 947
      const/4 v1, 0x0
  
      :try_start_0
      invoke-direct {p0, p1, p2, v1}, Lcom/android/server/PowerManagerService;->releaseWakeLockLocked(Landroid/os/IBinder;IZ)V
  
+     .line 948
      monitor-exit v2
  
+     .line 949
      return-void
  
+     .line 948
      :catchall_0
      move-exception v1
  
***************
*** 8383,8388 ****
--- 9370,9376 ----
      .prologue
      const/4 v1, 0x0
  
+     .line 2960
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v2, "android.permission.DEVICE_POWER"
***************
*** 8391,8396 ****
--- 9379,9385 ----
  
      invoke-virtual {v0, v2, v3}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2961
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mAttentionLight:Lcom/android/server/LightsService$Light;
  
      const/4 v3, 0x2
***************
*** 8402,8412 ****
--- 9391,9403 ----
      :goto_0
      invoke-virtual {v2, p2, v3, v0, v1}, Lcom/android/server/LightsService$Light;->setFlashing(IIII)V
  
+     .line 2962
      return-void
  
      :cond_0
      move v0, v1
  
+     .line 2961
      goto :goto_0
  .end method
  
***************
*** 8415,8420 ****
--- 9406,9412 ----
      .parameter "brightness"
  
      .prologue
+     .line 2935
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v4, "android.permission.DEVICE_POWER"
***************
*** 8423,8432 ****
--- 9415,9426 ----
  
      invoke-virtual {v3, v4, v5}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2937
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v4
  
+     .line 2938
      :try_start_0
      iget v3, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessDim:I
  
***************
*** 8434,8443 ****
--- 9428,9439 ----
  
      move-result p1
  
+     .line 2939
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mLcdLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v3, p1}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2940
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mKeyboardLight:Lcom/android/server/LightsService$Light;
  
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
***************
*** 8449,8464 ****
--- 9445,9463 ----
      :goto_0
      invoke-virtual {v5, v3}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2941
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mButtonLight:Lcom/android/server/LightsService$Light;
  
      invoke-virtual {v3, p1}, Lcom/android/server/LightsService$Light;->setBrightness(I)V
  
+     .line 2942
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
      move-result-wide v1
  
+     .line 2944
      .local v1, identity:J
      :try_start_1
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
***************
*** 8468,8476 ****
--- 9467,9477 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 2948
      :try_start_2
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2952
      :goto_1
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 8478,8513 ****
--- 9479,9522 ----
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
  
+     .line 2953
      :try_start_3
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      iput p1, v3, Lcom/android/server/PowerManagerService$BrightnessState;->targetValue:I
  
+     .line 2954
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mScreenBrightness:Lcom/android/server/PowerManagerService$BrightnessState;
  
      invoke-virtual {v3}, Lcom/android/server/PowerManagerService$BrightnessState;->jumpToTargetLocked()V
  
+     .line 2955
      monitor-exit v5
      :try_end_3
      .catchall {:try_start_3 .. :try_end_3} :catchall_2
  
+     .line 2956
      :try_start_4
      monitor-exit v4
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_0
  
+     .line 2957
      return-void
  
+     .line 2940
      .end local v1           #identity:J
      :cond_0
      const/4 v3, 0x0
  
      goto :goto_0
  
+     .line 2945
      .restart local v1       #identity:J
      :catch_0
      move-exception v0
  
+     .line 2946
      .local v0, e:Landroid/os/RemoteException;
      :try_start_5
      const-string v3, "PowerManagerService"
***************
*** 8518,8528 ****
--- 9527,9539 ----
      :try_end_5
      .catchall {:try_start_5 .. :try_end_5} :catchall_1
  
+     .line 2948
      :try_start_6
      invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto :goto_1
  
+     .line 2956
      .end local v0           #e:Landroid/os/RemoteException;
      .end local v1           #identity:J
      :catchall_0
***************
*** 8534,8539 ****
--- 9545,9551 ----
  
      throw v3
  
+     .line 2948
      .restart local v1       #identity:J
      :catchall_1
      move-exception v3
***************
*** 8545,8550 ****
--- 9557,9563 ----
      :try_end_7
      .catchall {:try_start_7 .. :try_end_7} :catchall_0
  
+     .line 2955
      :catchall_2
      move-exception v3
  
***************
*** 8564,8569 ****
--- 9577,9583 ----
      .parameter "brightness"
  
      .prologue
+     .line 1631
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 8572,8605 ****
--- 9586,9627 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1634
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 1635
      :try_start_0
      iget v0, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
      if-eq v0, p1, :cond_0
  
+     .line 1636
      iput p1, p0, Lcom/android/server/PowerManagerService;->mButtonBrightnessOverride:I
  
+     .line 1637
      invoke-virtual {p0}, Lcom/android/server/PowerManagerService;->isScreenOn()Z
  
      move-result v0
  
      if-eqz v0, :cond_0
  
+     .line 1638
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      const/16 v2, 0xc
  
      invoke-direct {p0, v0, v2}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
+     .line 1641
      :cond_0
      monitor-exit v1
  
+     .line 1642
      return-void
  
+     .line 1641
      :catchall_0
      move-exception v0
  
***************
*** 8615,8641 ****
--- 9637,9669 ----
      .parameter "visible"
  
      .prologue
+     .line 2676
      iget-object v7, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v7
  
+     .line 2680
      :try_start_0
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
      if-eq v0, p1, :cond_1
  
+     .line 2681
      iput-boolean p1, p0, Lcom/android/server/PowerManagerService;->mKeyboardVisible:Z
  
+     .line 2685
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      and-int/lit8 v0, v0, 0x1
  
      if-eqz v0, :cond_1
  
+     .line 2686
      iget-boolean v0, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v0, :cond_0
  
+     .line 2688
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
      const/4 v1, 0x0
***************
*** 8644,8660 ****
--- 9672,9692 ----
  
      if-ltz v0, :cond_0
  
+     .line 2689
      iget v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
      float-to-int v6, v0
  
+     .line 2690
      .local v6, value:I
      const/high16 v0, -0x4080
  
      iput v0, p0, Lcom/android/server/PowerManagerService;->mLightSensorValue:F
  
+     .line 2691
      invoke-direct {p0, v6}, Lcom/android/server/PowerManagerService;->lightSensorChangedLocked(I)V
  
+     .line 2694
      .end local v6           #value:I
      :cond_0
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
***************
*** 8671,8681 ****
--- 9703,9716 ----
  
      invoke-virtual/range {v0 .. v5}, Lcom/android/server/PowerManagerService;->userActivity(JZIZ)V
  
+     .line 2697
      :cond_1
      monitor-exit v7
  
+     .line 2698
      return-void
  
+     .line 2697
      :catchall_0
      move-exception v0
  
***************
*** 8691,8696 ****
--- 9726,9732 ----
      .parameter "timeMs"
  
      .prologue
+     .line 428
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.WRITE_SECURE_SETTINGS"
***************
*** 8699,8717 ****
--- 9735,9759 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 430
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 431
      :try_start_0
      iput p1, p0, Lcom/android/server/PowerManagerService;->mMaximumScreenOffTimeout:I
  
+     .line 433
      invoke-direct {p0}, Lcom/android/server/PowerManagerService;->setScreenOffTimeoutsLocked()V
  
+     .line 434
      monitor-exit v1
  
+     .line 435
      return-void
  
+     .line 434
      :catchall_0
      move-exception v0
  
***************
*** 8729,8734 ****
--- 9771,9777 ----
      .parameter "tag"
  
      .prologue
+     .line 1021
      move-object/from16 v0, p0
  
      iget-object v15, v0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
***************
*** 8739,8746 ****
--- 9782,9791 ----
  
      invoke-virtual/range {v15 .. v17}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1022
      if-nez p2, :cond_0
  
+     .line 1023
      const-string v15, "PowerManagerService"
  
      new-instance v16, Ljava/lang/StringBuilder;
***************
*** 8773,8781 ****
--- 9818,9828 ----
  
      invoke-static/range {v15 .. v16}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 1078
      :goto_0
      return-void
  
+     .line 1027
      :cond_0
      and-int/lit8 v15, p1, 0x6
  
***************
*** 8785,8790 ****
--- 9832,9838 ----
  
      if-ne v15, v0, :cond_1
  
+     .line 1028
      new-instance v15, Ljava/lang/IllegalArgumentException;
  
      const-string v16, "setPokeLock can\'t have both POKE_LOCK_SHORT_TIMEOUT and POKE_LOCK_MEDIUM_TIMEOUT"
***************
*** 8793,8798 ****
--- 9841,9847 ----
  
      throw v15
  
+     .line 1032
      :cond_1
      move-object/from16 v0, p0
  
***************
*** 8802,8809 ****
--- 9851,9860 ----
  
      monitor-enter v16
  
+     .line 1033
      if-eqz p1, :cond_5
  
+     .line 1034
      :try_start_0
      move-object/from16 v0, p0
  
***************
*** 8817,8840 ****
--- 9868,9898 ----
  
      check-cast v13, Lcom/android/server/PowerManagerService$PokeLock;
  
+     .line 1035
      .local v13, p:Lcom/android/server/PowerManagerService$PokeLock;
      const/4 v11, 0x0
  
+     .line 1036
      .local v11, oldPokey:I
      if-eqz v13, :cond_4
  
+     .line 1037
      iget v11, v13, Lcom/android/server/PowerManagerService$PokeLock;->pokey:I
  
+     .line 1038
      move/from16 v0, p1
  
      iput v0, v13, Lcom/android/server/PowerManagerService$PokeLock;->pokey:I
  
+     .line 1043
      :goto_1
      and-int/lit8 v12, v11, 0x6
  
+     .line 1044
      .local v12, oldTimeout:I
      and-int/lit8 v8, p1, 0x6
  
+     .line 1045
      .local v8, newTimeout:I
      move-object/from16 v0, p0
  
***************
*** 8846,8855 ****
--- 9904,9915 ----
  
      if-eq v12, v8, :cond_2
  
+     .line 1046
      const/4 v15, 0x1
  
      iput-boolean v15, v13, Lcom/android/server/PowerManagerService$PokeLock;->awakeOnSet:Z
  
+     .line 1055
      .end local v8           #newTimeout:I
      .end local v11           #oldPokey:I
      .end local v12           #oldTimeout:I
***************
*** 8860,8876 ****
--- 9920,9940 ----
  
      iget v11, v0, Lcom/android/server/PowerManagerService;->mPokey:I
  
+     .line 1056
      .restart local v11       #oldPokey:I
      const/4 v5, 0x0
  
+     .line 1057
      .local v5, cumulative:I
      move-object/from16 v0, p0
  
      iget-boolean v9, v0, Lcom/android/server/PowerManagerService;->mPokeAwakeOnSet:Z
  
+     .line 1058
      .local v9, oldAwakeOnSet:Z
      const/4 v4, 0x0
  
+     .line 1059
      .local v4, awakeOnSet:Z
      move-object/from16 v0, p0
  
***************
*** 8899,8917 ****
--- 9963,9985 ----
  
      check-cast v13, Lcom/android/server/PowerManagerService$PokeLock;
  
+     .line 1060
      .restart local v13       #p:Lcom/android/server/PowerManagerService$PokeLock;
      iget v15, v13, Lcom/android/server/PowerManagerService$PokeLock;->pokey:I
  
      or-int/2addr v5, v15
  
+     .line 1061
      iget-boolean v15, v13, Lcom/android/server/PowerManagerService$PokeLock;->awakeOnSet:Z
  
      if-eqz v15, :cond_3
  
+     .line 1062
      const/4 v4, 0x1
  
      goto :goto_3
  
+     .line 1040
      .end local v4           #awakeOnSet:Z
      .end local v5           #cumulative:I
      .end local v6           #i$:Ljava/util/Iterator;
***************
*** 8930,8935 ****
--- 9998,10004 ----
  
      invoke-direct {v13, v0, v1, v2, v3}, Lcom/android/server/PowerManagerService$PokeLock;-><init>(Lcom/android/server/PowerManagerService;ILandroid/os/IBinder;Ljava/lang/String;)V
  
+     .line 1041
      .restart local v13       #p:Lcom/android/server/PowerManagerService$PokeLock;
      move-object/from16 v0, p0
  
***************
*** 8941,8946 ****
--- 10010,10016 ----
  
      goto :goto_1
  
+     .line 1077
      .end local v11           #oldPokey:I
      .end local v13           #p:Lcom/android/server/PowerManagerService$PokeLock;
      :catchall_0
***************
*** 8952,8957 ****
--- 10022,10028 ----
  
      throw v15
  
+     .line 1049
      :cond_5
      :try_start_1
      move-object/from16 v0, p0
***************
*** 8966,8974 ****
--- 10037,10047 ----
  
      check-cast v14, Lcom/android/server/PowerManagerService$PokeLock;
  
+     .line 1050
      .local v14, rLock:Lcom/android/server/PowerManagerService$PokeLock;
      if-eqz v14, :cond_2
  
+     .line 1051
      const/4 v15, 0x0
  
      move-object/from16 v0, p2
***************
*** 8977,8982 ****
--- 10050,10056 ----
  
      goto :goto_2
  
+     .line 1065
      .end local v14           #rLock:Lcom/android/server/PowerManagerService$PokeLock;
      .restart local v4       #awakeOnSet:Z
      .restart local v5       #cumulative:I
***************
*** 8988,9007 ****
--- 10062,10087 ----
  
      iput v5, v0, Lcom/android/server/PowerManagerService;->mPokey:I
  
+     .line 1066
      move-object/from16 v0, p0
  
      iput-boolean v4, v0, Lcom/android/server/PowerManagerService;->mPokeAwakeOnSet:Z
  
+     .line 1068
      and-int/lit8 v10, v11, 0x6
  
+     .line 1069
      .local v10, oldCumulativeTimeout:I
      and-int/lit8 v7, p1, 0x6
  
+     .line 1071
      .local v7, newCumulativeTimeout:I
      if-eq v10, v7, :cond_7
  
+     .line 1072
      invoke-direct/range {p0 .. p0}, Lcom/android/server/PowerManagerService;->setScreenOffTimeoutsLocked()V
  
+     .line 1075
      invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
  
      move-result-wide v17
***************
*** 9018,9023 ****
--- 10098,10104 ----
  
      invoke-direct {v0, v1, v2, v15}, Lcom/android/server/PowerManagerService;->setTimeoutLocked(JI)V
  
+     .line 1077
      :cond_7
      monitor-exit v16
      :try_end_1
***************
*** 9031,9051 ****
--- 10112,10138 ----
      .parameter "p"
  
      .prologue
+     .line 2853
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 2854
      :try_start_0
      iput-object p1, p0, Lcom/android/server/PowerManagerService;->mPolicy:Landroid/view/WindowManagerPolicy;
  
+     .line 2855
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      invoke-virtual {v0}, Ljava/lang/Object;->notifyAll()V
  
+     .line 2856
      monitor-exit v1
  
+     .line 2857
      return-void
  
+     .line 2856
      :catchall_0
      move-exception v0
  
***************
*** 9061,9066 ****
--- 10148,10154 ----
      .parameter "brightness"
  
      .prologue
+     .line 1617
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 9069,9102 ****
--- 10157,10198 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 1620
      iget-object v1, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v1
  
+     .line 1621
      :try_start_0
      iget v0, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessOverride:I
  
      if-eq v0, p1, :cond_0
  
+     .line 1622
      iput p1, p0, Lcom/android/server/PowerManagerService;->mScreenBrightnessOverride:I
  
+     .line 1623
      invoke-virtual {p0}, Lcom/android/server/PowerManagerService;->isScreenOn()Z
  
      move-result v0
  
      if-eqz v0, :cond_0
  
+     .line 1624
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
      const/4 v2, 0x1
  
      invoke-direct {p0, v0, v2}, Lcom/android/server/PowerManagerService;->updateLightsLocked(II)V
  
+     .line 1627
      :cond_0
      monitor-exit v1
  
+     .line 1628
      return-void
  
+     .line 1627
      :catchall_0
      move-exception v0
  
***************
*** 9112,9117 ****
--- 10208,10214 ----
      .parameter "val"
  
      .prologue
+     .line 422
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.WRITE_SETTINGS"
***************
*** 9120,9125 ****
--- 10217,10223 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 423
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
***************
*** 9130,9135 ****
--- 10228,10234 ----
  
      invoke-static {v0, v1, p1}, Landroid/provider/Settings$System;->putInt(Landroid/content/ContentResolver;Ljava/lang/String;I)Z
  
+     .line 425
      return-void
  .end method
  
***************
*** 9139,9144 ****
--- 10238,10244 ----
      .prologue
      const/4 v2, 0x1
  
+     .line 2871
      new-instance v3, Landroid/hardware/SensorManager;
  
      iget-object v4, p0, Lcom/android/server/PowerManagerService;->mHandlerThread:Landroid/os/HandlerThread;
***************
*** 9151,9156 ****
--- 10251,10257 ----
  
      iput-object v3, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
  
+     .line 2872
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
  
      const/16 v4, 0x8
***************
*** 9161,9170 ****
--- 10262,10273 ----
  
      iput-object v3, p0, Lcom/android/server/PowerManagerService;->mProximitySensor:Landroid/hardware/Sensor;
  
+     .line 2874
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v3, :cond_0
  
+     .line 2875
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mSensorManager:Landroid/hardware/SensorManager;
  
      const/4 v4, 0x5
***************
*** 9175,9194 ****
--- 10278,10301 ----
  
      iput-object v3, p0, Lcom/android/server/PowerManagerService;->mLightSensor:Landroid/hardware/Sensor;
  
+     .line 2881
      :cond_0
      iget-boolean v3, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v3, :cond_1
  
+     .line 2883
      const/4 v3, 0x3
  
      invoke-direct {p0, v3}, Lcom/android/server/PowerManagerService;->setPowerState(I)V
  
+     .line 2889
      :goto_0
      iget-object v3, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v3
  
+     .line 2890
      :try_start_0
      const-string v4, "PowerManagerService"
  
***************
*** 9196,9205 ****
--- 10303,10314 ----
  
      invoke-static {v4, v5}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2891
      const/4 v4, 0x1
  
      iput-boolean v4, p0, Lcom/android/server/PowerManagerService;->mDoneBooting:Z
  
+     .line 2893
      iget-boolean v4, p0, Lcom/android/server/PowerManagerService;->mUseSoftwareAutoBrightness:Z
  
      if-eqz v4, :cond_2
***************
*** 9211,9222 ****
--- 10320,10333 ----
      :goto_1
      invoke-direct {p0, v2}, Lcom/android/server/PowerManagerService;->enableLightSensorLocked(Z)V
  
+     .line 2895
      invoke-static {}, Landroid/os/Binder;->clearCallingIdentity()J
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
      move-result-wide v0
  
+     .line 2897
      .local v0, identity:J
      :try_start_1
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
***************
*** 9227,9232 ****
--- 10338,10344 ----
  
      invoke-interface {v2, v4}, Lcom/android/internal/app/IBatteryStats;->noteScreenBrightness(I)V
  
+     .line 2898
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mBatteryStats:Lcom/android/internal/app/IBatteryStats;
  
      invoke-interface {v2}, Lcom/android/internal/app/IBatteryStats;->noteScreenOn()V
***************
*** 9234,9249 ****
--- 10346,10365 ----
      .catchall {:try_start_1 .. :try_end_1} :catchall_1
      .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
  
+     .line 2902
      :try_start_2
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
+     .line 2904
      :goto_2
      monitor-exit v3
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_0
  
+     .line 2905
      return-void
  
+     .line 2886
      .end local v0           #identity:J
      :cond_1
      const/16 v3, 0xf
***************
*** 9252,9271 ****
--- 10368,10391 ----
  
      goto :goto_0
  
+     .line 2893
      :cond_2
      const/4 v2, 0x0
  
      goto :goto_1
  
+     .line 2899
      .restart local v0       #identity:J
      :catch_0
      move-exception v2
  
+     .line 2902
      :try_start_3
      invoke-static {v0, v1}, Landroid/os/Binder;->restoreCallingIdentity(J)V
  
      goto :goto_2
  
+     .line 2904
      .end local v0           #identity:J
      :catchall_0
      move-exception v2
***************
*** 9276,9281 ****
--- 10396,10402 ----
  
      throw v2
  
+     .line 2902
      .restart local v0       #identity:J
      :catchall_1
      move-exception v2
***************
*** 9292,9301 ****
--- 10413,10424 ----
      .locals 5
  
      .prologue
+     .line 2667
      iget-object v2, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v2
  
+     .line 2668
      :try_start_0
      iget v0, p0, Lcom/android/server/PowerManagerService;->mPowerState:I
  
***************
*** 9303,9312 ****
--- 10426,10437 ----
  
      if-eqz v0, :cond_0
  
+     .line 2669
      const-wide/16 v0, 0x0
  
      monitor-exit v2
  
+     .line 2671
      :goto_0
      return-wide v0
  
***************
*** 9323,9328 ****
--- 10448,10454 ----
  
      goto :goto_0
  
+     .line 2672
      :catchall_0
      move-exception v0
  
***************
*** 9339,9353 ****
--- 10465,10482 ----
      .parameter "ws"
  
      .prologue
+     .line 919
      invoke-static {}, Landroid/os/Binder;->getCallingUid()I
  
      move-result v3
  
+     .line 920
      .local v3, uid:I
      invoke-static {}, Landroid/os/Binder;->getCallingPid()I
  
      move-result v2
  
+     .line 921
      .local v2, pid:I
      if-eqz p2, :cond_0
  
***************
*** 9357,9374 ****
--- 10486,10508 ----
  
      if-nez v5, :cond_0
  
+     .line 922
      const/4 p2, 0x0
  
+     .line 924
      :cond_0
      if-eqz p2, :cond_1
  
+     .line 925
      invoke-virtual {p0, v3, v2}, Lcom/android/server/PowerManagerService;->enforceWakeSourcePermission(II)V
  
+     .line 927
      :cond_1
      iget-object v6, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
      monitor-enter v6
  
+     .line 928
      :try_start_0
      iget-object v5, p0, Lcom/android/server/PowerManagerService;->mLocks:Lcom/android/server/PowerManagerService$LockList;
  
***************
*** 9376,9384 ****
--- 10510,10520 ----
  
      move-result v0
  
+     .line 929
      .local v0, index:I
      if-gez v0, :cond_2
  
+     .line 930
      new-instance v5, Ljava/lang/IllegalArgumentException;
  
      const-string v7, "Wake lock not active"
***************
*** 9387,9392 ****
--- 10523,10529 ----
  
      throw v5
  
+     .line 937
      .end local v0           #index:I
      :catchall_0
      move-exception v5
***************
*** 9397,9402 ****
--- 10534,10540 ----
  
      throw v5
  
+     .line 932
      .restart local v0       #index:I
      :cond_2
      :try_start_1
***************
*** 9408,9416 ****
--- 10546,10556 ----
  
      check-cast v4, Lcom/android/server/PowerManagerService$WakeLock;
  
+     .line 933
      .local v4, wl:Lcom/android/server/PowerManagerService$WakeLock;
      iget-object v1, v4, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
+     .line 934
      .local v1, oldsource:Landroid/os/WorkSource;
      if-eqz p2, :cond_3
  
***************
*** 9421,9436 ****
--- 10561,10581 ----
      :goto_0
      iput-object v5, v4, Lcom/android/server/PowerManagerService$WakeLock;->ws:Landroid/os/WorkSource;
  
+     .line 935
      invoke-virtual {p0, v4, v1}, Lcom/android/server/PowerManagerService;->noteStopWakeLocked(Lcom/android/server/PowerManagerService$WakeLock;Landroid/os/WorkSource;)V
  
+     .line 936
      invoke-virtual {p0, v4, p2}, Lcom/android/server/PowerManagerService;->noteStartWakeLocked(Lcom/android/server/PowerManagerService$WakeLock;Landroid/os/WorkSource;)V
  
+     .line 937
      monitor-exit v6
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 938
      return-void
  
+     .line 934
      :cond_3
      const/4 v5, 0x0
  
***************
*** 9445,9450 ****
--- 10590,10596 ----
      .prologue
      const/4 v6, 0x0
  
+     .line 2344
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 9455,9466 ****
--- 10601,10614 ----
  
      if-eqz v0, :cond_1
  
+     .line 2346
      invoke-direct {p0, p1, p2}, Lcom/android/server/PowerManagerService;->shouldLog(J)Z
  
      move-result v0
  
      if-eqz v0, :cond_0
  
+     .line 2347
      const-string v0, "PowerManagerService"
  
      new-instance v1, Ljava/lang/StringBuilder;
***************
*** 9501,9510 ****
--- 10649,10660 ----
  
      invoke-static {v0, v1}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 2354
      :cond_0
      :goto_0
      return-void
  
+     .line 2353
      :cond_1
      const-wide/16 v3, -0x1
  
***************
*** 9528,9533 ****
--- 10678,10684 ----
      .parameter "eventType"
  
      .prologue
+     .line 2357
      const-wide/16 v3, -0x1
  
      const/4 v7, 0x0
***************
*** 9542,9547 ****
--- 10693,10699 ----
  
      invoke-direct/range {v0 .. v7}, Lcom/android/server/PowerManagerService;->userActivity(JJZIZ)V
  
+     .line 2358
      return-void
  .end method
  
***************
*** 9553,9558 ****
--- 10705,10711 ----
      .parameter "force"
  
      .prologue
+     .line 2361
      const-wide/16 v3, -0x1
  
      move-object v0, p0
***************
*** 9567,9572 ****
--- 10720,10726 ----
  
      invoke-direct/range {v0 .. v7}, Lcom/android/server/PowerManagerService;->userActivity(JJZIZ)V
  
+     .line 2362
      return-void
  .end method
  
***************
*** 9577,9582 ****
--- 10731,10737 ----
      .parameter "force"
  
      .prologue
+     .line 2339
      iget-object v0, p0, Lcom/android/server/PowerManagerService;->mContext:Landroid/content/Context;
  
      const-string v1, "android.permission.DEVICE_POWER"
***************
*** 9585,9590 ****
--- 10740,10746 ----
  
      invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V
  
+     .line 2340
      const-wide/16 v3, -0x1
  
      const/4 v6, 0x0
***************
*** 9599,9603 ****
--- 10755,10760 ----
  
      invoke-direct/range {v0 .. v7}, Lcom/android/server/PowerManagerService;->userActivity(JJZIZ)V
  
+     .line 2341
      return-void
  .end method
