*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/pm/PackageManagerService$PackageHandler.smali	2012-03-23 19:35:09.602761991 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/services.jar.out/smali/com/android/server/pm/PackageManagerService$PackageHandler.smali.original	2012-03-23 19:34:47.358356360 -0500
***************
*** 38,57 ****
--- 38,62 ----
      .parameter "looper"
  
      .prologue
+     .line 467
      iput-object p1, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
  
+     .line 468
      invoke-direct {p0, p2}, Landroid/os/Handler;-><init>(Landroid/os/Looper;)V
  
+     .line 440
      const/4 v0, 0x0
  
      iput-boolean v0, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
  
+     .line 441
      new-instance v0, Ljava/util/ArrayList;
  
      invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
  
      iput-object v0, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
  
+     .line 469
      return-void
  .end method
  
***************
*** 65,70 ****
--- 70,76 ----
  
      const/4 v1, 0x1
  
+     .line 447
      new-instance v3, Landroid/content/Intent;
  
      invoke-direct {v3}, Landroid/content/Intent;-><init>()V
***************
*** 75,83 ****
--- 81,91 ----
  
      move-result-object v0
  
+     .line 448
      .local v0, service:Landroid/content/Intent;
      invoke-static {v2}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 449
      iget-object v3, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
  
      iget-object v3, v3, Lcom/android/server/pm/PackageManagerService;->mContext:Landroid/content/Context;
***************
*** 95,112 ****
--- 103,125 ----
  
      if-eqz v3, :cond_0
  
+     .line 451
      invoke-static {v5}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 452
      iput-boolean v1, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
  
+     .line 456
      :goto_0
      return v1
  
+     .line 455
      :cond_0
      invoke-static {v5}, Landroid/os/Process;->setThreadPriority(I)V
  
      move v1, v2
  
+     .line 456
      goto :goto_0
  .end method
  
***************
*** 116,121 ****
--- 129,135 ----
      .prologue
      const/4 v2, 0x0
  
+     .line 460
      iget-object v0, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
  
      const/4 v1, 0x0
***************
*** 123,132 ****
--- 137,149 ----
      #setter for: Lcom/android/server/pm/PackageManagerService;->mContainerService:Lcom/android/internal/app/IMediaContainerService;
      invoke-static {v0, v1}, Lcom/android/server/pm/PackageManagerService;->access$302(Lcom/android/server/pm/PackageManagerService;Lcom/android/internal/app/IMediaContainerService;)Lcom/android/internal/app/IMediaContainerService;
  
+     .line 461
      iput-boolean v2, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
  
+     .line 462
      invoke-static {v2}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 463
      iget-object v0, p0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService;->mContext:Landroid/content/Context;
***************
*** 140,149 ****
--- 157,168 ----
  
      invoke-virtual {v0, v1}, Landroid/content/Context;->unbindService(Landroid/content/ServiceConnection;)V
  
+     .line 464
      const/16 v0, 0xa
  
      invoke-static {v0}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 465
      return-void
  .end method
  
***************
*** 154,159 ****
--- 173,179 ----
      .parameter "msg"
  
      .prologue
+     .line 480
      move-object/from16 v0, p1
  
      iget v0, v0, Landroid/os/Message;->what:I
***************
*** 162,172 ****
--- 182,194 ----
  
      packed-switch v31, :pswitch_data_0
  
+     .line 805
      :cond_0
      :goto_0
      :pswitch_0
      return-void
  
+     .line 483
      :pswitch_1
      move-object/from16 v0, p1
  
***************
*** 176,181 ****
--- 198,204 ----
  
      check-cast v19, Lcom/android/server/pm/PackageManagerService$HandlerParams;
  
+     .line 484
      .local v19, params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      move-object/from16 v0, p0
  
***************
*** 187,192 ****
--- 210,216 ----
  
      move-result v15
  
+     .line 489
      .local v15, idx:I
      move-object/from16 v0, p0
  
***************
*** 196,217 ****
--- 220,245 ----
  
      if-nez v31, :cond_2
  
+     .line 492
      invoke-direct/range {p0 .. p0}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->connectToService()Z
  
      move-result v31
  
      if-nez v31, :cond_1
  
+     .line 493
      const-string v31, "PackageManager"
  
      const-string v32, "Failed to bind to media container service"
  
      invoke-static/range {v31 .. v32}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 494
      invoke-virtual/range {v19 .. v19}, Lcom/android/server/pm/PackageManagerService$HandlerParams;->serviceError()V
  
      goto :goto_0
  
+     .line 499
      :cond_1
      move-object/from16 v0, p0
  
***************
*** 227,232 ****
--- 255,261 ----
  
      goto :goto_0
  
+     .line 502
      :cond_2
      move-object/from16 v0, p0
  
***************
*** 240,247 ****
--- 269,278 ----
  
      invoke-virtual {v0, v15, v1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V
  
+     .line 505
      if-nez v15, :cond_0
  
+     .line 506
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 260,265 ****
--- 291,297 ----
  
      goto :goto_0
  
+     .line 513
      .end local v15           #idx:I
      .end local v19           #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      :pswitch_2
***************
*** 271,276 ****
--- 303,309 ----
  
      if-eqz v31, :cond_3
  
+     .line 514
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 292,297 ****
--- 325,331 ----
      #setter for: Lcom/android/server/pm/PackageManagerService;->mContainerService:Lcom/android/internal/app/IMediaContainerService;
      invoke-static {v0, v1}, Lcom/android/server/pm/PackageManagerService;->access$302(Lcom/android/server/pm/PackageManagerService;Lcom/android/internal/app/IMediaContainerService;)Lcom/android/internal/app/IMediaContainerService;
  
+     .line 516
      :cond_3
      move-object/from16 v0, p0
  
***************
*** 306,317 ****
--- 340,353 ----
  
      if-nez v31, :cond_5
  
+     .line 518
      const-string v31, "PackageManager"
  
      const-string v32, "Cannot bind to media container service"
  
      invoke-static/range {v31 .. v32}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 519
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
***************
*** 336,341 ****
--- 372,378 ----
  
      check-cast v19, Lcom/android/server/pm/PackageManagerService$HandlerParams;
  
+     .line 520
      .restart local v19       #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      move-object/from16 v0, p0
  
***************
*** 347,356 ****
--- 384,395 ----
  
      invoke-virtual/range {v31 .. v32}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;
  
+     .line 522
      invoke-virtual/range {v19 .. v19}, Lcom/android/server/pm/PackageManagerService$HandlerParams;->serviceError()V
  
      goto :goto_1
  
+     .line 524
      .end local v19           #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      :cond_4
      move-object/from16 v0, p0
***************
*** 363,368 ****
--- 402,408 ----
  
      goto/16 :goto_0
  
+     .line 525
      .end local v14           #i$:Ljava/util/Iterator;
      :cond_5
      move-object/from16 v0, p0
***************
*** 377,382 ****
--- 417,423 ----
  
      if-lez v31, :cond_8
  
+     .line 526
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
***************
*** 391,405 ****
--- 432,449 ----
  
      check-cast v19, Lcom/android/server/pm/PackageManagerService$HandlerParams;
  
+     .line 527
      .restart local v19       #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      if-eqz v19, :cond_0
  
+     .line 528
      invoke-virtual/range {v19 .. v19}, Lcom/android/server/pm/PackageManagerService$HandlerParams;->startCopy()Z
  
      move-result v31
  
      if-eqz v31, :cond_0
  
+     .line 534
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
***************
*** 412,417 ****
--- 456,462 ----
  
      if-lez v31, :cond_6
  
+     .line 535
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
***************
*** 422,427 ****
--- 467,473 ----
  
      invoke-virtual/range {v31 .. v32}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;
  
+     .line 537
      :cond_6
      move-object/from16 v0, p0
  
***************
*** 435,440 ****
--- 481,487 ----
  
      if-nez v31, :cond_7
  
+     .line 538
      move-object/from16 v0, p0
  
      iget-boolean v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
***************
*** 443,448 ****
--- 490,496 ----
  
      if-eqz v31, :cond_0
  
+     .line 541
      const/16 v31, 0x6
  
      move-object/from16 v0, p0
***************
*** 451,456 ****
--- 499,505 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->removeMessages(I)V
  
+     .line 542
      const/16 v31, 0x6
  
      move-object/from16 v0, p0
***************
*** 461,466 ****
--- 510,516 ----
  
      move-result-object v27
  
+     .line 545
      .local v27, ubmsg:Landroid/os/Message;
      const-wide/16 v31, 0x2710
  
***************
*** 474,479 ****
--- 524,530 ----
  
      goto/16 :goto_0
  
+     .line 553
      .end local v27           #ubmsg:Landroid/os/Message;
      :cond_7
      move-object/from16 v0, p0
***************
*** 494,499 ****
--- 545,551 ----
  
      goto/16 :goto_0
  
+     .line 559
      .end local v19           #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      :cond_8
      const-string v31, "PackageManager"
***************
*** 504,509 ****
--- 556,562 ----
  
      goto/16 :goto_0
  
+     .line 565
      :pswitch_3
      move-object/from16 v0, p0
  
***************
*** 517,522 ****
--- 570,576 ----
  
      if-lez v31, :cond_0
  
+     .line 566
      move-object/from16 v0, p0
  
      iget-boolean v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
***************
*** 525,532 ****
--- 579,588 ----
  
      if-eqz v31, :cond_9
  
+     .line 567
      invoke-direct/range {p0 .. p0}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->disconnectService()V
  
+     .line 569
      :cond_9
      invoke-direct/range {p0 .. p0}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->connectToService()Z
  
***************
*** 534,545 ****
--- 590,603 ----
  
      if-nez v31, :cond_0
  
+     .line 570
      const-string v31, "PackageManager"
  
      const-string v32, "Failed to bind to media container service"
  
      invoke-static/range {v31 .. v32}, Landroid/util/Slog;->e(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 571
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mPendingInstalls:Ljava/util/ArrayList;
***************
*** 564,569 ****
--- 622,628 ----
  
      check-cast v19, Lcom/android/server/pm/PackageManagerService$HandlerParams;
  
+     .line 572
      .restart local v19       #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      move-object/from16 v0, p0
  
***************
*** 575,584 ****
--- 634,645 ----
  
      invoke-virtual/range {v31 .. v32}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;
  
+     .line 574
      invoke-virtual/range {v19 .. v19}, Lcom/android/server/pm/PackageManagerService$HandlerParams;->serviceError()V
  
      goto :goto_2
  
+     .line 576
      .end local v19           #params:Lcom/android/server/pm/PackageManagerService$HandlerParams;
      :cond_a
      move-object/from16 v0, p0
***************
*** 591,596 ****
--- 652,658 ----
  
      goto/16 :goto_0
  
+     .line 585
      .end local v14           #i$:Ljava/util/Iterator;
      :pswitch_4
      move-object/from16 v0, p0
***************
*** 623,628 ****
--- 685,691 ----
  
      if-nez v31, :cond_b
  
+     .line 586
      move-object/from16 v0, p0
  
      iget-boolean v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->mBound:Z
***************
*** 631,640 ****
--- 694,705 ----
  
      if-eqz v31, :cond_0
  
+     .line 589
      invoke-direct/range {p0 .. p0}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->disconnectService()V
  
      goto/16 :goto_0
  
+     .line 591
      :cond_b
      move-object/from16 v0, p0
  
***************
*** 648,653 ****
--- 713,719 ----
  
      if-lez v31, :cond_0
  
+     .line 595
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 666,671 ****
--- 732,738 ----
  
      goto/16 :goto_0
  
+     .line 602
      :pswitch_5
      move-object/from16 v0, p0
  
***************
*** 679,692 ****
--- 746,762 ----
  
      goto/16 :goto_0
  
+     .line 608
      :pswitch_6
      const/16 v25, 0x0
  
+     .line 610
      .local v25, size:I
      const/16 v31, 0x0
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 611
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 701,706 ****
--- 771,777 ----
  
      monitor-enter v32
  
+     .line 612
      :try_start_0
      move-object/from16 v0, p0
  
***************
*** 716,725 ****
--- 787,798 ----
  
      if-nez v31, :cond_c
  
+     .line 613
      monitor-exit v32
  
      goto/16 :goto_0
  
+     .line 636
      :catchall_0
      move-exception v31
  
***************
*** 729,734 ****
--- 802,808 ----
  
      throw v31
  
+     .line 615
      :cond_c
      :try_start_1
      move-object/from16 v0, p0
***************
*** 747,758 ****
--- 821,835 ----
  
      move-result v25
  
+     .line 616
      if-gtz v25, :cond_d
  
+     .line 618
      monitor-exit v32
  
      goto/16 :goto_0
  
+     .line 620
      :cond_d
      move/from16 v0, v25
  
***************
*** 760,770 ****
--- 837,849 ----
  
      move-object/from16 v18, v0
  
+     .line 621
      .local v18, packages:[Ljava/lang/String;
      move/from16 v0, v25
  
      new-array v6, v0, [Ljava/util/ArrayList;
  
+     .line 622
      .local v6, components:[Ljava/util/ArrayList;,"[Ljava/util/ArrayList<Ljava/lang/String;>;"
      move/from16 v0, v25
  
***************
*** 772,777 ****
--- 851,857 ----
  
      move-object/from16 v28, v0
  
+     .line 624
      .local v28, uids:[I
      move-object/from16 v0, p0
  
***************
*** 793,801 ****
--- 873,883 ----
  
      move-result-object v16
  
+     .line 625
      .local v16, it:Ljava/util/Iterator;,"Ljava/util/Iterator<Ljava/util/Map$Entry<Ljava/lang/String;Ljava/util/ArrayList<Ljava/lang/String;>;>;>;"
      const/4 v13, 0x0
  
+     .line 626
      .local v13, i:I
      :goto_3
      invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->hasNext()Z
***************
*** 808,819 ****
--- 890,903 ----
  
      if-ge v13, v0, :cond_f
  
+     .line 627
      invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->next()Ljava/lang/Object;
  
      move-result-object v11
  
      check-cast v11, Ljava/util/Map$Entry;
  
+     .line 628
      .local v11, ent:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/String;Ljava/util/ArrayList<Ljava/lang/String;>;>;"
      invoke-interface {v11}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
  
***************
*** 823,828 ****
--- 907,913 ----
  
      aput-object v31, v18, v13
  
+     .line 629
      invoke-interface {v11}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
  
      move-result-object v31
***************
*** 831,836 ****
--- 916,922 ----
  
      aput-object v31, v6, v13
  
+     .line 630
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 863,868 ****
--- 949,955 ----
  
      check-cast v20, Lcom/android/server/pm/PackageSetting;
  
+     .line 631
      .local v20, ps:Lcom/android/server/pm/PackageSetting;
      if-eqz v20, :cond_e
  
***************
*** 875,894 ****
--- 962,986 ----
      :goto_4
      aput v31, v28, v13
  
+     .line 632
      add-int/lit8 v13, v13, 0x1
  
+     .line 633
      goto :goto_3
  
+     .line 631
      :cond_e
      const/16 v31, -0x1
  
      goto :goto_4
  
+     .line 634
      .end local v11           #ent:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/String;Ljava/util/ArrayList<Ljava/lang/String;>;>;"
      .end local v20           #ps:Lcom/android/server/pm/PackageSetting;
      :cond_f
      move/from16 v25, v13
  
+     .line 635
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 903,912 ****
--- 995,1006 ----
  
      invoke-virtual/range {v31 .. v31}, Ljava/util/HashMap;->clear()V
  
+     .line 636
      monitor-exit v32
      :try_end_1
      .catchall {:try_start_1 .. :try_end_1} :catchall_0
  
+     .line 638
      const/4 v13, 0x0
  
      :goto_5
***************
*** 914,919 ****
--- 1008,1014 ----
  
      if-ge v13, v0, :cond_10
  
+     .line 639
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 931,940 ****
--- 1026,1037 ----
      #calls: Lcom/android/server/pm/PackageManagerService;->sendPackageChangedBroadcast(Ljava/lang/String;ZLjava/util/ArrayList;I)V
      invoke-static/range {v31 .. v35}, Lcom/android/server/pm/PackageManagerService;->access$400(Lcom/android/server/pm/PackageManagerService;Ljava/lang/String;ZLjava/util/ArrayList;I)V
  
+     .line 638
      add-int/lit8 v13, v13, 0x1
  
      goto :goto_5
  
+     .line 641
      :cond_10
      const/16 v31, 0xa
  
***************
*** 942,947 ****
--- 1039,1045 ----
  
      goto/16 :goto_0
  
+     .line 645
      .end local v6           #components:[Ljava/util/ArrayList;,"[Ljava/util/ArrayList<Ljava/lang/String;>;"
      .end local v13           #i:I
      .end local v16           #it:Ljava/util/Iterator;,"Ljava/util/Iterator<Ljava/util/Map$Entry<Ljava/lang/String;Ljava/util/ArrayList<Ljava/lang/String;>;>;>;"
***************
*** 957,967 ****
--- 1055,1067 ----
  
      check-cast v17, Ljava/lang/String;
  
+     .line 646
      .local v17, packageName:Ljava/lang/String;
      const/16 v31, 0x0
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 647
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 976,981 ****
--- 1076,1082 ----
  
      monitor-enter v32
  
+     .line 648
      :try_start_2
      move-object/from16 v0, p0
  
***************
*** 1005,1010 ****
--- 1106,1112 ----
  
      if-nez v31, :cond_11
  
+     .line 649
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1029,1043 ****
--- 1131,1148 ----
  
      invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
  
+     .line 651
      :cond_11
      monitor-exit v32
      :try_end_2
      .catchall {:try_start_2 .. :try_end_2} :catchall_1
  
+     .line 652
      const/16 v31, 0xa
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 653
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1048,1053 ****
--- 1153,1159 ----
  
      goto/16 :goto_0
  
+     .line 651
      :catchall_1
      move-exception v31
  
***************
*** 1058,1063 ****
--- 1164,1170 ----
  
      throw v31
  
+     .line 657
      .end local v17           #packageName:Ljava/lang/String;
      :pswitch_8
      move-object/from16 v0, p0
***************
*** 1084,1089 ****
--- 1191,1197 ----
  
      check-cast v7, Lcom/android/server/pm/PackageManagerService$PostInstallData;
  
+     .line 658
      .local v7, data:Lcom/android/server/pm/PackageManagerService$PostInstallData;
      move-object/from16 v0, p0
  
***************
*** 1105,1122 ****
--- 1213,1235 ----
  
      invoke-virtual/range {v31 .. v32}, Landroid/util/SparseArray;->delete(I)V
  
+     .line 659
      const/4 v8, 0x0
  
+     .line 661
      .local v8, deleteOld:Z
      if-eqz v7, :cond_17
  
+     .line 662
      iget-object v4, v7, Lcom/android/server/pm/PackageManagerService$PostInstallData;->args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
  
+     .line 663
      .local v4, args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
      iget-object v0, v7, Lcom/android/server/pm/PackageManagerService$PostInstallData;->res:Lcom/android/server/pm/PackageManagerService$PackageInstalledInfo;
  
      move-object/from16 v22, v0
  
+     .line 665
      .local v22, res:Lcom/android/server/pm/PackageManagerService$PackageInstalledInfo;
      move-object/from16 v0, v22
  
***************
*** 1132,1137 ****
--- 1245,1251 ----
  
      if-ne v0, v1, :cond_14
  
+     .line 666
      move-object/from16 v0, v22
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageInstalledInfo;->removedInfo:Lcom/android/server/pm/PackageManagerService$PackageRemovedInfo;
***************
*** 1144,1149 ****
--- 1258,1264 ----
  
      invoke-virtual/range {v31 .. v33}, Lcom/android/server/pm/PackageManagerService$PackageRemovedInfo;->sendBroadcast(ZZ)V
  
+     .line 667
      new-instance v12, Landroid/os/Bundle;
  
      const/16 v31, 0x1
***************
*** 1152,1157 ****
--- 1267,1273 ----
  
      invoke-direct {v12, v0}, Landroid/os/Bundle;-><init>(I)V
  
+     .line 668
      .local v12, extras:Landroid/os/Bundle;
      const-string v31, "android.intent.extra.UID"
  
***************
*** 1167,1172 ****
--- 1283,1289 ----
  
      invoke-virtual {v12, v0, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
  
+     .line 669
      move-object/from16 v0, v22
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageInstalledInfo;->removedInfo:Lcom/android/server/pm/PackageManagerService$PackageRemovedInfo;
***************
*** 1183,1192 ****
--- 1300,1311 ----
  
      const/16 v29, 0x1
  
+     .line 670
      .local v29, update:Z
      :goto_6
      if-eqz v29, :cond_12
  
+     .line 671
      const-string v31, "android.intent.extra.REPLACING"
  
      const/16 v32, 0x1
***************
*** 1197,1202 ****
--- 1316,1322 ----
  
      invoke-virtual {v12, v0, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V
  
+     .line 673
      :cond_12
      const-string v31, "android.intent.action.PACKAGE_ADDED"
  
***************
*** 1232,1239 ****
--- 1352,1361 ----
  
      invoke-static {v0, v1, v12, v2, v3}, Lcom/android/server/pm/PackageManagerService;->sendPackageBroadcast(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;Ljava/lang/String;Landroid/content/IIntentReceiver;)V
  
+     .line 676
      if-eqz v29, :cond_13
  
+     .line 677
      const-string v31, "android.intent.action.PACKAGE_REPLACED"
  
      move-object/from16 v0, v22
***************
*** 1268,1273 ****
--- 1390,1396 ----
  
      invoke-static {v0, v1, v12, v2, v3}, Lcom/android/server/pm/PackageManagerService;->sendPackageBroadcast(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;Ljava/lang/String;Landroid/content/IIntentReceiver;)V
  
+     .line 680
      const-string v31, "android.intent.action.MY_PACKAGE_REPLACED"
  
      const/16 v32, 0x0
***************
*** 1296,1301 ****
--- 1419,1425 ----
  
      invoke-static/range {v31 .. v35}, Lcom/android/server/pm/PackageManagerService;->sendPackageBroadcast(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;Ljava/lang/String;Landroid/content/IIntentReceiver;)V
  
+     .line 684
      :cond_13
      move-object/from16 v0, v22
  
***************
*** 1311,1318 ****
--- 1435,1444 ----
  
      if-eqz v31, :cond_14
  
+     .line 686
      const/4 v8, 0x1
  
+     .line 690
      .end local v12           #extras:Landroid/os/Bundle;
      .end local v29           #update:Z
      :cond_14
***************
*** 1322,1329 ****
--- 1448,1457 ----
  
      invoke-virtual/range {v31 .. v31}, Ljava/lang/Runtime;->gc()V
  
+     .line 692
      if-eqz v8, :cond_15
  
+     .line 693
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1338,1343 ****
--- 1466,1472 ----
  
      monitor-enter v32
  
+     .line 694
      :try_start_4
      move-object/from16 v0, v22
  
***************
*** 1359,1368 ****
--- 1488,1499 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/pm/PackageManagerService$InstallArgs;->doPostDeleteLI(Z)Z
  
+     .line 695
      monitor-exit v32
      :try_end_4
      .catchall {:try_start_4 .. :try_end_4} :catchall_2
  
+     .line 697
      :cond_15
      iget-object v0, v4, Lcom/android/server/pm/PackageManagerService$InstallArgs;->observer:Landroid/content/pm/IPackageInstallObserver;
  
***************
*** 1370,1375 ****
--- 1501,1507 ----
  
      if-eqz v31, :cond_0
  
+     .line 699
      :try_start_5
      iget-object v0, v4, Lcom/android/server/pm/PackageManagerService$InstallArgs;->observer:Landroid/content/pm/IPackageInstallObserver;
  
***************
*** 1393,1401 ****
--- 1525,1535 ----
  
      goto/16 :goto_0
  
+     .line 700
      :catch_0
      move-exception v10
  
+     .line 701
      .local v10, e:Landroid/os/RemoteException;
      const-string v31, "PackageManager"
  
***************
*** 1405,1410 ****
--- 1539,1545 ----
  
      goto/16 :goto_0
  
+     .line 669
      .end local v10           #e:Landroid/os/RemoteException;
      .restart local v12       #extras:Landroid/os/Bundle;
      :cond_16
***************
*** 1412,1417 ****
--- 1547,1553 ----
  
      goto/16 :goto_6
  
+     .line 695
      .end local v12           #extras:Landroid/os/Bundle;
      :catchall_2
      move-exception v31
***************
*** 1423,1428 ****
--- 1559,1565 ----
  
      throw v31
  
+     .line 705
      .end local v4           #args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
      .end local v22           #res:Lcom/android/server/pm/PackageManagerService$PackageInstalledInfo;
      :cond_17
***************
*** 1456,1461 ****
--- 1593,1599 ----
  
      goto/16 :goto_0
  
+     .line 710
      .end local v7           #data:Lcom/android/server/pm/PackageManagerService$PostInstallData;
      .end local v8           #deleteOld:Z
      :pswitch_9
***************
*** 1475,1480 ****
--- 1613,1619 ----
  
      const/16 v21, 0x1
  
+     .line 711
      .local v21, reportStatus:Z
      :goto_7
      move-object/from16 v0, p1
***************
*** 1493,1508 ****
--- 1632,1650 ----
  
      const/4 v9, 0x1
  
+     .line 713
      .local v9, doGc:Z
      :goto_8
      if-eqz v9, :cond_18
  
+     .line 715
      invoke-static {}, Ljava/lang/Runtime;->getRuntime()Ljava/lang/Runtime;
  
      move-result-object v31
  
      invoke-virtual/range {v31 .. v31}, Ljava/lang/Runtime;->gc()V
  
+     .line 717
      :cond_18
      move-object/from16 v0, p1
  
***************
*** 1512,1523 ****
--- 1654,1667 ----
  
      if-eqz v31, :cond_19
  
+     .line 719
      move-object/from16 v0, p1
  
      iget-object v5, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
  
      check-cast v5, Ljava/util/Set;
  
+     .line 722
      .local v5, args:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/server/pm/PackageManagerService$SdInstallArgs;>;"
      move-object/from16 v0, p0
  
***************
*** 1530,1539 ****
--- 1674,1685 ----
      #calls: Lcom/android/server/pm/PackageManagerService;->unloadAllContainers(Ljava/util/Set;)V
      invoke-static {v0, v5}, Lcom/android/server/pm/PackageManagerService;->access$500(Lcom/android/server/pm/PackageManagerService;Ljava/util/Set;)V
  
+     .line 724
      .end local v5           #args:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/server/pm/PackageManagerService$SdInstallArgs;>;"
      :cond_19
      if-eqz v21, :cond_0
  
+     .line 727
      :try_start_7
      invoke-static {}, Lcom/android/internal/content/PackageHelper;->getMountService()Landroid/os/storage/IMountService;
  
***************
*** 1545,1553 ****
--- 1691,1701 ----
  
      goto/16 :goto_0
  
+     .line 728
      :catch_1
      move-exception v10
  
+     .line 729
      .restart local v10       #e:Landroid/os/RemoteException;
      const-string v31, "PackageManager"
  
***************
*** 1557,1562 ****
--- 1705,1711 ----
  
      goto/16 :goto_0
  
+     .line 710
      .end local v9           #doGc:Z
      .end local v10           #e:Landroid/os/RemoteException;
      .end local v21           #reportStatus:Z
***************
*** 1565,1582 ****
--- 1714,1734 ----
  
      goto :goto_7
  
+     .line 711
      .restart local v21       #reportStatus:Z
      :cond_1b
      const/4 v9, 0x0
  
      goto :goto_8
  
+     .line 734
      .end local v21           #reportStatus:Z
      :pswitch_a
      const/16 v31, 0x0
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 735
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1591,1596 ****
--- 1743,1749 ----
  
      monitor-enter v32
  
+     .line 736
      const/16 v31, 0xd
  
      :try_start_8
***************
*** 1600,1605 ****
--- 1753,1759 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->removeMessages(I)V
  
+     .line 737
      const/16 v31, 0xe
  
      move-object/from16 v0, p0
***************
*** 1608,1613 ****
--- 1762,1768 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->removeMessages(I)V
  
+     .line 738
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1622,1637 ****
--- 1777,1795 ----
  
      invoke-virtual/range {v31 .. v31}, Lcom/android/server/pm/Settings;->writeLPr()V
  
+     .line 739
      monitor-exit v32
      :try_end_8
      .catchall {:try_start_8 .. :try_end_8} :catchall_3
  
+     .line 740
      const/16 v31, 0xa
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
      goto/16 :goto_0
  
+     .line 739
      :catchall_3
      move-exception v31
  
***************
*** 1642,1652 ****
--- 1800,1812 ----
  
      throw v31
  
+     .line 743
      :pswitch_b
      const/16 v31, 0x0
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 744
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1661,1666 ****
--- 1821,1827 ----
  
      monitor-enter v32
  
+     .line 745
      const/16 v31, 0xe
  
      :try_start_a
***************
*** 1670,1675 ****
--- 1831,1837 ----
  
      invoke-virtual {v0, v1}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->removeMessages(I)V
  
+     .line 746
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1684,1699 ****
--- 1846,1864 ----
  
      invoke-virtual/range {v31 .. v31}, Lcom/android/server/pm/Settings;->writeStoppedLPr()V
  
+     .line 747
      monitor-exit v32
      :try_end_a
      .catchall {:try_start_a .. :try_end_a} :catchall_4
  
+     .line 748
      const/16 v31, 0xa
  
      invoke-static/range {v31 .. v31}, Landroid/os/Process;->setThreadPriority(I)V
  
      goto/16 :goto_0
  
+     .line 747
      :catchall_4
      move-exception v31
  
***************
*** 1704,1709 ****
--- 1869,1875 ----
  
      throw v31
  
+     .line 751
      :pswitch_c
      move-object/from16 v0, p1
  
***************
*** 1711,1716 ****
--- 1877,1883 ----
  
      move/from16 v30, v0
  
+     .line 752
      .local v30, verificationId:I
      move-object/from16 v0, p0
  
***************
*** 1734,1746 ****
--- 1901,1916 ----
  
      check-cast v26, Lcom/android/server/pm/PackageVerificationState;
  
+     .line 754
      .local v26, state:Lcom/android/server/pm/PackageVerificationState;
      if-eqz v26, :cond_0
  
+     .line 755
      invoke-virtual/range {v26 .. v26}, Lcom/android/server/pm/PackageVerificationState;->getInstallArgs()Lcom/android/server/pm/PackageManagerService$InstallArgs;
  
      move-result-object v4
  
+     .line 756
      .restart local v4       #args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
      const-string v31, "PackageManager"
  
***************
*** 1772,1777 ****
--- 1942,1948 ----
  
      invoke-static/range {v31 .. v32}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
  
+     .line 757
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1790,1797 ****
--- 1961,1970 ----
  
      invoke-virtual {v0, v1}, Landroid/util/SparseArray;->remove(I)V
  
+     .line 759
      const/16 v24, -0x15
  
+     .line 760
      .local v24, ret:I
      move-object/from16 v0, p0
  
***************
*** 1806,1811 ****
--- 1979,1985 ----
      #calls: Lcom/android/server/pm/PackageManagerService;->processPendingInstall(Lcom/android/server/pm/PackageManagerService$InstallArgs;I)V
      invoke-static {v0, v4, v1}, Lcom/android/server/pm/PackageManagerService;->access$600(Lcom/android/server/pm/PackageManagerService;Lcom/android/server/pm/PackageManagerService$InstallArgs;I)V
  
+     .line 762
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1824,1829 ****
--- 1998,2004 ----
  
      goto/16 :goto_0
  
+     .line 768
      .end local v4           #args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
      .end local v24           #ret:I
      .end local v26           #state:Lcom/android/server/pm/PackageVerificationState;
***************
*** 1835,1840 ****
--- 2010,2016 ----
  
      move/from16 v30, v0
  
+     .line 770
      .restart local v30       #verificationId:I
      move-object/from16 v0, p0
  
***************
*** 1858,1866 ****
--- 2034,2044 ----
  
      check-cast v26, Lcom/android/server/pm/PackageVerificationState;
  
+     .line 771
      .restart local v26       #state:Lcom/android/server/pm/PackageVerificationState;
      if-nez v26, :cond_1c
  
+     .line 772
      const-string v31, "PackageManager"
  
      new-instance v32, Ljava/lang/StringBuilder;
***************
*** 1895,1900 ****
--- 2073,2079 ----
  
      goto/16 :goto_0
  
+     .line 776
      :cond_1c
      move-object/from16 v0, p1
  
***************
*** 1904,1909 ****
--- 2083,2089 ----
  
      check-cast v23, Lcom/android/server/pm/PackageVerificationResponse;
  
+     .line 778
      .local v23, response:Lcom/android/server/pm/PackageVerificationResponse;
      move-object/from16 v0, v23
  
***************
*** 1925,1936 ****
--- 2105,2118 ----
  
      invoke-virtual {v0, v1, v2}, Lcom/android/server/pm/PackageVerificationState;->setVerifierResponse(II)Z
  
+     .line 780
      invoke-virtual/range {v26 .. v26}, Lcom/android/server/pm/PackageVerificationState;->isVerificationComplete()Z
  
      move-result v31
  
      if-eqz v31, :cond_0
  
+     .line 781
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 1949,1958 ****
--- 2131,2142 ----
  
      invoke-virtual {v0, v1}, Landroid/util/SparseArray;->remove(I)V
  
+     .line 783
      invoke-virtual/range {v26 .. v26}, Lcom/android/server/pm/PackageVerificationState;->getInstallArgs()Lcom/android/server/pm/PackageManagerService$InstallArgs;
  
      move-result-object v4
  
+     .line 786
      .restart local v4       #args:Lcom/android/server/pm/PackageManagerService$InstallArgs;
      invoke-virtual/range {v26 .. v26}, Lcom/android/server/pm/PackageVerificationState;->isInstallAllowed()Z
  
***************
*** 1960,1967 ****
--- 2144,2153 ----
  
      if-eqz v31, :cond_1d
  
+     .line 787
      const/16 v24, -0x6e
  
+     .line 789
      .restart local v24       #ret:I
      :try_start_c
      move-object/from16 v0, p0
***************
*** 1987,1992 ****
--- 2173,2179 ----
  
      move-result v24
  
+     .line 797
      :goto_9
      move-object/from16 v0, p0
  
***************
*** 2001,2006 ****
--- 2188,2194 ----
      #calls: Lcom/android/server/pm/PackageManagerService;->processPendingInstall(Lcom/android/server/pm/PackageManagerService$InstallArgs;I)V
      invoke-static {v0, v4, v1}, Lcom/android/server/pm/PackageManagerService;->access$600(Lcom/android/server/pm/PackageManagerService;Lcom/android/server/pm/PackageManagerService$InstallArgs;I)V
  
+     .line 799
      move-object/from16 v0, p0
  
      iget-object v0, v0, Lcom/android/server/pm/PackageManagerService$PackageHandler;->this$0:Lcom/android/server/pm/PackageManagerService;
***************
*** 2019,2027 ****
--- 2207,2217 ----
  
      goto/16 :goto_0
  
+     .line 790
      :catch_2
      move-exception v10
  
+     .line 791
      .restart local v10       #e:Landroid/os/RemoteException;
      const-string v31, "PackageManager"
  
***************
*** 2031,2036 ****
--- 2221,2227 ----
  
      goto :goto_9
  
+     .line 794
      .end local v10           #e:Landroid/os/RemoteException;
      .end local v24           #ret:I
      :cond_1d
***************
*** 2039,2044 ****
--- 2230,2236 ----
      .restart local v24       #ret:I
      goto :goto_9
  
+     .line 480
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_6
***************
*** 2067,2081 ****
--- 2259,2277 ----
      .prologue
      const/16 v1, 0xa
  
+     .line 473
      :try_start_0
      invoke-virtual {p0, p1}, Lcom/android/server/pm/PackageManagerService$PackageHandler;->doHandleMessage(Landroid/os/Message;)V
      :try_end_0
      .catchall {:try_start_0 .. :try_end_0} :catchall_0
  
+     .line 475
      invoke-static {v1}, Landroid/os/Process;->setThreadPriority(I)V
  
+     .line 477
      return-void
  
+     .line 475
      :catchall_0
      move-exception v0
  
