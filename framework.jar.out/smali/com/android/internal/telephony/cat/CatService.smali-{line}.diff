*** /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/framework.jar.out/smali/com/android/internal/telephony/cat/CatService.smali	2012-03-23 19:37:44.048578307 -0500
--- /home/dhacker29/patchrom/spyder/temp/dst_smali_orig/framework.jar.out/smali/com/android/internal/telephony/cat/CatService.smali.original	2012-03-23 19:34:46.298337037 -0500
***************
*** 71,76 ****
--- 71,77 ----
      .locals 1
  
      .prologue
+     .line 67
      new-instance v0, Ljava/lang/Object;
  
      invoke-direct {v0}, Ljava/lang/Object;-><init>()V
***************
*** 93,106 ****
--- 94,112 ----
  
      const/4 v2, 0x0
  
+     .line 101
      invoke-direct {p0}, Landroid/os/Handler;-><init>()V
  
+     .line 71
      iput-object v2, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
+     .line 72
      iput-object v2, p0, Lcom/android/internal/telephony/cat/CatService;->mMenuCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
+     .line 74
      iput-object v2, p0, Lcom/android/internal/telephony/cat/CatService;->mMsgDecoder:Lcom/android/internal/telephony/cat/RilMessageDecoder;
  
+     .line 102
      if-eqz p1, :cond_0
  
      if-eqz p2, :cond_0
***************
*** 111,116 ****
--- 117,123 ----
  
      if-nez p5, :cond_1
  
+     .line 104
      :cond_0
      new-instance v0, Ljava/lang/NullPointerException;
  
***************
*** 120,184 ****
--- 127,205 ----
  
      throw v0
  
+     .line 107
      :cond_1
      iput-object p1, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
+     .line 108
      iput-object p3, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
+     .line 111
      invoke-static {p0, p4}, Lcom/android/internal/telephony/cat/RilMessageDecoder;->getInstance(Landroid/os/Handler;Lcom/android/internal/telephony/IccFileHandler;)Lcom/android/internal/telephony/cat/RilMessageDecoder;
  
      move-result-object v0
  
      iput-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mMsgDecoder:Lcom/android/internal/telephony/cat/RilMessageDecoder;
  
+     .line 114
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      const/4 v1, 0x1
  
      invoke-interface {v0, p0, v1, v2}, Lcom/android/internal/telephony/CommandsInterface;->setOnCatSessionEnd(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 115
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      const/4 v1, 0x2
  
      invoke-interface {v0, p0, v1, v2}, Lcom/android/internal/telephony/CommandsInterface;->setOnCatProactiveCmd(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 116
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      const/4 v1, 0x3
  
      invoke-interface {v0, p0, v1, v2}, Lcom/android/internal/telephony/CommandsInterface;->setOnCatEvent(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 117
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      const/4 v1, 0x4
  
      invoke-interface {v0, p0, v1, v2}, Lcom/android/internal/telephony/CommandsInterface;->setOnCatCallSetUp(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 120
      sput-object p2, Lcom/android/internal/telephony/cat/CatService;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
  
+     .line 123
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0, v3, v2}, Lcom/android/internal/telephony/CommandsInterface;->registerForSIMReady(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 124
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0, v3, v2}, Lcom/android/internal/telephony/CommandsInterface;->registerForRUIMReady(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 125
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0, v3, v2}, Lcom/android/internal/telephony/CommandsInterface;->registerForNVReady(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 126
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
  
      const/16 v1, 0x14
  
      invoke-virtual {v0, p0, v1, v2}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 128
      const-string v0, "Is running"
  
      invoke-static {p0, v0}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 129
      return-void
  .end method
  
***************
*** 190,204 ****
--- 211,228 ----
      .parameter "buf"
  
      .prologue
+     .line 367
      iget v1, p1, Lcom/android/internal/telephony/cat/CommandDetails;->typeOfCommand:I
  
      invoke-static {v1}, Lcom/android/internal/telephony/cat/AppInterface$CommandType;->fromInt(I)Lcom/android/internal/telephony/cat/AppInterface$CommandType;
  
      move-result-object v0
  
+     .line 368
      .local v0, cmdType:Lcom/android/internal/telephony/cat/AppInterface$CommandType;
      if-eqz v0, :cond_1
  
+     .line 369
      sget-object v1, Lcom/android/internal/telephony/cat/CatService$1;->$SwitchMap$com$android$internal$telephony$cat$AppInterface$CommandType:[I
  
      invoke-virtual {v0}, Lcom/android/internal/telephony/cat/AppInterface$CommandType;->ordinal()I
***************
*** 209,214 ****
--- 233,239 ----
  
      sparse-switch v1, :sswitch_data_0
  
+     .line 386
      new-instance v1, Ljava/lang/StringBuilder;
  
      invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
***************
*** 231,240 ****
--- 256,267 ----
  
      invoke-static {p0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 392
      :cond_0
      :goto_0
      return-void
  
+     .line 374
      :sswitch_0
      invoke-virtual {p2}, Lcom/android/internal/telephony/cat/ResultCode;->value()I
  
***************
*** 254,263 ****
--- 281,292 ----
  
      if-eqz v1, :cond_0
  
+     .line 376
      invoke-direct {p0, p4, p3}, Lcom/android/internal/telephony/cat/CatService;->getInKeyResponse(Ljava/io/ByteArrayOutputStream;Lcom/android/internal/telephony/cat/Input;)V
  
      goto :goto_0
  
+     .line 380
      :sswitch_1
      iget v1, p1, Lcom/android/internal/telephony/cat/CommandDetails;->commandQualifier:I
  
***************
*** 277,286 ****
--- 306,317 ----
  
      if-ne v1, v2, :cond_0
  
+     .line 382
      invoke-direct {p0, p4}, Lcom/android/internal/telephony/cat/CatService;->getPliResponse(Ljava/io/ByteArrayOutputStream;)V
  
      goto :goto_0
  
+     .line 390
      :cond_1
      new-instance v1, Ljava/lang/StringBuilder;
  
***************
*** 306,311 ****
--- 337,343 ----
  
      goto :goto_0
  
+     .line 369
      :sswitch_data_0
      .sparse-switch
          0x5 -> :sswitch_1
***************
*** 322,341 ****
--- 354,378 ----
      .parameter "oneShot"
  
      .prologue
+     .line 462
      new-instance v2, Ljava/io/ByteArrayOutputStream;
  
      invoke-direct {v2}, Ljava/io/ByteArrayOutputStream;-><init>()V
  
+     .line 465
      .local v2, buf:Ljava/io/ByteArrayOutputStream;
      const/16 v8, 0xd6
  
+     .line 466
      .local v8, tag:I
      invoke-virtual {v2, v8}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 469
      const/4 v9, 0x0
  
      invoke-virtual {v2, v9}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 472
      sget-object v9, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->EVENT_LIST:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v9}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
***************
*** 344,357 ****
--- 381,398 ----
  
      or-int/lit16 v8, v9, 0x80
  
+     .line 473
      invoke-virtual {v2, v8}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 474
      const/4 v9, 0x1
  
      invoke-virtual {v2, v9}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 475
      invoke-virtual {v2, p1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 478
      sget-object v9, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->DEVICE_IDENTITIES:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v9}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
***************
*** 360,377 ****
--- 401,424 ----
  
      or-int/lit16 v8, v9, 0x80
  
+     .line 479
      invoke-virtual {v2, v8}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 480
      const/4 v9, 0x2
  
      invoke-virtual {v2, v9}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 481
      invoke-virtual {v2, p2}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 482
      invoke-virtual {v2, p3}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 485
      if-eqz p4, :cond_0
  
+     .line 486
      move-object v0, p4
  
      .local v0, arr$:[B
***************
*** 386,398 ****
--- 433,448 ----
  
      aget-byte v1, v0, v4
  
+     .line 487
      .local v1, b:B
      invoke-virtual {v2, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 486
      add-int/lit8 v4, v4, 0x1
  
      goto :goto_0
  
+     .line 491
      .end local v0           #arr$:[B
      .end local v1           #b:B
      .end local v4           #i$:I
***************
*** 402,412 ****
--- 452,464 ----
  
      move-result-object v7
  
+     .line 494
      .local v7, rawData:[B
      array-length v9, v7
  
      add-int/lit8 v5, v9, -0x2
  
+     .line 495
      .local v5, len:I
      const/4 v9, 0x1
  
***************
*** 414,423 ****
--- 466,477 ----
  
      aput-byte v10, v7, v9
  
+     .line 497
      invoke-static {v7}, Lcom/android/internal/telephony/IccUtils;->bytesToHexString([B)Ljava/lang/String;
  
      move-result-object v3
  
+     .line 499
      .local v3, hexString:Ljava/lang/String;
      iget-object v9, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
***************
*** 425,430 ****
--- 479,485 ----
  
      invoke-interface {v9, v3, v10}, Lcom/android/internal/telephony/CommandsInterface;->sendEnvelope(Ljava/lang/String;Landroid/os/Message;)V
  
+     .line 500
      return-void
  .end method
  
***************
*** 434,452 ****
--- 489,511 ----
      .parameter "cmdInput"
  
      .prologue
+     .line 395
      sget-object v1, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->DURATION:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v1}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
  
      move-result v0
  
+     .line 397
      .local v0, tag:I
      invoke-virtual {p1, v0}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 398
      const/4 v1, 0x2
  
      invoke-virtual {p1, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 399
      iget-object v1, p2, Lcom/android/internal/telephony/cat/Input;->duration:Lcom/android/internal/telephony/cat/Duration;
  
      iget-object v1, v1, Lcom/android/internal/telephony/cat/Duration;->timeUnit:Lcom/android/internal/telephony/cat/Duration$TimeUnit;
***************
*** 459,470 ****
--- 518,531 ----
  
      invoke-virtual {p1, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 400
      iget-object v1, p2, Lcom/android/internal/telephony/cat/Input;->duration:Lcom/android/internal/telephony/cat/Duration;
  
      iget v1, v1, Lcom/android/internal/telephony/cat/Duration;->timeInterval:I
  
      invoke-virtual {p1, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 401
      return-void
  .end method
  
***************
*** 474,479 ****
--- 535,541 ----
      .prologue
      const/4 v0, 0x0
  
+     .line 544
      invoke-static {v0, v0, v0, v0, v0}, Lcom/android/internal/telephony/cat/CatService;->getInstance(Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/IccRecords;Landroid/content/Context;Lcom/android/internal/telephony/IccFileHandler;Lcom/android/internal/telephony/IccCard;)Lcom/android/internal/telephony/cat/CatService;
  
      move-result-object v0
***************
*** 492,506 ****
--- 554,571 ----
      .prologue
      const/4 v0, 0x0
  
+     .line 514
      sget-object v7, Lcom/android/internal/telephony/cat/CatService;->sInstanceLock:Ljava/lang/Object;
  
      monitor-enter v7
  
+     .line 515
      :try_start_0
      sget-object v1, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
      if-nez v1, :cond_2
  
+     .line 516
      if-eqz p0, :cond_0
  
      if-eqz p1, :cond_0
***************
*** 511,522 ****
--- 576,590 ----
  
      if-nez p4, :cond_1
  
+     .line 518
      :cond_0
      monitor-exit v7
  
+     .line 534
      :goto_0
      return-object v0
  
+     .line 520
      :cond_1
      new-instance v6, Landroid/os/HandlerThread;
  
***************
*** 524,532 ****
--- 592,602 ----
  
      invoke-direct {v6, v0}, Landroid/os/HandlerThread;-><init>(Ljava/lang/String;)V
  
+     .line 521
      .local v6, thread:Landroid/os/HandlerThread;
      invoke-virtual {v6}, Landroid/os/HandlerThread;->start()V
  
+     .line 522
      new-instance v0, Lcom/android/internal/telephony/cat/CatService;
  
      move-object v1, p0
***************
*** 543,554 ****
--- 613,626 ----
  
      sput-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
+     .line 523
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
      const-string v1, "NEW sInstance"
  
      invoke-static {v0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 534
      .end local v6           #thread:Landroid/os/HandlerThread;
      :goto_1
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
***************
*** 557,562 ****
--- 629,635 ----
  
      goto :goto_0
  
+     .line 535
      :catchall_0
      move-exception v0
  
***************
*** 566,571 ****
--- 639,645 ----
  
      throw v0
  
+     .line 524
      :cond_2
      if-eqz p1, :cond_3
  
***************
*** 574,587 ****
--- 648,664 ----
  
      if-eq v0, p1, :cond_3
  
+     .line 525
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
      const-string v1, "Reinitialize the Service with SIMRecords"
  
      invoke-static {v0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 526
      sput-object p1, Lcom/android/internal/telephony/cat/CatService;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
  
+     .line 529
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
  
      sget-object v1, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
***************
*** 592,605 ****
  
      invoke-virtual {v0, v1, v2, v3}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
  
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
!     const-string v1, "sr changed reinitialize and return current sInstance"
  
      invoke-static {v0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
      goto :goto_1
  
      :cond_3
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
--- 669,684 ----
  
      invoke-virtual {v0, v1, v2, v3}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
  
+     .line 530
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
!     const-string/jumbo v1, "sr changed reinitialize and return current sInstance"
  
      invoke-static {v0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
      goto :goto_1
  
+     .line 532
      :cond_3
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->sInstance:Lcom/android/internal/telephony/cat/CatService;
  
***************
*** 617,646 ****
      .parameter "buf"
  
      .prologue
!     const-string v2, "persist.sys.language"
  
      invoke-static {v2}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;
  
      move-result-object v0
  
      .local v0, lang:Ljava/lang/String;
      if-eqz v0, :cond_0
  
      sget-object v2, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->LANGUAGE:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v2}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
  
      move-result v1
  
      .local v1, tag:I
      invoke-virtual {p1, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
      invoke-virtual {v0}, Ljava/lang/String;->length()I
  
      move-result v2
  
      invoke-static {p1, v2}, Lcom/android/internal/telephony/cat/ResponseData;->writeLength(Ljava/io/ByteArrayOutputStream;I)V
  
      invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
  
      move-result-object v2
--- 696,731 ----
      .parameter "buf"
  
      .prologue
!     .line 406
!     const-string/jumbo v2, "persist.sys.language"
  
      invoke-static {v2}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;
  
      move-result-object v0
  
+     .line 408
      .local v0, lang:Ljava/lang/String;
      if-eqz v0, :cond_0
  
+     .line 410
      sget-object v2, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->LANGUAGE:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v2}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
  
      move-result v1
  
+     .line 411
      .local v1, tag:I
      invoke-virtual {p1, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 412
      invoke-virtual {v0}, Ljava/lang/String;->length()I
  
      move-result v2
  
      invoke-static {p1, v2}, Lcom/android/internal/telephony/cat/ResponseData;->writeLength(Ljava/io/ByteArrayOutputStream;I)V
  
+     .line 413
      invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
  
      move-result-object v2
***************
*** 653,658 ****
--- 738,744 ----
  
      invoke-virtual {p1, v2, v3, v4}, Ljava/io/ByteArrayOutputStream;->write([BII)V
  
+     .line 415
      .end local v1           #tag:I
      :cond_0
      return-void
***************
*** 667,692 ****
--- 753,784 ----
  
      const/4 v3, 0x0
  
+     .line 628
      invoke-direct {p0, p1}, Lcom/android/internal/telephony/cat/CatService;->validateResponse(Lcom/android/internal/telephony/cat/CatResponseMessage;)Z
  
      move-result v0
  
      if-nez v0, :cond_0
  
+     .line 694
      :goto_0
      return-void
  
+     .line 631
      :cond_0
      const/4 v5, 0x0
  
+     .line 632
      .local v5, resp:Lcom/android/internal/telephony/cat/ResponseData;
      const/4 v6, 0x0
  
+     .line 633
      .local v6, helpRequired:Z
      invoke-virtual {p1}, Lcom/android/internal/telephony/cat/CatResponseMessage;->getCmdDetails()Lcom/android/internal/telephony/cat/CommandDetails;
  
      move-result-object v1
  
+     .line 635
      .local v1, cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
      sget-object v0, Lcom/android/internal/telephony/cat/CatService$1;->$SwitchMap$com$android$internal$telephony$cat$ResultCode:[I
  
***************
*** 702,710 ****
--- 794,804 ----
  
      goto :goto_0
  
+     .line 637
      :pswitch_0
      const/4 v6, 0x1
  
+     .line 649
      :pswitch_1
      sget-object v0, Lcom/android/internal/telephony/cat/CatService$1;->$SwitchMap$com$android$internal$telephony$cat$AppInterface$CommandType:[I
  
***************
*** 722,727 ****
--- 816,822 ----
  
      packed-switch v0, :pswitch_data_1
  
+     .line 692
      :cond_1
      :goto_1
      :pswitch_2
***************
*** 733,742 ****
--- 828,839 ----
  
      invoke-direct/range {v0 .. v5}, Lcom/android/internal/telephony/cat/CatService;->sendTerminalResponse(Lcom/android/internal/telephony/cat/CommandDetails;Lcom/android/internal/telephony/cat/ResultCode;ZILcom/android/internal/telephony/cat/ResponseData;)V
  
+     .line 693
      iput-object v8, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      goto :goto_0
  
+     .line 651
      :pswitch_3
      iget-object v0, p1, Lcom/android/internal/telephony/cat/CatResponseMessage;->resCode:Lcom/android/internal/telephony/cat/ResultCode;
  
***************
*** 746,751 ****
--- 843,849 ----
  
      const/4 v6, 0x1
  
+     .line 652
      :goto_2
      iget v0, p1, Lcom/android/internal/telephony/cat/CatResponseMessage;->usersMenuSelection:I
  
***************
*** 756,763 ****
--- 854,863 ----
      :cond_2
      move v6, v3
  
+     .line 651
      goto :goto_2
  
+     .line 655
      :pswitch_4
      new-instance v5, Lcom/android/internal/telephony/cat/SelectItemResponseData;
  
***************
*** 766,774 ****
--- 866,876 ----
  
      invoke-direct {v5, v0}, Lcom/android/internal/telephony/cat/SelectItemResponseData;-><init>(I)V
  
+     .line 656
      .restart local v5       #resp:Lcom/android/internal/telephony/cat/ResponseData;
      goto :goto_1
  
+     .line 659
      :pswitch_5
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
***************
*** 776,788 ****
--- 878,893 ----
  
      move-result-object v7
  
+     .line 660
      .local v7, input:Lcom/android/internal/telephony/cat/Input;
      iget-boolean v0, v7, Lcom/android/internal/telephony/cat/Input;->yesNo:Z
  
      if-nez v0, :cond_3
  
+     .line 663
      if-nez v6, :cond_1
  
+     .line 664
      new-instance v5, Lcom/android/internal/telephony/cat/GetInkeyInputResponseData;
  
      .end local v5           #resp:Lcom/android/internal/telephony/cat/ResponseData;
***************
*** 797,802 ****
--- 902,908 ----
      .restart local v5       #resp:Lcom/android/internal/telephony/cat/ResponseData;
      goto :goto_1
  
+     .line 668
      :cond_3
      new-instance v5, Lcom/android/internal/telephony/cat/GetInkeyInputResponseData;
  
***************
*** 805,813 ****
--- 911,921 ----
  
      invoke-direct {v5, v0}, Lcom/android/internal/telephony/cat/GetInkeyInputResponseData;-><init>(Z)V
  
+     .line 671
      .restart local v5       #resp:Lcom/android/internal/telephony/cat/ResponseData;
      goto :goto_1
  
+     .line 676
      .end local v7           #input:Lcom/android/internal/telephony/cat/Input;
      :pswitch_6
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
***************
*** 816,830 ****
--- 924,942 ----
  
      invoke-interface {v0, v2, v8}, Lcom/android/internal/telephony/CommandsInterface;->handleCallSetupRequestFromSim(ZLandroid/os/Message;)V
  
+     .line 680
      iput-object v8, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      goto :goto_0
  
+     .line 687
      :pswitch_7
      const/4 v5, 0x0
  
+     .line 688
      goto :goto_1
  
+     .line 635
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_0
***************
*** 843,848 ****
--- 955,961 ----
          :pswitch_7
      .end packed-switch
  
+     .line 649
      :pswitch_data_1
      .packed-switch 0x1
          :pswitch_3
***************
*** 872,877 ****
--- 985,991 ----
  
      const/4 v3, 0x0
  
+     .line 205
      invoke-virtual {p1}, Lcom/android/internal/telephony/cat/CommandParams;->getCommandType()Lcom/android/internal/telephony/cat/AppInterface$CommandType;
  
      move-result-object v0
***************
*** 882,891 ****
--- 996,1007 ----
  
      invoke-static {p0, v0}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 208
      new-instance v6, Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      invoke-direct {v6, p1}, Lcom/android/internal/telephony/cat/CatCmdMessage;-><init>(Lcom/android/internal/telephony/cat/CommandParams;)V
  
+     .line 209
      .local v6, cmdMsg:Lcom/android/internal/telephony/cat/CatCmdMessage;
      sget-object v0, Lcom/android/internal/telephony/cat/CatService$1;->$SwitchMap$com$android$internal$telephony$cat$AppInterface$CommandType:[I
  
***************
*** 901,914 ****
--- 1017,1033 ----
  
      packed-switch v0, :pswitch_data_0
  
+     .line 278
      const-string v0, "Unsupported command"
  
      invoke-static {p0, v0}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 285
      .end local p1
      :goto_0
      return-void
  
+     .line 211
      .restart local p1
      :pswitch_0
      invoke-virtual {v6}, Lcom/android/internal/telephony/cat/CatCmdMessage;->getMenu()Lcom/android/internal/telephony/cat/Menu;
***************
*** 921,928 ****
--- 1040,1049 ----
  
      if-eqz v0, :cond_1
  
+     .line 212
      iput-object v5, p0, Lcom/android/internal/telephony/cat/CatService;->mMenuCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
+     .line 216
      :goto_1
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 934,962 ****
--- 1055,1088 ----
  
      invoke-direct/range {v0 .. v5}, Lcom/android/internal/telephony/cat/CatService;->sendTerminalResponse(Lcom/android/internal/telephony/cat/CommandDetails;Lcom/android/internal/telephony/cat/ResultCode;ZILcom/android/internal/telephony/cat/ResponseData;)V
  
+     .line 281
      .end local p1
      :cond_0
      :goto_2
      :pswitch_1
      iput-object v6, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
+     .line 282
      new-instance v7, Landroid/content/Intent;
  
      const-string v0, "android.intent.action.stk.command"
  
      invoke-direct {v7, v0}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 283
      .local v7, intent:Landroid/content/Intent;
      const-string v0, "STK CMD"
  
      invoke-virtual {v7, v0, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;
  
+     .line 284
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v0, v7}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
  
      goto :goto_0
  
+     .line 214
      .end local v7           #intent:Landroid/content/Intent;
      .restart local p1
      :cond_1
***************
*** 964,969 ****
--- 1090,1096 ----
  
      goto :goto_1
  
+     .line 220
      :pswitch_2
      invoke-virtual {v6}, Lcom/android/internal/telephony/cat/CatCmdMessage;->geTextMessage()Lcom/android/internal/telephony/cat/TextMessage;
  
***************
*** 973,978 ****
--- 1100,1106 ----
  
      if-nez v0, :cond_0
  
+     .line 221
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
      sget-object v2, Lcom/android/internal/telephony/cat/ResultCode;->OK:Lcom/android/internal/telephony/cat/ResultCode;
***************
*** 985,990 ****
--- 1113,1119 ----
  
      goto :goto_2
  
+     .line 227
      :pswitch_3
      iget-object v0, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 998,1003 ****
--- 1127,1133 ----
  
      goto :goto_2
  
+     .line 230
      :pswitch_4
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 1011,1016 ****
--- 1141,1147 ----
  
      goto :goto_2
  
+     .line 234
      :pswitch_5
      iget-object v0, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 1018,1023 ****
--- 1149,1155 ----
  
      packed-switch v0, :pswitch_data_1
  
+     .line 244
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
      sget-object v2, Lcom/android/internal/telephony/cat/ResultCode;->OK:Lcom/android/internal/telephony/cat/ResultCode;
***************
*** 1030,1040 ****
--- 1162,1174 ----
  
      goto :goto_0
  
+     .line 236
      :pswitch_6
      new-instance v9, Lcom/android/internal/telephony/cat/DTTZResponseData;
  
      invoke-direct {v9, v5}, Lcom/android/internal/telephony/cat/DTTZResponseData;-><init>(Ljava/util/Calendar;)V
  
+     .line 237
      .local v9, resp:Lcom/android/internal/telephony/cat/ResponseData;
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 1050,1055 ****
--- 1184,1190 ----
  
      goto :goto_0
  
+     .line 240
      .end local v9           #resp:Lcom/android/internal/telephony/cat/ResponseData;
      :pswitch_7
      new-instance v5, Lcom/android/internal/telephony/cat/LanguageResponseData;
***************
*** 1064,1069 ****
--- 1199,1205 ----
  
      invoke-direct {v5, v0}, Lcom/android/internal/telephony/cat/LanguageResponseData;-><init>(Ljava/lang/String;)V
  
+     .line 241
      .local v5, resp:Lcom/android/internal/telephony/cat/ResponseData;
      iget-object v1, p1, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
***************
*** 1081,1086 ****
--- 1217,1223 ----
      :pswitch_8
      move-object v0, p1
  
+     .line 248
      check-cast v0, Lcom/android/internal/telephony/cat/LaunchBrowserParams;
  
      iget-object v0, v0, Lcom/android/internal/telephony/cat/LaunchBrowserParams;->confirmMsg:Lcom/android/internal/telephony/cat/TextMessage;
***************
*** 1105,1110 ****
--- 1242,1248 ----
  
      if-eqz v0, :cond_0
  
+     .line 250
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
      const v1, 0x10404ca
***************
*** 1113,1118 ****
--- 1251,1257 ----
  
      move-result-object v8
  
+     .line 251
      .local v8, message:Ljava/lang/CharSequence;
      check-cast p1, Lcom/android/internal/telephony/cat/LaunchBrowserParams;
  
***************
*** 1132,1137 ****
--- 1271,1277 ----
      :pswitch_9
      move-object v0, p1
  
+     .line 262
      check-cast v0, Lcom/android/internal/telephony/cat/DisplayTextParams;
  
      iget-object v0, v0, Lcom/android/internal/telephony/cat/DisplayTextParams;->textMsg:Lcom/android/internal/telephony/cat/TextMessage;
***************
*** 1156,1161 ****
--- 1296,1302 ----
  
      if-eqz v0, :cond_0
  
+     .line 264
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
      const v1, 0x10404c9
***************
*** 1164,1169 ****
--- 1305,1311 ----
  
      move-result-object v8
  
+     .line 265
      .restart local v8       #message:Ljava/lang/CharSequence;
      check-cast p1, Lcom/android/internal/telephony/cat/DisplayTextParams;
  
***************
*** 1183,1188 ****
--- 1325,1331 ----
      :pswitch_a
      move-object v0, p1
  
+     .line 271
      check-cast v0, Lcom/android/internal/telephony/cat/CallSetupParams;
  
      iget-object v0, v0, Lcom/android/internal/telephony/cat/CallSetupParams;->confirmMsg:Lcom/android/internal/telephony/cat/TextMessage;
***************
*** 1207,1212 ****
--- 1350,1356 ----
  
      if-eqz v0, :cond_0
  
+     .line 273
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
      const v1, 0x10404cb
***************
*** 1215,1220 ****
--- 1359,1365 ----
  
      move-result-object v8
  
+     .line 274
      .restart local v8       #message:Ljava/lang/CharSequence;
      check-cast p1, Lcom/android/internal/telephony/cat/CallSetupParams;
  
***************
*** 1229,1234 ****
--- 1374,1380 ----
  
      goto/16 :goto_2
  
+     .line 209
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_0
***************
*** 1248,1253 ****
--- 1394,1400 ----
          :pswitch_a
      .end packed-switch
  
+     .line 234
      :pswitch_data_1
      .packed-switch 0x3
          :pswitch_6
***************
*** 1264,1278 ****
--- 1411,1429 ----
  
      const/4 v4, 0x0
  
+     .line 146
      if-nez p1, :cond_1
  
+     .line 197
      :cond_0
      :goto_0
      return-void
  
+     .line 151
      :cond_1
      const/4 v7, 0x0
  
+     .line 152
      .local v7, cmdParams:Lcom/android/internal/telephony/cat/CommandParams;
      iget v1, p1, Lcom/android/internal/telephony/cat/RilMessage;->mId:I
  
***************
*** 1281,1291 ****
--- 1432,1444 ----
      :pswitch_0
      goto :goto_0
  
+     .line 190
      :pswitch_1
      invoke-direct {p0}, Lcom/android/internal/telephony/cat/CatService;->handleSessionEnd()V
  
      goto :goto_0
  
+     .line 154
      :pswitch_2
      iget-object v1, p1, Lcom/android/internal/telephony/cat/RilMessage;->mResCode:Lcom/android/internal/telephony/cat/ResultCode;
  
***************
*** 1293,1310 ****
--- 1446,1467 ----
  
      if-ne v1, v2, :cond_0
  
+     .line 155
      iget-object v7, p1, Lcom/android/internal/telephony/cat/RilMessage;->mData:Ljava/lang/Object;
  
      .end local v7           #cmdParams:Lcom/android/internal/telephony/cat/CommandParams;
      check-cast v7, Lcom/android/internal/telephony/cat/CommandParams;
  
+     .line 156
      .restart local v7       #cmdParams:Lcom/android/internal/telephony/cat/CommandParams;
      if-eqz v7, :cond_0
  
+     .line 157
      invoke-direct {p0, v7}, Lcom/android/internal/telephony/cat/CatService;->handleProactiveCommand(Lcom/android/internal/telephony/cat/CommandParams;)V
  
      goto :goto_0
  
+     .line 163
      :pswitch_3
      :try_start_0
      iget-object v1, p1, Lcom/android/internal/telephony/cat/RilMessage;->mData:Ljava/lang/Object;
***************
*** 1317,1342 ****
--- 1474,1505 ----
      :try_end_0
      .catch Ljava/lang/ClassCastException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 171
      if-eqz v7, :cond_0
  
+     .line 172
      iget-object v1, p1, Lcom/android/internal/telephony/cat/RilMessage;->mResCode:Lcom/android/internal/telephony/cat/ResultCode;
  
      sget-object v2, Lcom/android/internal/telephony/cat/ResultCode;->OK:Lcom/android/internal/telephony/cat/ResultCode;
  
      if-ne v1, v2, :cond_2
  
+     .line 173
      invoke-direct {p0, v7}, Lcom/android/internal/telephony/cat/CatService;->handleProactiveCommand(Lcom/android/internal/telephony/cat/CommandParams;)V
  
      goto :goto_0
  
+     .line 164
      :catch_0
      move-exception v8
  
+     .line 166
      .local v8, e:Ljava/lang/ClassCastException;
      const-string v1, "Fail to parse proactive command"
  
      invoke-static {p0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 167
      iget-object v1, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      iget-object v2, v1, Lcom/android/internal/telephony/cat/CatCmdMessage;->mCmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
***************
*** 1351,1356 ****
--- 1514,1520 ----
  
      goto :goto_0
  
+     .line 178
      .end local v8           #e:Ljava/lang/ClassCastException;
      :cond_2
      iget-object v2, v7, Lcom/android/internal/telephony/cat/CommandParams;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
***************
*** 1365,1383 ****
--- 1529,1551 ----
  
      goto :goto_0
  
+     .line 184
      :pswitch_4
      iget-object v7, p1, Lcom/android/internal/telephony/cat/RilMessage;->mData:Ljava/lang/Object;
  
      .end local v7           #cmdParams:Lcom/android/internal/telephony/cat/CommandParams;
      check-cast v7, Lcom/android/internal/telephony/cat/CommandParams;
  
+     .line 185
      .restart local v7       #cmdParams:Lcom/android/internal/telephony/cat/CommandParams;
      if-eqz v7, :cond_0
  
+     .line 186
      invoke-direct {p0, v7}, Lcom/android/internal/telephony/cat/CatService;->handleProactiveCommand(Lcom/android/internal/telephony/cat/CommandParams;)V
  
      goto :goto_0
  
+     .line 152
      :pswitch_data_0
      .packed-switch 0x1
          :pswitch_1
***************
*** 1392,1416 ****
--- 1560,1589 ----
      .locals 2
  
      .prologue
+     .line 292
      const-string v1, "SESSION END"
  
      invoke-static {p0, v1}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 294
      iget-object v1, p0, Lcom/android/internal/telephony/cat/CatService;->mMenuCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      iput-object v1, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
+     .line 295
      new-instance v0, Landroid/content/Intent;
  
      const-string v1, "android.intent.action.stk.session_end"
  
      invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
  
+     .line 296
      .local v0, intent:Landroid/content/Intent;
      iget-object v1, p0, Lcom/android/internal/telephony/cat/CatService;->mContext:Landroid/content/Context;
  
      invoke-virtual {v1, v0}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
  
+     .line 297
      return-void
  .end method
  
***************
*** 1423,1428 ****
--- 1596,1602 ----
  
      const/4 v1, 0x1
  
+     .line 607
      :try_start_0
      iget-object v3, p1, Lcom/android/internal/telephony/cat/Menu;->items:Ljava/util/List;
  
***************
*** 1444,1455 ****
--- 1618,1632 ----
  
      if-nez v3, :cond_0
  
+     .line 614
      :goto_0
      return v1
  
+     .line 610
      :catch_0
      move-exception v0
  
+     .line 611
      .local v0, e:Ljava/lang/NullPointerException;
      const-string v2, "Unable to get Menu\'s items size"
  
***************
*** 1461,1466 ****
--- 1638,1644 ----
      :cond_0
      move v1, v2
  
+     .line 614
      goto :goto_0
  .end method
  
***************
*** 1474,1491 ****
--- 1652,1674 ----
  
      const/4 v6, 0x1
  
+     .line 419
      new-instance v0, Ljava/io/ByteArrayOutputStream;
  
      invoke-direct {v0}, Ljava/io/ByteArrayOutputStream;-><init>()V
  
+     .line 422
      .local v0, buf:Ljava/io/ByteArrayOutputStream;
      const/16 v4, 0xd3
  
+     .line 423
      .local v4, tag:I
      invoke-virtual {v0, v4}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 426
      invoke-virtual {v0, v7}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 429
      sget-object v5, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->DEVICE_IDENTITIES:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v5}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
***************
*** 1494,1511 ****
--- 1677,1699 ----
  
      or-int/lit16 v4, v5, 0x80
  
+     .line 430
      invoke-virtual {v0, v4}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 431
      const/4 v5, 0x2
  
      invoke-virtual {v0, v5}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 432
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 433
      const/16 v5, 0x81
  
      invoke-virtual {v0, v5}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 436
      sget-object v5, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->ITEM_ID:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v5}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
***************
*** 1514,1556 ****
--- 1702,1756 ----
  
      or-int/lit16 v4, v5, 0x80
  
+     .line 437
      invoke-virtual {v0, v4}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 438
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 439
      invoke-virtual {v0, p1}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 442
      if-eqz p2, :cond_0
  
+     .line 443
      sget-object v5, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->HELP_REQUEST:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v5}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
  
      move-result v4
  
+     .line 444
      invoke-virtual {v0, v4}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 445
      invoke-virtual {v0, v7}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 448
      :cond_0
      invoke-virtual {v0}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
  
      move-result-object v3
  
+     .line 451
      .local v3, rawData:[B
      array-length v5, v3
  
      add-int/lit8 v2, v5, -0x2
  
+     .line 452
      .local v2, len:I
      int-to-byte v5, v2
  
      aput-byte v5, v3, v6
  
+     .line 454
      invoke-static {v3}, Lcom/android/internal/telephony/IccUtils;->bytesToHexString([B)Ljava/lang/String;
  
      move-result-object v1
  
+     .line 456
      .local v1, hexString:Ljava/lang/String;
      iget-object v5, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
***************
*** 1558,1563 ****
--- 1758,1764 ----
  
      invoke-interface {v5, v1, v6}, Lcom/android/internal/telephony/CommandsInterface;->sendEnvelope(Ljava/lang/String;Landroid/os/Message;)V
  
+     .line 457
      return-void
  .end method
  
***************
*** 1572,1601 ****
--- 1773,1809 ----
      .prologue
      const/4 v3, 0x2
  
+     .line 303
      if-nez p1, :cond_0
  
+     .line 363
      :goto_0
      return-void
  
+     .line 306
      :cond_0
      new-instance v0, Ljava/io/ByteArrayOutputStream;
  
      invoke-direct {v0}, Ljava/io/ByteArrayOutputStream;-><init>()V
  
+     .line 308
      .local v0, buf:Ljava/io/ByteArrayOutputStream;
      const/4 v1, 0x0
  
+     .line 309
      .local v1, cmdInput:Lcom/android/internal/telephony/cat/Input;
      iget-object v6, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      if-eqz v6, :cond_1
  
+     .line 310
      iget-object v6, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      invoke-virtual {v6}, Lcom/android/internal/telephony/cat/CatCmdMessage;->geInput()Lcom/android/internal/telephony/cat/Input;
  
      move-result-object v1
  
+     .line 314
      :cond_1
      sget-object v6, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->COMMAND_DETAILS:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
***************
*** 1603,1652 ****
--- 1811,1873 ----
  
      move-result v5
  
+     .line 315
      .local v5, tag:I
      iget-boolean v6, p1, Lcom/android/internal/telephony/cat/CommandDetails;->compRequired:Z
  
      if-eqz v6, :cond_2
  
+     .line 316
      or-int/lit16 v5, v5, 0x80
  
+     .line 318
      :cond_2
      invoke-virtual {v0, v5}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 319
      const/4 v6, 0x3
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 320
      iget v6, p1, Lcom/android/internal/telephony/cat/CommandDetails;->commandNumber:I
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 321
      iget v6, p1, Lcom/android/internal/telephony/cat/CommandDetails;->typeOfCommand:I
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 322
      iget v6, p1, Lcom/android/internal/telephony/cat/CommandDetails;->commandQualifier:I
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 331
      sget-object v6, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->DEVICE_IDENTITIES:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v6}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
  
      move-result v5
  
+     .line 332
      invoke-virtual {v0, v5}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 333
      invoke-virtual {v0, v3}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 334
      const/16 v6, 0x82
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 335
      const/16 v6, 0x81
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 338
      sget-object v6, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->RESULT:Lcom/android/internal/telephony/cat/ComprehensionTlvTag;
  
      invoke-virtual {v6}, Lcom/android/internal/telephony/cat/ComprehensionTlvTag;->value()I
***************
*** 1655,1693 ****
--- 1876,1925 ----
  
      or-int/lit16 v5, v6, 0x80
  
+     .line 339
      invoke-virtual {v0, v5}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 340
      if-eqz p3, :cond_4
  
+     .line 341
      .local v3, length:I
      :goto_1
      invoke-virtual {v0, v3}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 342
      invoke-virtual {p2}, Lcom/android/internal/telephony/cat/ResultCode;->value()I
  
      move-result v6
  
      invoke-virtual {v0, v6}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 345
      if-eqz p3, :cond_3
  
+     .line 346
      invoke-virtual {v0, p4}, Ljava/io/ByteArrayOutputStream;->write(I)V
  
+     .line 350
      :cond_3
      if-eqz p5, :cond_5
  
+     .line 351
      invoke-virtual {p5, v0}, Lcom/android/internal/telephony/cat/ResponseData;->format(Ljava/io/ByteArrayOutputStream;)V
  
+     .line 356
      :goto_2
      invoke-virtual {v0}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
  
      move-result-object v4
  
+     .line 357
      .local v4, rawData:[B
      invoke-static {v4}, Lcom/android/internal/telephony/IccUtils;->bytesToHexString([B)Ljava/lang/String;
  
      move-result-object v2
  
+     .line 362
      .local v2, hexString:Ljava/lang/String;
      iget-object v6, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
***************
*** 1697,1702 ****
--- 1929,1935 ----
  
      goto :goto_0
  
+     .line 340
      .end local v2           #hexString:Ljava/lang/String;
      .end local v3           #length:I
      .end local v4           #rawData:[B
***************
*** 1705,1710 ****
--- 1938,1944 ----
  
      goto :goto_1
  
+     .line 353
      .restart local v3       #length:I
      :cond_5
      invoke-direct {p0, p1, p2, v1, v0}, Lcom/android/internal/telephony/cat/CatService;->encodeOptionalTags(Lcom/android/internal/telephony/cat/CommandDetails;Lcom/android/internal/telephony/cat/ResultCode;Lcom/android/internal/telephony/cat/Input;Ljava/io/ByteArrayOutputStream;)V
***************
*** 1717,1726 ****
--- 1951,1962 ----
      .parameter "resMsg"
  
      .prologue
+     .line 599
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
  
      if-eqz v0, :cond_0
  
+     .line 600
      iget-object v0, p1, Lcom/android/internal/telephony/cat/CatResponseMessage;->cmdDet:Lcom/android/internal/telephony/cat/CommandDetails;
  
      iget-object v1, p0, Lcom/android/internal/telephony/cat/CatService;->mCurrntCmd:Lcom/android/internal/telephony/cat/CatCmdMessage;
***************
*** 1731,1736 ****
--- 1967,1973 ----
  
      move-result v0
  
+     .line 602
      :goto_0
      return v0
  
***************
*** 1746,1775 ****
--- 1983,2019 ----
      .locals 1
  
      .prologue
+     .line 132
      sget-object v0, Lcom/android/internal/telephony/cat/CatService;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
  
      invoke-virtual {v0, p0}, Lcom/android/internal/telephony/IccRecords;->unregisterForRecordsLoaded(Landroid/os/Handler;)V
  
+     .line 133
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0}, Lcom/android/internal/telephony/CommandsInterface;->unSetOnCatSessionEnd(Landroid/os/Handler;)V
  
+     .line 134
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0}, Lcom/android/internal/telephony/CommandsInterface;->unSetOnCatProactiveCmd(Landroid/os/Handler;)V
  
+     .line 135
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0}, Lcom/android/internal/telephony/CommandsInterface;->unSetOnCatEvent(Landroid/os/Handler;)V
  
+     .line 136
      iget-object v0, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v0, p0}, Lcom/android/internal/telephony/CommandsInterface;->unSetOnCatCallSetUp(Landroid/os/Handler;)V
  
+     .line 138
      const/4 v0, 0x0
  
      invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cat/CatService;->removeCallbacksAndMessages(Ljava/lang/Object;)V
  
+     .line 139
      return-void
  .end method
  
***************
*** 1777,1786 ****
--- 2021,2032 ----
      .locals 1
  
      .prologue
+     .line 142
      const-string v0, "Service finalized"
  
      invoke-static {p0, v0}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 143
      return-void
  .end method
  
***************
*** 1791,1800 ****
--- 2037,2048 ----
      .prologue
      const/4 v6, 0x0
  
+     .line 550
      iget v3, p1, Landroid/os/Message;->what:I
  
      packed-switch v3, :pswitch_data_0
  
+     .line 585
      :pswitch_0
      new-instance v3, Ljava/lang/AssertionError;
  
***************
*** 1822,1843 ****
  
      throw v3
  
      :pswitch_1
!     const-string v3, "ril message arrived"
  
      invoke-static {p0, v3}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
      const/4 v1, 0x0
  
      .local v1, data:Ljava/lang/String;
      iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
      if-eqz v3, :cond_0
  
      iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
      check-cast v0, Landroid/os/AsyncResult;
  
      .local v0, ar:Landroid/os/AsyncResult;
      if-eqz v0, :cond_0
  
--- 2070,2096 ----
  
      throw v3
  
+     .line 555
      :pswitch_1
!     const-string/jumbo v3, "ril message arrived"
  
      invoke-static {p0, v3}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 556
      const/4 v1, 0x0
  
+     .line 557
      .local v1, data:Ljava/lang/String;
      iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
      if-eqz v3, :cond_0
  
+     .line 558
      iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
      check-cast v0, Landroid/os/AsyncResult;
  
+     .line 559
      .local v0, ar:Landroid/os/AsyncResult;
      if-eqz v0, :cond_0
  
***************
*** 1845,1850 ****
--- 2098,2104 ----
  
      if-eqz v3, :cond_0
  
+     .line 561
      :try_start_0
      iget-object v1, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
  
***************
*** 1853,1858 ****
--- 2107,2113 ----
      :try_end_0
      .catch Ljava/lang/ClassCastException; {:try_start_0 .. :try_end_0} :catch_0
  
+     .line 567
      .end local v0           #ar:Landroid/os/AsyncResult;
      .restart local v1       #data:Ljava/lang/String;
      :cond_0
***************
*** 1866,1883 ****
--- 2121,2142 ----
  
      invoke-virtual {v3, v4}, Lcom/android/internal/telephony/cat/RilMessageDecoder;->sendStartDecodingMessageParams(Lcom/android/internal/telephony/cat/RilMessage;)V
  
+     .line 587
      .end local v1           #data:Ljava/lang/String;
      :goto_0
      :pswitch_2
      return-void
  
+     .line 562
      .restart local v0       #ar:Landroid/os/AsyncResult;
      :catch_0
      move-exception v2
  
+     .line 563
      .local v2, e:Ljava/lang/ClassCastException;
      goto :goto_0
  
+     .line 570
      .end local v0           #ar:Landroid/os/AsyncResult;
      .end local v2           #e:Ljava/lang/ClassCastException;
      :pswitch_3
***************
*** 1893,1898 ****
--- 2152,2158 ----
  
      goto :goto_0
  
+     .line 575
      :pswitch_4
      iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
***************
*** 1902,1907 ****
--- 2162,2168 ----
  
      goto :goto_0
  
+     .line 578
      :pswitch_5
      iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
  
***************
*** 1911,1927 ****
--- 2172,2191 ----
  
      goto :goto_0
  
+     .line 581
      :pswitch_6
      const-string v3, "SIM ready. Reporting STK service running now..."
  
      invoke-static {p0, v3}, Lcom/android/internal/telephony/cat/CatLog;->d(Ljava/lang/Object;Ljava/lang/String;)V
  
+     .line 582
      iget-object v3, p0, Lcom/android/internal/telephony/cat/CatService;->mCmdIf:Lcom/android/internal/telephony/CommandsInterface;
  
      invoke-interface {v3, v6}, Lcom/android/internal/telephony/CommandsInterface;->reportStkServiceIsRunning(Landroid/os/Message;)V
  
      goto :goto_0
  
+     .line 550
      nop
  
      :pswitch_data_0
***************
*** 1954,1968 ****
--- 2218,2235 ----
      .parameter "resMsg"
  
      .prologue
+     .line 590
      monitor-enter p0
  
      if-nez p1, :cond_0
  
+     .line 596
      :goto_0
      monitor-exit p0
  
      return-void
  
+     .line 594
      :cond_0
      const/4 v1, 0x6
  
***************
*** 1971,1976 ****
--- 2238,2244 ----
  
      move-result-object v0
  
+     .line 595
      .local v0, msg:Landroid/os/Message;
      invoke-virtual {v0}, Landroid/os/Message;->sendToTarget()V
      :try_end_0
***************
*** 1978,1983 ****
--- 2246,2252 ----
  
      goto :goto_0
  
+     .line 590
      .end local v0           #msg:Landroid/os/Message;
      :catchall_0
      move-exception v1
